// Visual Feedback Mixins
// Requirements: 29.5 - Visual feedback for user interactions

@use "colors" as colors;

// Hover effect mixin
@mixin hover-effect($bg-color: colors.$hover-background, $scale: 1) {
  transition:
    background-color colors.$transition-normal,
    transform colors.$transition-fast;
  cursor: pointer;

  &:hover:not(:disabled) {
    background-color: $bg-color;
    @if $scale != 1 {
      transform: scale($scale);
    }
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

// Click feedback mixin (ripple effect simulation)
@mixin click-feedback {
  position: relative;
  overflow: hidden;

  &:active:not(:disabled) {
    transform: scale(0.98);
    transition: transform colors.$transition-fast;
  }
}

// Selected state mixin
@mixin selected-state(
  $bg-color: colors.$selected-background,
  $border-color: colors.$selected-border
) {
  background-color: $bg-color;
  border-left: 3px solid $border-color;
  box-shadow: 0 2px 4px colors.$shadow-light;
}

// Focus state mixin
@mixin focus-state($color: colors.$primary-color) {
  &:focus,
  &:focus-visible {
    outline: 2px solid $color;
    outline-offset: 2px;
    border-radius: colors.$border-radius-small;
  }
}

// Active button state mixin
@mixin active-button(
  $bg-color: colors.$active-background,
  $text-color: colors.$primary-dark
) {
  background-color: $bg-color;
  color: $text-color;
  box-shadow: inset 0 2px 4px colors.$shadow-light;
}

// Disabled state mixin
@mixin disabled-state {
  &:disabled,
  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
}

// Loading state mixin
@mixin loading-state {
  position: relative;
  pointer-events: none;

  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: colors.$overlay-light;
    border-radius: inherit;
  }
}

// Elevation/shadow mixin
@mixin elevation($level: 1) {
  @if $level == 1 {
    box-shadow: 0 2px 4px colors.$shadow-light;
  } @else if $level == 2 {
    box-shadow: 0 4px 8px colors.$shadow-medium;
  } @else if $level == 3 {
    box-shadow: 0 8px 16px colors.$shadow-dark;
  }
}

// Smooth transition mixin
@mixin smooth-transition(
  $properties: all,
  $duration: colors.$transition-normal
) {
  transition: $properties $duration ease;
}

// Highlight animation mixin
@mixin highlight-animation($color: colors.$primary-light) {
  animation: highlight 0.6s ease;

  @keyframes highlight {
    0% {
      background-color: transparent;
    }
    50% {
      background-color: $color;
    }
    100% {
      background-color: transparent;
    }
  }
}

// Pulse animation mixin
@mixin pulse-animation($scale: 1.05) {
  animation: pulse 1.5s ease-in-out infinite;

  @keyframes pulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale($scale);
    }
  }
}

// Fade in animation mixin
@mixin fade-in($duration: 0.3s) {
  animation: fadeIn $duration ease-in;

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

// Slide in animation mixin
@mixin slide-in($direction: "left", $duration: 0.3s) {
  animation: slideIn#{$direction} $duration ease-out;

  @if $direction == "left" {
    @keyframes slideInleft {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  } @else if $direction == "right" {
    @keyframes slideInright {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  }
}

// Interactive card mixin
@mixin interactive-card {
  @include hover-effect;
  @include click-feedback;
  @include smooth-transition(all);
  border-radius: colors.$border-radius-medium;
  cursor: pointer;

  &:hover {
    @include elevation(2);
  }
}

// Badge mixin
@mixin badge($bg-color, $text-color) {
  display: inline-block;
  padding: 2px 8px;
  border-radius: colors.$border-radius-small;
  font-size: colors.$font-size-xs;
  font-weight: 500;
  text-transform: uppercase;
  background-color: $bg-color;
  color: $text-color;
}

// Tooltip mixin
@mixin tooltip {
  position: relative;

  &::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 4px 8px;
    background-color: colors.$text-primary;
    color: colors.$background-primary;
    font-size: colors.$font-size-xs;
    border-radius: colors.$border-radius-small;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity colors.$transition-normal;
    z-index: colors.$z-index-tooltip;
  }

  &:hover::after {
    opacity: 1;
  }
}
