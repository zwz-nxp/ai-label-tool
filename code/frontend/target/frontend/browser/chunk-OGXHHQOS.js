import{a as ro,b as ji}from"./chunk-UOT7FRBJ.js";import{a as Zn,b as eo,c as to,d as Mt}from"./chunk-NRMGPXUI.js";import{a as ci}from"./chunk-ZG3XWPXL.js";import{a as oo,b as ao,c as si,f as di}from"./chunk-N5M4XZID.js";import{S as Xn,k as $n,lc as io,mc as li,n as Wn,q as ii,sd as no}from"./chunk-BAOJ77MB.js";import{$a as z,A as Ei,Aa as k,Ab as kn,Ac as O,Ae as Un,B as Pe,Bb as y,Bc as Vn,C as Ii,Ca as qt,Cb as S,Cc as Nn,D as ki,Da as R,Db as Ri,Dc as T,Df as ai,Ea as tt,Ec as Bn,Ee as Ce,Ef as Qn,F as q,Fa as te,Fb as Te,Fd as jn,Fe as _t,Ff as ke,Gd as Hn,Ha as Ve,Hb as Fi,I as wn,Ia as _,Ib as Dn,Ie as xt,If as ri,Ja as Yt,Jb as it,Ka as p,Kb as Be,La as Ne,Le as Me,M as Di,Ma as me,Mf as De,N as U,O as K,Ob as Ee,Oe as le,P as ee,Pb as j,Pd as ot,Pe as Ct,Qd as at,Qe as se,R as Xe,Rd as rt,Re as Kn,Sd as lt,Td as ti,Te as ni,U as Qe,Ue as Gn,V as Ze,Va as a,Vb as zn,Vd as st,Ve as qn,W as On,Wa as r,Wd as dt,We as $,X as pe,Xa as L,Xd as ct,Xe as Yn,Y as D,Ya as X,Yd as ae,Ye as W,Za as Q,Zd as pt,Ze as Jn,_a as Jt,_b as An,_d as Ie,ab as Xt,ac as N,ae as xe,ba as Se,bb as g,be as re,c as ce,ca as C,cb as m,cd as ei,ce as H,d as fe,da as M,dd as Ln,de as B,ga as kt,gc as Rn,ge as mt,gf as Li,h as vn,hb as In,ia as Tn,ib as Qt,ja as ve,jb as Dt,kb as zt,kc as Fn,l as P,lb as he,le as gt,m as yn,ma as et,mb as s,n as Pn,nb as E,nc as Vi,ob as F,od as nt,pb as we,pc as w,pd as Ni,pe as ut,q as A,qc as I,r as Fe,rd as Bi,re as ft,t as Ti,tb as ie,td as _e,ub as ne,vb as oe,ve as ht,wa as c,wb as Oe,xa as En,xd as Y,yb as zi,yf as oi,z as Sn,zb as Ai,zc as Zt,ze as J}from"./chunk-NJA2VFCC.js";import{a as u,b}from"./chunk-TSRGIXR5.js";var Hi=class{dataNodes;expansionModel=new Li(!0);trackBy;getLevel;isExpandable;getChildren;toggle(l){this.expansionModel.toggle(this._trackByValue(l))}expand(l){this.expansionModel.select(this._trackByValue(l))}collapse(l){this.expansionModel.deselect(this._trackByValue(l))}isExpanded(l){return this.expansionModel.isSelected(this._trackByValue(l))}toggleDescendants(l){this.expansionModel.isSelected(this._trackByValue(l))?this.collapseDescendants(l):this.expandDescendants(l)}collapseAll(){this.expansionModel.clear()}expandDescendants(l){let e=[l];e.push(...this.getDescendants(l)),this.expansionModel.select(...e.map(i=>this._trackByValue(i)))}collapseDescendants(l){let e=[l];e.push(...this.getDescendants(l)),this.expansionModel.deselect(...e.map(i=>this._trackByValue(i)))}_trackByValue(l){return this.trackBy?this.trackBy(l):l}},pi=class extends Hi{getLevel;isExpandable;options;constructor(l,e,i){super(),this.getLevel=l,this.isExpandable=e,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(l){let e=this.dataNodes.indexOf(l),i=[];for(let n=e+1;n<this.dataNodes.length&&this.getLevel(l)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(l=>this._trackByValue(l)))}};var Wi=new On("CDK_TREE_NODE_OUTLET_NODE"),mi=(()=>{class t{viewContainer=D(qt);_node=D(Wi,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["","cdkTreeNodeOutlet",""]]})}return t})(),$i=class{$implicit;level;index;count;constructor(l){this.$implicit=l}},gi=(()=>{class t{template=D(En);when;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return t})();function lo(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var bt=(()=>{class t{_differs=D(Dn);_changeDetectorRef=D(Fi);_elementRef=D(et);_dir=D(Ni);_onDestroy=new ce;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new fe({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new fe([]);_nodeType=new fe(null);_nodes=new fe(new Map);_keyManagerNodes=new fe([]);_keyManagerFactory=D(Ln);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(i=>!i.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Li(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;Hn(this._dataSource)?e=this._dataSource.connect(this):Pn(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=P(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(K(this._onDestroy)).subscribe(i=>{this._renderDataChanges(i)}))}_getRenderData(e){let i=this._getExpansionModel();return Fe([e,this._nodeType,i.changed.pipe(Di(null),ee(n=>{this._emitExpansionChanges(n)}))]).pipe(U(([n,o])=>o===null?P({renderNodes:n,flattenedNodes:null,nodeType:o}):this._computeRenderingData(n,o).pipe(A(d=>b(u({},d),{nodeType:o})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let i=this._nodes.value;for(let n of e.added)i.get(n)?._emitExpansionState(!0);for(let n of e.removed)i.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){let e=Fe([this._keyManagerNodes,this._nodes]).pipe(A(([n,o])=>n.reduce((d,x)=>{let f=o.get(this._getExpansionKey(x));return f&&d.push(f),d},[]))),i={trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,i)}_initializeDataDiffer(){let e=this.trackBy??((i,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,i=this._dataDiffer,n=this._nodeOutlet.viewContainer,o){let d=i.diff(e);!d&&!this._viewInit||(d?.forEachOperation((x,f,h)=>{if(x.previousIndex==null)this.insertNode(e[h],h,n,o);else if(h==null)n.remove(f);else{let v=n.get(f);n.move(v,h)}}),d?.forEachIdentityChange(x=>{let f=x.item;if(x.currentIndex!=null){let h=n.get(x.currentIndex);h.context.$implicit=f}}),o?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,i){if(this._nodeDefs.length===1)return this._nodeDefs.first;let n=this._nodeDefs.find(o=>o.when&&o.when(i,e))||this._defaultNodeDef;return n}insertNode(e,i,n,o){let d=this._getLevelAccessor(),x=this._getNodeDef(e,i),f=this._getExpansionKey(e),h=new $i(e);o??=this._parents.get(f)??void 0,d?h.level=d(e):o!==void 0&&this._levels.has(this._getExpansionKey(o))?h.level=this._levels.get(this._getExpansionKey(o))+1:h.level=0,this._levels.set(f,h.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(x.template,h,i),Le.mostRecentTreeNode&&(Le.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let i=this._expansionModel;i.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(q(1),K(this._onDestroy)).subscribe(n=>{i.select(...n.map(o=>this._getExpansionKey(o)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let i=this._expansionModel;i.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(q(1),K(this._onDestroy)).subscribe(n=>{i.deselect(...n.map(o=>this._getExpansionKey(o)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let i=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return P([]);let o=this._getExpansionKey(e),d=n.changed.pipe(U(f=>f.added.includes(o)?P(!0):f.removed.includes(o)?P(!1):vn),Di(this.isExpanded(e)));if(i)return Fe([d,this._flattenedNodes]).pipe(A(([f,h])=>f?this._findChildrenByLevel(i,h,e,1):[]));let x=this._getChildrenAccessor();if(x)return ei(x(e)??[]);throw lo()}_findChildrenByLevel(e,i,n,o){let d=this._getExpansionKey(n),x=i.findIndex(G=>this._getExpansionKey(G)===d),f=e(n),h=f+o,v=[];for(let G=x+1;G<i.length;G++){let Gt=e(i[G]);if(Gt<=f)break;Gt<=h&&v.push(i[G])}return v}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let i=this._getAriaSet(e),n=this._getExpansionKey(e);return i.findIndex(o=>this._getExpansionKey(o)===n)+1}_getNodeParent(e){let i=this._parents.get(this._getExpansionKey(e.data));return i&&this._nodes.value.get(this._getExpansionKey(i))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(A(i=>i.reduce((n,o)=>{let d=this._nodes.value.get(this._getExpansionKey(o));return d&&n.push(d),n},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let i=this._nodes.getValue();for(let[,n]of i)if(e.target===n._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return P(this.treeControl.getDescendants(e));if(this.levelAccessor){let i=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return P(i)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(Ii((i,n)=>(i.push(...n),i),[]));throw lo()}_getAllChildrenRecursively(e){return this.childrenAccessor?ei(this.childrenAccessor(e)).pipe(q(1),U(i=>{for(let n of i)this._parents.set(this._getExpansionKey(n),e);return P(...i).pipe(ki(n=>Ti(P([n]),this._getAllChildrenRecursively(n))))})):P([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let i=this._getExpansionKey(e),n=this._parents.get(i),o=n?this._getExpansionKey(n):null;return this._ariaSets.get(o)??[e]}_findParentForNode(e,i,n){if(!n.length)return null;let o=this._levels.get(this._getExpansionKey(e))??0;for(let d=i-1;d>=0;d--){let x=n[d];if((this._levels.get(this._getExpansionKey(x))??0)<o)return x}return null}_flattenNestedNodesWithExpansion(e,i=0){let n=this._getChildrenAccessor();return n?P(...e).pipe(ki(o=>{let d=this._getExpansionKey(o);this._parents.has(d)||this._parents.set(d,null),this._levels.set(d,i);let x=ei(n(o));return Ti(P([o]),x.pipe(q(1),ee(f=>{this._ariaSets.set(d,[...f??[]]);for(let h of f??[]){let v=this._getExpansionKey(h);this._parents.set(v,o),this._levels.set(v,i+1)}}),U(f=>f?this._flattenNestedNodesWithExpansion(f,i+1).pipe(A(h=>this.isExpanded(o)?h:[])):P([]))))}),Ii((o,d)=>(o.push(...d),o),[])):P([...e])}_computeRenderingData(e,i){if(this.childrenAccessor&&i==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(A(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&i==="nested"){let n=this.levelAccessor;return P(e.filter(o=>n(o)===0)).pipe(A(o=>({renderNodes:o,flattenedNodes:e})),ee(({flattenedNodes:o})=>{this._calculateParents(o)}))}else return i==="flat"?P({renderNodes:e,flattenedNodes:e}).pipe(ee(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(A(n=>({renderNodes:e,flattenedNodes:n}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let i=this._getLevelAccessor();if(i){this._clearPreviousCache();for(let n=0;n<e.length;n++){let o=e[n],d=this._getExpansionKey(o);this._levels.set(d,i(o));let x=this._findParentForNode(o,n,e);this._parents.set(d,x);let f=x?this._getExpansionKey(x):null,h=this._ariaSets.get(f)??[];h.splice(n,0,o),this._ariaSets.set(f,h)}}}_forEachExpansionKey(e){let i=[],n=[];this._nodes.value.forEach(o=>{i.push(this._getExpansionKey(o.data)),n.push(this._getDescendants(o.data))}),n.length>0?Fe(n).pipe(q(1),K(this._onDestroy)).subscribe(o=>{o.forEach(d=>d.forEach(x=>i.push(this._getExpansionKey(x)))),e(i)}):e(i)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=R({type:t,selectors:[["cdk-tree"]],contentQueries:function(i,n,o){if(i&1&&In(o,gi,5),i&2){let d;Dt(d=zt())&&(n._nodeDefs=d)}},viewQuery:function(i,n){if(i&1&&Qt(mi,7),i&2){let o;Dt(o=zt())&&(n._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(i,n){i&1&&g("keydown",function(d){return n._sendKeydownToKeyManager(d)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,n){i&1&&Jt(0,0)},dependencies:[mi],encapsulation:2})}return t})(),Le=(()=>{class t{_elementRef=D(et);_tree=D(bt);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new ve;expandedChange=new ve;static mostRecentTreeNode=null;_destroyed=new ce;_dataChanges=new ce;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=D(Fi);constructor(){t.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Eo(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(A(()=>this.isExpanded),wn()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(i,n){i&1&&g("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),i&2&&(Xt("tabindex",n._tabindex),Yt("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",it],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",it],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return t})();function Eo(t){let l=t.parentElement;for(;l&&!Io(l);)l=l.parentElement;return l?l.classList.contains("cdk-nested-tree-node")?Be(l.getAttribute("aria-level")):0:-1}function Io(t){let l=t.classList;return!!(l?.contains("cdk-nested-tree-node")||l?.contains("cdk-tree"))}var ko=/([A-Za-z%]+)$/,Ui=(()=>{class t{_treeNode=D(Le);_tree=D(bt);_element=D(et);_dir=D(Ni,{optional:!0});_currentPadding;_destroyed=new ce;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(K(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,i=this._level==null?e:this._level;return typeof i=="number"?`${i*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let i=this._paddingIndent();if(i!==this._currentPadding||e){let n=this._element.nativeElement,o=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",d=o==="paddingLeft"?"paddingRight":"paddingLeft";n.style[o]=i||"",n.style[d]="",this._currentPadding=i}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let i=e,n="px";if(typeof e=="string"){let o=e.split(ko);i=o[0],n=o[1]||n}this.indentUnits=n,this._indent=Be(i),this._setPadding()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",Be],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return t})(),Ki=(()=>{class t{_tree=D(bt);_treeNode=D(Le);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(i,n){i&1&&g("click",function(d){return n._toggle(),d.stopPropagation()})("keydown.Enter",function(d){return n._toggle(),d.preventDefault()})("keydown.Space",function(d){return n._toggle(),d.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",it]}})}return t})();var so=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=tt({type:t});static \u0275inj=Ze({})}return t})();function Do(t){return!!t._isNoopTreeKeyManager}var po=(()=>{class t extends Le{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return Do(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();let e=D(new Tn("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(i,n){i&1&&g("click",function(){return n._focusItem()}),i&2&&(Xt("tabindex",n._getTabindexAttribute()),Yt("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:Be(e)],disabled:[2,"disabled","disabled",it]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[Oe([{provide:Le,useExisting:t}]),Ve]})}return t})(),mo=(()=>{class t extends gi{data;static \u0275fac=(()=>{let e;return function(n){return(e||(e=kt(t)))(n||t)}})();static \u0275dir=te({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[Oe([{provide:gi,useExisting:t}]),Ve]})}return t})();var go=(()=>{class t extends Ui{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=kt(t)))(n||t)}})();static \u0275dir=te({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",Be],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[Oe([{provide:Ui,useExisting:t}]),Ve]})}return t})(),co=(()=>{class t{viewContainer=D(qt);_node=D(Wi,{optional:!0});static \u0275fac=function(i){return new(i||t)};static \u0275dir=te({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[Oe([{provide:mi,useExisting:t}])]})}return t})(),uo=(()=>{class t extends bt{_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=kt(t)))(n||t)}})();static \u0275cmp=R({type:t,selectors:[["mat-tree"]],viewQuery:function(i,n){if(i&1&&Qt(co,7),i&2){let o;Dt(o=zt())&&(n._nodeOutlet=o.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[Oe([{provide:bt,useExisting:t}]),Ve],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,n){i&1&&Jt(0,0)},dependencies:[co],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return t})(),fo=(()=>{class t extends Ki{static \u0275fac=(()=>{let e;return function(n){return(e||(e=kt(t)))(n||t)}})();static \u0275dir=te({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[Oe([{provide:Ki,useExisting:t}]),Ve]})}return t})();var ho=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=tt({type:t});static \u0275inj=Ze({imports:[so,Bi,Bi]})}return t})(),ui=class{transformFunction;getLevel;isExpandable;getChildren;constructor(l,e,i,n){this.transformFunction=l,this.getLevel=e,this.isExpandable=i,this.getChildren=n}_flattenNode(l,e,i,n){let o=this.transformFunction(l,e);if(i.push(o),this.isExpandable(o)){let d=this.getChildren(l);d&&(Array.isArray(d)?this._flattenChildren(d,e,i,n):d.pipe(q(1)).subscribe(x=>{this._flattenChildren(x,e,i,n)}))}return i}_flattenChildren(l,e,i,n){l.forEach((o,d)=>{let x=n.slice();x.push(d!=l.length-1),this._flattenNode(o,e+1,i,x)})}flattenNodes(l){let e=[];return l.forEach(i=>this._flattenNode(i,0,e,[])),e}expandFlattenedNodes(l,e){let i=[],n=[];return n[0]=!0,l.forEach(o=>{let d=!0;for(let x=0;x<=this.getLevel(o);x++)d=d&&n[x];d&&i.push(o),this.isExpandable(o)&&(n[this.getLevel(o)+1]=e.isExpanded(o))}),i}},fi=class extends jn{_treeControl;_treeFlattener;_flattenedData=new fe([]);_expandedData=new fe([]);get data(){return this._data.value}set data(l){this._data.next(l),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new fe([]);constructor(l,e,i){super(),this._treeControl=l,this._treeFlattener=e,i&&(this.data=i)}connect(l){return Sn(l.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(A(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}};function Fo(t,l){t&1&&(a(0,"div",7),L(1,"mat-spinner",8),r())}function Vo(t,l){if(t&1&&(X(0),a(1,"span",36),s(2),r(),Q()),t&2){let e=m().$implicit;c(2),E(e.key)}}function No(t,l){if(t&1){let e=z();a(0,"input",33),g("blur",function(n){C(e);let o=m().$implicit,d=m(2);return M(d.updateKey(o,n.target.value))}),r()}if(t&2){let e=m().$implicit;p("value",e.key)}}function Bo(t,l){if(t&1){let e=z();a(0,"mat-tree-node",29),L(1,"button",30),_(2,Vo,3,1,"ng-container",31)(3,No,1,1,"ng-template",null,1,Te),a(5,"span",32),s(6,":"),r(),a(7,"input",33),g("blur",function(n){let o=C(e).$implicit,d=m(2);return M(d.updateValue(o,n.target.value))}),r(),a(8,"span",34),s(9),r(),a(10,"button",35),g("click",function(){let n=C(e).$implicit,o=m(2);return M(o.deleteNode(n))}),a(11,"mat-icon"),s(12,"close"),r()()()}if(t&2){let e=l.$implicit,i=he(4);c(2),p("ngIf",e.isOriginal)("ngIfElse",i),c(5),p("value",e.value),c(2),E(e.type),c(),p("disabled",e.isOriginal)}}function Lo(t,l){if(t&1&&(X(0),a(1,"span",36),s(2),r(),Q()),t&2){let e=m().$implicit;c(2),E(e.key)}}function jo(t,l){if(t&1){let e=z();a(0,"input",33),g("blur",function(n){C(e);let o=m().$implicit,d=m(2);return M(d.updateKey(o,n.target.value))}),r()}if(t&2){let e=m().$implicit;p("value",e.key)}}function Ho(t,l){if(t&1){let e=z();a(0,"button",40),g("click",function(){let n=C(e).$implicit,o=m().$implicit,d=m(2);return M(d.addChildWithType(o,n))}),s(1),r()}if(t&2){let e=l.$implicit;c(),F(" ",e," ")}}function $o(t,l){if(t&1){let e=z();a(0,"mat-tree-node",29)(1,"button",37)(2,"mat-icon"),s(3),r()(),_(4,Lo,3,1,"ng-container",31)(5,jo,1,1,"ng-template",null,2,Te),a(7,"span",38),s(8),r(),a(9,"button",39)(10,"mat-icon"),s(11,"add"),r()(),a(12,"mat-menu",null,3),_(14,Ho,2,1,"button",23),r(),a(15,"button",35),g("click",function(){let n=C(e).$implicit,o=m(2);return M(o.deleteNode(n))}),a(16,"mat-icon"),s(17,"close"),r()()()}if(t&2){let e=l.$implicit,i=he(6),n=he(13),o=m(2);c(3),F(" ",o.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),c(),p("ngIf",e.isOriginal)("ngIfElse",i),c(4),E(e.type),c(),p("matMenuTriggerFor",n),c(5),p("ngForOf",o.nodeTypes),c(),p("disabled",e.isOriginal)}}function Wo(t,l){if(t&1){let e=z();a(0,"button",40),g("click",function(){let n=C(e).$implicit,o=m(2);return M(o.addChildWithType({expandable:!0,key:"root",value:null,type:"object",level:0},n))}),s(1),r()}if(t&2){let e=l.$implicit;c(),F(" ",e," ")}}function Uo(t,l){if(t&1){let e=z();X(0),a(1,"div",9)(2,"div",10)(3,"div",11),s(4,"Model Parameters"),r(),a(5,"mat-card",12)(6,"div",13),L(7,"span",14),a(8,"button",15),g("click",function(){C(e);let n=m();return M(n.undo())}),a(9,"mat-icon"),s(10,"undo"),r()(),a(11,"button",16),g("click",function(){C(e);let n=m();return M(n.redo())}),a(12,"mat-icon"),s(13,"redo"),r()(),a(14,"button",17),g("click",function(){C(e);let n=m();return M(n.clearAll())}),a(15,"mat-icon"),s(16,"delete_sweep"),r()()(),a(17,"mat-tree",18),_(18,Bo,13,5,"mat-tree-node",19)(19,$o,18,7,"mat-tree-node",20),r(),a(20,"div",21)(21,"button",22)(22,"mat-icon"),s(23,"add"),r(),s(24," Add Property "),r(),a(25,"mat-menu",null,0),_(27,Wo,2,1,"button",23),r()()()(),a(28,"div",24)(29,"div",11),s(30,"JSON Preview"),r(),a(31,"mat-card",25)(32,"div",13),L(33,"span",14),a(34,"button",26),g("click",function(){C(e);let n=m();return M(n.copyJson())}),a(35,"mat-icon"),s(36,"content_copy"),r()(),a(37,"button",27),g("click",function(){C(e);let n=m();return M(n.downloadJson())}),a(38,"mat-icon"),s(39,"download"),r()()(),a(40,"pre",28),s(41),r()()()(),Q()}if(t&2){let e=he(26),i=m();c(8),p("disabled",i.historyIndex<=0),c(3),p("disabled",i.historyIndex>=i.historyStack.length-1),c(6),p("dataSource",i.dataSource)("treeControl",i.treeControl),c(2),p("matTreeNodeDefWhen",i.hasChild),c(2),p("matMenuTriggerFor",e),c(6),p("ngForOf",i.nodeTypes),c(14),E(i.jsonString)}}var Co=(()=>{class t{constructor(e,i,n){this.modelParamService=e,this.snackBar=i,this.elementRef=n,this.modelSize="",this.modelType="",this.locationId=0,this.parametersChange=new ve,this.transformer=(o,d)=>({expandable:!!o.children,key:o.key,value:o.value,type:o.type,level:d,isOriginal:o.isOriginal}),this.treeFlattener=new ui(this.transformer,o=>o.level,o=>o.expandable,o=>o.children),this.treeControl=new pi(o=>o.level,o=>o.expandable),this.dataSource=new fi(this.treeControl,this.treeFlattener),this.root={key:"root",value:null,type:"object",children:[]},this.isLoading=!1,this.historyStack=[],this.historyIndex=-1,this.nodeTypes=["string","number","boolean","object","array"],this.lastEmittedJson="",this.destroy$=new ce,this.hasChild=(o,d)=>d.expandable}get jsonString(){return JSON.stringify(this.treeToJson(this.root),null,2)}ngOnChanges(e){let i=e.modelSize,n=e.modelType,o=e.locationId,d=i&&i.previousValue!==i.currentValue,x=n&&n.previousValue!==n.currentValue,f=o&&o.previousValue!==o.currentValue;(d||x||f)&&this.locationId&&this.modelType&&(this.isLoading=!0,this.modelParamService.getModelParamsByType(this.locationId,this.modelType).pipe(K(this.destroy$),Pe(h=>(this.snackBar.open(h.message||"\u52A0\u8F7D\u5931\u8D25","Close",{duration:3e3}),this.isLoading=!1,P([])))).subscribe(h=>{let v=h.find(Gt=>Gt.modelName===this.modelSize),G={};if(v)try{G=JSON.parse(v.parameters)}catch{G={}}this.root=this.jsonToTree(G),this.markAsOriginal(this.root),this.rebuildTree(this.root.children||[]),this.historyStack=[],this.historyIndex=-1,this.saveHistory(this.root),this.isLoading=!1,this.emitIfChanged()}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jsonToTree(e,i="root"){let n=this.getRealType(e);if(n==="object"){let o=Object.keys(e).map(d=>this.jsonToTree(e[d],d));return{key:i,value:null,type:"object",children:o}}if(n==="array"){let o=e.map((d,x)=>this.jsonToTree(d,String(x)));return{key:i,value:null,type:"array",children:o}}return{key:i,value:e,type:n}}treeToJson(e){if(e.type==="object"){let i={};return(e.children||[]).forEach(n=>{i[n.key]=this.treeToJson(n)}),i}return e.type==="array"?(e.children||[]).map(i=>this.treeToJson(i)):e.type==="number"?Number(e.value):e.type==="boolean"?e.value===!0||e.value==="true":e.value}getRealType(e){return e==null?"string":Array.isArray(e)?"array":typeof e=="object"?"object":typeof e=="number"?"number":typeof e=="boolean"?"boolean":"string"}findNode(e,i){if(e.key===i.key&&e.type===i.type&&e.value===i.value)return e;for(let n of e.children||[]){let o=this.findNode(n,i);if(o)return o}return null}findParent(e,i){for(let n of e.children||[]){if(n.key===i.key&&n.type===i.type&&n.value===i.value)return e;let o=this.findParent(n,i);if(o)return o}return null}addChildWithType(e,i){let n=this.findNode(this.root,e);if(!n||!n.children)return;let o;i==="object"?o={key:"newKey",value:null,type:"object",children:[]}:i==="array"?o={key:"newKey",value:null,type:"array",children:[]}:o={key:"newKey",value:"",type:i},n.children.push(o),this.treeControl.expand(e),this.refresh(),setTimeout(()=>{let d=this.elementRef.nativeElement.querySelectorAll(".tree-card .node-input");if(d.length>0){let x=d[d.length-1],f=this.elementRef.nativeElement.querySelectorAll("mat-tree-node");if(f.length>0){let v=f[f.length-1].querySelector(".node-input");v&&(v.focus(),v.select())}}})}updateKey(e,i){if(e.isOriginal){this.snackBar.open("\u539F\u59CB\u53C2\u6570\u7684Key\u4E0D\u53EF\u4FEE\u6539","Close",{duration:3e3}),this.refresh();return}let n=this.findNode(this.root,e);n&&(n.key=i,this.refresh())}updateValue(e,i){let n=this.findNode(this.root,e);n&&(n.type==="number"?n.value=Number(i):n.type==="boolean"?n.value=i==="true":n.value=i,this.refresh())}deleteNode(e){if(e.isOriginal){this.snackBar.open("\u539F\u59CB\u53C2\u6570\u8282\u70B9\u4E0D\u53EF\u5220\u9664","Close",{duration:3e3});return}let i=this.findParent(this.root,e);if(i&&i.children){let n=i.children.findIndex(o=>o.key===e.key&&o.type===e.type&&o.value===e.value);n>=0&&(i.children.splice(n,1),this.refresh())}}drop(e,i){let n=this.findNode(this.root,i);n&&n.children&&n.type==="array"&&($n(n.children,e.previousIndex,e.currentIndex),this.refresh())}copyJson(){navigator.clipboard.writeText(this.jsonString).then(()=>{this.snackBar.open("\u5DF2\u590D\u5236","Close",{duration:2e3})}).catch(()=>{this.snackBar.open("\u590D\u5236\u5931\u8D25","Close",{duration:2e3})})}downloadJson(){let e=new Blob([this.jsonString],{type:"application/json"}),i=URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download="data.json",n.click(),URL.revokeObjectURL(i)}clearAll(){this.root=this.jsonToTree({}),this.rebuildTree(this.root.children||[]),this.saveHistory(this.root),this.emitIfChanged()}saveHistory(e){let i=JSON.parse(JSON.stringify(e));this.historyStack=this.historyStack.slice(0,this.historyIndex+1),this.historyStack.push(i),this.historyIndex=this.historyStack.length-1}refresh(){this.rebuildTree(this.root.children||[]),this.saveHistory(this.root),this.emitIfChanged()}undo(){this.historyIndex>0&&(this.historyIndex--,this.root=JSON.parse(JSON.stringify(this.historyStack[this.historyIndex])),this.rebuildTree(this.root.children||[]),this.emitIfChanged())}redo(){this.historyIndex<this.historyStack.length-1&&(this.historyIndex++,this.root=JSON.parse(JSON.stringify(this.historyStack[this.historyIndex])),this.rebuildTree(this.root.children||[]),this.emitIfChanged())}emitIfChanged(){let e=this.jsonString;e!==this.lastEmittedJson&&(this.lastEmittedJson=e,this.parametersChange.emit(e))}markAsOriginal(e){e.isOriginal=!0,e.children&&e.children.forEach(i=>this.markAsOriginal(i))}rebuildTree(e){let i=new Set;this.treeControl.dataNodes?.forEach(n=>{this.treeControl.isExpanded(n)&&i.add(this.nodeId(n))}),this.dataSource.data=e,this.treeControl.dataNodes?.forEach(n=>{i.has(this.nodeId(n))&&this.treeControl.expand(n)})}nodeId(e){return`${e.level}::${e.key}::${e.type}`}static{this.\u0275fac=function(i){return new(i||t)(k(ci),k(ot),k(et))}}static{this.\u0275cmp=R({type:t,selectors:[["app-model-parameter"]],inputs:{modelSize:"modelSize",modelType:"modelType",locationId:"locationId"},outputs:{parametersChange:"parametersChange"},features:[Se],decls:3,vars:2,consts:[["rootTypeMenu","matMenu"],["editableLeafKey",""],["editableExpandableKey",""],["childTypeMenu","matMenu"],[1,"model-parameter-container"],["class","loading-overlay",4,"ngIf"],[4,"ngIf"],[1,"loading-overlay"],["diameter","40"],[1,"editor-preview-row"],[1,"editor-column"],[1,"section-title"],[1,"tree-card"],[1,"card-toolbar"],[1,"spacer"],["mat-icon-button","","matTooltip","Undo",3,"click","disabled"],["mat-icon-button","","matTooltip","Redo",3,"click","disabled"],["mat-icon-button","","matTooltip","Clear All",3,"click"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"add-root-child"],["color","primary","mat-stroked-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"preview-column"],[1,"preview-card"],["mat-icon-button","","matTooltip","Copy JSON",3,"click"],["mat-icon-button","","matTooltip","Download JSON",3,"click"],[1,"json-preview"],["matTreeNodePadding",""],["disabled","","mat-icon-button",""],[4,"ngIf","ngIfElse"],[1,"node-separator"],[1,"node-input",3,"blur","value"],[1,"node-type-badge"],["color","warn","mat-icon-button","","matTooltip","Delete",3,"click","disabled"],[1,"original-key-label"],["mat-icon-button","","matTreeNodeToggle",""],[1,"node-type-badge","expandable"],["color","primary","mat-icon-button","","matTooltip","Add child",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(i,n){i&1&&(a(0,"div",4),_(1,Fo,2,0,"div",5)(2,Uo,42,8,"ng-container",6),r()),i&2&&(c(),p("ngIf",n.isLoading),c(),p("ngIf",!n.isLoading))},dependencies:[N,Ee,j,J,ho,mo,go,fo,uo,po,Y,_e,nt,B,H,De,ri,se,ke,Mt,eo,Zn,to,re,xe,at,ii,Ie,pt,Wn],styles:[".model-parameter-container[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:8px;margin-bottom:24px;position:relative}.loading-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:48px 0}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#000000de;margin-bottom:16px;min-height:48px;display:flex;align-items:center}.editor-preview-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:stretch}.editor-column[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column}.card-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 8px 0}.card-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.tree-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;border:1px solid #e0e0e0;padding:16px;transition:border-color .2s ease,box-shadow .2s ease;flex:1;min-height:400px}.tree-card[_ngcontent-%COMP%]:hover{border-color:#3f51b54d;box-shadow:0 2px 8px #00000014}.tree-card[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.tree-card[_ngcontent-%COMP%]   mat-tree-node[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;min-height:48px}.tree-card[_ngcontent-%COMP%]   .node-key-field[_ngcontent-%COMP%], .tree-card[_ngcontent-%COMP%]   .node-value-field[_ngcontent-%COMP%]{width:140px;font-size:13px}.tree-card[_ngcontent-%COMP%]   .node-input[_ngcontent-%COMP%]{width:140px;padding:8px;border:1px solid #e0e0e0;border-radius:4px;font-size:14px;color:#000000de;transition:border-color .2s ease}.tree-card[_ngcontent-%COMP%]   .node-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5}.tree-card[_ngcontent-%COMP%]   .node-input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3f51b5;outline-offset:2px}.tree-card[_ngcontent-%COMP%]   .node-separator[_ngcontent-%COMP%]{margin:0 4px;color:#0009}.tree-card[_ngcontent-%COMP%]   .original-key-label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#000000de;min-width:80px;padding:8px 16px;line-height:1.5;background-color:#e0e0e0;border-radius:8px}.tree-card[_ngcontent-%COMP%]   .node-type-badge[_ngcontent-%COMP%]{font-size:11px;padding:2px 6px;border-radius:4px;background:#e0e0e0;color:#0009;margin:0 4px}.tree-card[_ngcontent-%COMP%]   .node-type-badge.expandable[_ngcontent-%COMP%]{background:#3f51b51f;color:#3f51b5}.add-root-child[_ngcontent-%COMP%]{padding:8px 16px}.preview-column[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column}.preview-column[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;border:1px solid #e0e0e0;padding:16px;transition:border-color .2s ease,box-shadow .2s ease;flex:1;display:flex;flex-direction:column}.preview-column[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]:hover{border-color:#3f51b54d;box-shadow:0 2px 8px #00000014}.preview-column[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]   .json-preview[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;background:#fafafa;padding:16px;border-radius:4px;overflow-x:auto;overflow-y:auto;margin:0;flex:1}"]})}}return t})();var _i={train:70,dev:15,test:15},Gi={train:{label:"Train",color:"#4caf50"},dev:{label:"Dev",color:"#2196f3"},test:{label:"Test",color:"#ff9800"},unassigned:{label:"Unassigned",color:"#9e9e9e"}};function xi(t=1){return{modelAlias:`Model ${t}`,epochs:40,modelSize:"RepPoints-[37M]",transforms:{},augmentations:{horizontalFlip:{probability:.5},randomAugment:{numTransforms:2,magnitude:9}}}}var Ci={snapshots:[],splitPreview:null,distribution:u({},_i),modelConfigs:[xi()],currentStep:1,loading:!1,error:null,projectId:null,selectedSnapshotId:null,projectClasses:[]},Rt="training";var $e=w("[Training] Initialize",I()),Ft=w("[Training] Reset State"),Vt=w("[Training] Load Snapshots",I()),We=w("[Training] Load Snapshots Success",I()),vt=w("[Training] Load Snapshots Failure",I()),Ue=w("[Training] Select Snapshot",I()),be=w("[Training] Load Split Preview",I()),Nt=w("[Training] Load Split Preview Success",I()),ye=w("[Training] Load Split Preview Failure",I()),Bt=w("[Training] Assign Split",I()),yt=w("[Training] Assign Split Success"),Pt=w("[Training] Assign Split Failure",I()),qi=w("[Training] Update Distribution",I()),Lt=w("[Training] Add Model Config"),jt=w("[Training] Remove Model Config",I()),ze=w("[Training] Update Model Config",I()),Yi=w("[Training] Update Model Epochs",I()),Ji=w("[Training] Update Model Size",I()),Xi=w("[Training] Update Model Transforms",I()),Qi=w("[Training] Update Model Augmentations",I()),Ht=w("[Training] Next Step"),$t=w("[Training] Previous Step"),Zi=w("[Training] Set Step",I()),Ke=w("[Training] Start Training",I()),St=w("[Training] Start Training Success",I()),wt=w("[Training] Start Training Failure",I()),Ot=w("[Training] Load Project Classes",I()),Wt=w("[Training] Load Project Classes Success",I()),Ge=w("[Training] Load Project Classes Failure",I()),Ut=w("[Training] Clear Error");var ge=Vn(Rt),Mi=O(ge,t=>t.snapshots),Ae=O(ge,t=>t.splitPreview),Tt=O(ge,t=>t.distribution),qe=O(ge,t=>t.modelConfigs),Ye=O(ge,t=>t.currentStep),Et=O(ge,t=>t.loading),tn=O(ge,t=>t.error),ue=O(ge,t=>t.projectId),Re=O(ge,t=>t.selectedSnapshotId),nn=O(ge,t=>t.projectClasses),bi=O(Ae,t=>t?.totalImages??0),Ko=10,on=O(bi,t=>t<Ko),vi=O(Ae,t=>t?.unassignedCount??0),Go=O(vi,t=>t>0),an=O(Ae,t=>!t||!t.byClass?!1:t.byClass.some(l=>l.train>0||l.dev>0||l.test>0)),qo=O(Mi,Re,(t,l)=>l===null?null:t.find(e=>e.id===l)??null),Yo=O(qe,t=>t.length);var rn=O(Ye,t=>t===1),yi=O(Ye,t=>t===2),Kt=O(Tt,t=>t.train+t.dev+t.test===100),Jo=O(Ae,t=>t?.byClass??[]),Xo=O(Ae,t=>t?.bySplit??[]),Qo=O(Ye,Kt,Et,(t,l,e)=>e?!1:t===1?l:!0),ln=O(yi,qe,Et,ue,Tt,(t,l,e,i,n)=>!t||e||i===null||n.train+n.dev+n.test!==100?!1:l.every(d=>d.epochs>=1&&d.epochs<=100&&d.modelSize&&d.modelSize.trim()!==""&&d.modelAlias&&d.modelAlias.trim()!=="")),sn=O(ue,Re,qe,(t,l,e)=>t===null?null:{projectId:t,snapshotId:l??void 0,modelConfigs:e}),Mo=O(qe,t=>{let l=[];return t.forEach((e,i)=>{let n=t.length>1?`\u6A21\u578B ${i+1}: `:"";e.epochs===void 0||e.epochs===null?l.push({field:`modelConfigs[${i}].epochs`,message:n+"Epoch \u503C\u662F\u5FC5\u586B\u9879"}):e.epochs<1?l.push({field:`modelConfigs[${i}].epochs`,message:n+"Epoch \u503C\u4E0D\u80FD\u5C0F\u4E8E 1"}):e.epochs>100&&l.push({field:`modelConfigs[${i}].epochs`,message:n+"Epoch \u503C\u4E0D\u80FD\u5927\u4E8E 100"}),(!e.modelSize||e.modelSize.trim()==="")&&l.push({field:`modelConfigs[${i}].modelSize`,message:n+"\u8BF7\u9009\u62E9\u6A21\u578B\u5C3A\u5BF8"}),(!e.modelAlias||e.modelAlias.trim()==="")&&l.push({field:`modelConfigs[${i}].modelAlias`,message:n+"\u6A21\u578B\u522B\u540D\u662F\u5FC5\u586B\u9879"})}),l}),bo=O(Tt,t=>{let l=[];return(t.train<0||t.dev<0||t.test<0)&&l.push({field:"distribution",message:"\u5206\u5E03\u6BD4\u4F8B\u4E0D\u80FD\u4E3A\u8D1F\u6570"}),t.train+t.dev+t.test!==100&&l.push({field:"distribution",message:"\u8BAD\u7EC3\u96C6\u3001\u9A8C\u8BC1\u96C6\u548C\u6D4B\u8BD5\u96C6\u7684\u6BD4\u4F8B\u4E4B\u548C\u5FC5\u987B\u7B49\u4E8E 100%"}),l}),Pi=O(Mo,bo,(t,l)=>[...l,...t]),dn=O(Pi,t=>t.length===0),Zo=O(Ye,Kt,Et,(t,l,e)=>e?!1:t===1?l:!0);var cn=(()=>{class t{constructor(e,i,n,o,d,x){this.actions$=e,this.store=i,this.trainingService=n,this.splitService=o,this.errorHandler=d,this.router=x,this.loadSnapshots$=$(()=>this.actions$.pipe(W($e,Vt),U(({projectId:f})=>this.trainingService.getSnapshots(f).pipe(A(h=>We({snapshots:h})),Pe(h=>{let v=this.errorHandler.getErrorMessage(h);return P(vt({error:v}))}))))),this.loadSnapshotsFailure$=$(()=>this.actions$.pipe(W(vt),ee(({error:f})=>{this.errorHandler.showError(f)})),{dispatch:!1}),this.loadSplitPreview$=$(()=>this.actions$.pipe(W(be),U(({projectId:f,snapshotId:h})=>this.splitService.getSplitPreview(f,h).pipe(A(v=>Nt({splitPreview:v})),Pe(v=>{let G=this.errorHandler.getErrorMessage(v);return P(ye({error:G}))}))))),this.loadSplitPreviewAfterInit$=$(()=>this.actions$.pipe(W(We),Xe(this.store.select(ue),this.store.select(Re)),U(([f,h,v])=>h===null?P(ye({error:"No project selected"})):P(be({projectId:h,snapshotId:v??void 0}))))),this.loadSplitPreviewFailure$=$(()=>this.actions$.pipe(W(ye),ee(({error:f})=>{this.errorHandler.showError(f)})),{dispatch:!1}),this.selectSnapshot$=$(()=>this.actions$.pipe(W(Ue),Xe(this.store.select(ue)),U(([{snapshotId:f},h])=>h===null?P(ye({error:"No project selected"})):P(be({projectId:h,snapshotId:f??void 0}))))),this.assignSplit$=$(()=>this.actions$.pipe(W(Bt),U(({projectId:f,distribution:h})=>this.splitService.assignSplit(f,h).pipe(A(()=>yt()),Pe(v=>{let G=this.errorHandler.getErrorMessage(v);return P(Pt({error:G}))}))))),this.assignSplitSuccess$=$(()=>this.actions$.pipe(W(yt),Xe(this.store.select(ue),this.store.select(Re)),U(([f,h,v])=>h===null?P(ye({error:"No project selected"})):(this.errorHandler.showSuccess("Split assignment completed successfully"),P(be({projectId:h,snapshotId:v??void 0})))))),this.assignSplitFailure$=$(()=>this.actions$.pipe(W(Pt),ee(({error:f})=>{this.errorHandler.showError(f)})),{dispatch:!1}),this.startTraining$=$(()=>this.actions$.pipe(W(Ke),U(({request:f})=>this.trainingService.startTraining(f).pipe(A(h=>{let v=[h.id];return St({trainingIds:v})}),Pe(h=>{let v=this.errorHandler.getErrorMessage(h);return P(wt({error:v}))}))))),this.startTrainingSuccess$=$(()=>this.actions$.pipe(W(St),Xe(this.store.select(ue)),ee(([{trainingIds:f},h])=>{let v=f.length;this.errorHandler.showSuccess(`Training started successfully for ${v} model${v!==1?"s":""}`),h!==null&&this.router.navigate(["/landingai/projects",h])})),{dispatch:!1}),this.startTrainingFailure$=$(()=>this.actions$.pipe(W(wt),ee(({error:f})=>{this.errorHandler.showError(f)})),{dispatch:!1}),this.loadProjectClasses$=$(()=>this.actions$.pipe(W(Ot),U(({projectId:f})=>this.splitService.getProjectClasses(f).pipe(A(h=>Wt({projectClasses:h})),Pe(h=>{let v=this.errorHandler.getErrorMessage(h);return P(Ge({error:v}))}))))),this.loadProjectClassesAfterInit$=$(()=>this.actions$.pipe(W(We),Xe(this.store.select(ue)),U(([f,h])=>h===null?P(Ge({error:"No project selected"})):P(Ot({projectId:h}))))),this.loadProjectClassesFailure$=$(()=>this.actions$.pipe(W(Ge),ee(({error:f})=>{this.errorHandler.showError(f)})),{dispatch:!1})}static{this.\u0275fac=function(i){return new(i||t)(pe(Yn),pe(Zt),pe(ji),pe(pn),pe(mn),pe(ni))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})();var vo=2,yo=1,gn=Bn(Ci,T($e,(t,{projectId:l})=>b(u({},t),{projectId:l,loading:!0,error:null})),T(Ft,()=>u({},Ci)),T(Vt,t=>b(u({},t),{loading:!0,error:null})),T(We,(t,{snapshots:l})=>b(u({},t),{snapshots:l,loading:!1})),T(vt,(t,{error:l})=>b(u({},t),{loading:!1,error:l})),T(Ue,(t,{snapshotId:l})=>b(u({},t),{selectedSnapshotId:l})),T(be,t=>b(u({},t),{loading:!0,error:null})),T(Nt,(t,{splitPreview:l})=>b(u({},t),{splitPreview:l,loading:!1})),T(ye,(t,{error:l})=>b(u({},t),{loading:!1,error:l})),T(Bt,t=>b(u({},t),{loading:!0,error:null})),T(yt,t=>b(u({},t),{loading:!1})),T(Pt,(t,{error:l})=>b(u({},t),{loading:!1,error:l})),T(qi,(t,{distribution:l})=>b(u({},t),{distribution:u({},l)})),T(Lt,t=>b(u({},t),{modelConfigs:[...t.modelConfigs,xi(t.modelConfigs.length+1)]})),T(jt,(t,{index:l})=>t.modelConfigs.length<=1?t:b(u({},t),{modelConfigs:t.modelConfigs.filter((e,i)=>i!==l)})),T(ze,(t,{index:l,config:e})=>b(u({},t),{modelConfigs:t.modelConfigs.map((i,n)=>n===l?u(u({},i),e):i)})),T(Yi,(t,{index:l,epochs:e})=>b(u({},t),{modelConfigs:t.modelConfigs.map((i,n)=>n===l?b(u({},i),{epochs:It(e)}):i)})),T(Ji,(t,{index:l,modelSize:e})=>b(u({},t),{modelConfigs:t.modelConfigs.map((i,n)=>n===l?b(u({},i),{modelSize:e}):i)})),T(Xi,(t,{index:l,transforms:e})=>b(u({},t),{modelConfigs:t.modelConfigs.map((i,n)=>n===l?b(u({},i),{transforms:u({},e)}):i)})),T(Qi,(t,{index:l,augmentations:e})=>b(u({},t),{modelConfigs:t.modelConfigs.map((i,n)=>n===l?b(u({},i),{augmentations:u({},e)}):i)})),T(Ht,t=>b(u({},t),{currentStep:Math.min(vo,t.currentStep+1)})),T($t,t=>b(u({},t),{currentStep:Math.max(yo,t.currentStep-1)})),T(Zi,(t,{step:l})=>b(u({},t),{currentStep:Math.max(yo,Math.min(vo,l))})),T(Ke,t=>b(u({},t),{loading:!0,error:null})),T(St,t=>b(u({},t),{loading:!1})),T(wt,(t,{error:l})=>b(u({},t),{loading:!1,error:l})),T(Ot,t=>b(u({},t),{loading:!0,error:null})),T(Wt,(t,{projectClasses:l})=>b(u({},t),{projectClasses:l,loading:!1})),T(Ge,(t,{error:l})=>b(u({},t),{loading:!1,error:l})),T(Ut,t=>b(u({},t),{error:null})));var na=[{path:":projectId",loadComponent:()=>import("./chunk-MUNGDYTE.js").then(t=>t.CustomerTrainingComponent)}],us=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=tt({type:t})}static{this.\u0275inj=Ze({imports:[N,J,Un,qn.forChild(na),no,Nn.forFeature(Rt,gn),Jn.forFeature([cn]),Y,B,ii,De,ke,le,se,di,ae,re,Ie,si,li,Mt,at]})}}return t})();var Po=()=>[];function oa(t,l){if(t&1&&(a(0,"span",27),s(1),y(2,"number"),r()),t&2){let e=m().$implicit;c(),F(" ",Ri(2,1,e.percentage,"1.0-0"),"% ")}}function aa(t,l){if(t&1&&(X(0),a(1,"div",25),_(2,oa,3,4,"span",26),r(),Q()),t&2){let e=l.$implicit,i=m(4);c(),Ne("background-color",e.color)("width",e.percentage,"%"),p("matTooltip",i.getSegmentTooltip(e)),c(),p("ngIf",e.percentage>=10)}}function ra(t,l){if(t&1&&(a(0,"div",17)(1,"div",18),L(2,"span",19),a(3,"span",20),s(4),r(),a(5,"span",21),s(6),r()(),a(7,"div",22)(8,"div",23),_(9,aa,3,6,"ng-container",24),r()()()),t&2){let e=l.$implicit,i=m(3);c(2),Ne("background-color",e.classColor||i.getClassColor(e.className)),c(),p("matTooltip",e.className),c(),F(" ",e.className," "),c(2),F("(",i.getClassTotal(e),")"),c(3),p("ngForOf",i.getClassBarSegments(e))}}function la(t,l){if(t&1&&(a(0,"div",15),_(1,ra,10,6,"div",16),r()),t&2){let e=m(2);c(),p("ngForOf",(e.splitPreview==null?null:e.splitPreview.byClass)||zi(1,Po))}}function sa(t,l){if(t&1&&(a(0,"span",27),s(1),y(2,"number"),r()),t&2){let e=m().$implicit;c(),F(" ",Ri(2,1,e.percentage,"1.0-0"),"% ")}}function da(t,l){if(t&1&&(X(0),a(1,"div",25),_(2,sa,3,4,"span",26),r(),Q()),t&2){let e=l.$implicit,i=m(4);c(),Ne("background-color",e.color)("width",e.percentage,"%"),p("matTooltip",i.getSegmentTooltip(e)),c(),p("ngIf",e.percentage>=10)}}function ca(t,l){if(t&1&&(a(0,"div",30)(1,"div",18),L(2,"span",19),a(3,"span",31),s(4),r(),a(5,"span",21),s(6),r()(),a(7,"div",22)(8,"div",23),_(9,da,3,6,"ng-container",24),r()()()),t&2){let e=l.$implicit,i=m(3);c(2),Ne("background-color",i.getSplitColor(e.splitType)),c(2),F(" ",i.getSplitLabel(e.splitType)," "),c(2),F("(",i.getSplitTotal(e),")"),c(3),p("ngForOf",i.getSplitBarSegments(e))}}function pa(t,l){if(t&1&&(a(0,"div",28),_(1,ca,10,5,"div",29),r()),t&2){let e=m(2);c(),p("ngForOf",(e.splitPreview==null?null:e.splitPreview.bySplit)||zi(1,Po))}}function ma(t,l){if(t&1&&(a(0,"div",12),_(1,la,2,2,"div",13)(2,pa,2,2,"div",14),r()),t&2){let e=m();c(),p("ngIf",e.viewMode==="byClass"&&(e.splitPreview==null?null:e.splitPreview.byClass)),c(),p("ngIf",e.viewMode==="bySplit"&&(e.splitPreview==null?null:e.splitPreview.bySplit))}}function ga(t,l){t&1&&(a(0,"div",32)(1,"mat-icon"),s(2,"info_outline"),r(),a(3,"span"),s(4,"No split data available. Please load a dataset to see the preview."),r()())}function ua(t,l){if(t&1&&(a(0,"div",40),L(1,"span",41),a(2,"span",42),s(3),r()()),t&2){let e=l.$implicit;c(),Ne("background-color",e.color),c(2),E(e.label)}}function fa(t,l){if(t&1&&(a(0,"div",36)(1,"div",37),s(2,"Split Types"),r(),a(3,"div",38),_(4,ua,4,3,"div",39),r()()),t&2){let e=m(2);c(4),p("ngForOf",e.getSplitTypesForLegend())}}function ha(t,l){if(t&1&&(a(0,"div",44),L(1,"span",41),a(2,"span",42),s(3),r()()),t&2){let e=l.$implicit;c(),Ne("background-color",e.color),c(2),E(e.name)}}function _a(t,l){if(t&1&&(a(0,"div",36)(1,"div",37),s(2,"Classes"),r(),a(3,"div",38),_(4,ha,4,3,"div",43),r()()),t&2){let e=m(2);c(4),p("ngForOf",e.getUniqueClasses())}}function xa(t,l){if(t&1&&(a(0,"div",33)(1,"h4",34),s(2,"Legend"),r(),_(3,fa,5,1,"div",35)(4,_a,5,1,"div",35),r()),t&2){let e=m();c(3),p("ngIf",e.viewMode==="byClass"),c(),p("ngIf",e.viewMode==="bySplit")}}function Ca(t,l){if(t&1&&(a(0,"div",47)(1,"span",51),s(2),r(),a(3,"span",49),s(4,"Unassigned"),r()()),t&2){let e=m(2);c(2),E(e.splitPreview.unassignedCount)}}function Ma(t,l){if(t&1&&(a(0,"div",45)(1,"div",46)(2,"div",47)(3,"span",48),s(4),r(),a(5,"span",49),s(6,"Total Images"),r()(),_(7,Ca,5,1,"div",50),a(8,"div",47)(9,"span",48),s(10),r(),a(11,"span",49),s(12,"Classes"),r()()()()),t&2){let e=m();c(4),E(e.splitPreview.totalImages),c(3),p("ngIf",e.splitPreview.unassignedCount>0),c(3),E(e.splitPreview.byClass.length||0)}}var un=(()=>{class t{constructor(){this.splitPreview=null,this.totalImages=0,this.viewMode="byClass",this.barSegments=[],this.splitTypeConfig=Gi,this.defaultClassColors=["#e91e63","#9c27b0","#673ab7","#3f51b5","#00bcd4","#009688","#8bc34a","#cddc39","#ffc107","#ff5722","#795548","#607d8b"],this.classColorMap=new Map}ngOnChanges(e){(e.splitPreview||e.totalImages)&&this.calculateBarSegments()}toggleView(e){this.viewMode=e,this.calculateBarSegments()}calculateBarSegments(){if(!this.splitPreview){this.barSegments=[];return}this.viewMode==="byClass"?this.calculateByClassSegments():this.calculateBySplitSegments()}getClassColor(e){if(this.splitPreview?.byClass){let o=this.splitPreview.byClass.find(d=>d.className===e);if(o?.classColor)return o.classColor}if(this.classColorMap.has(e))return this.classColorMap.get(e);let i=this.classColorMap.size%this.defaultClassColors.length,n=this.defaultClassColors[i];return this.classColorMap.set(e,n),n}getSplitColor(e){return this.splitTypeConfig[e]?.color||"#9e9e9e"}getSplitLabel(e){return this.splitTypeConfig[e]?.label||e}calculatePercentage(e,i){return i===0?0:e/i*100}getClassTotal(e){return e.train+e.dev+e.test+e.unassigned}getSplitTotal(e){return e.classes.reduce((i,n)=>i+n.count,0)}getClassBarSegments(e){let i=this.getClassTotal(e);if(i===0)return[];let n=[],o=["train","dev","test","unassigned"];for(let d of o){let x=e[d];x>0&&n.push({label:this.getSplitLabel(d),color:this.getSplitColor(d),percentage:this.calculatePercentage(x,i),count:x})}return n}getSplitBarSegments(e){let i=this.getSplitTotal(e);return i===0?[]:e.classes.filter(n=>n.count>0).map(n=>({label:n.className,color:n.classColor||this.getClassColor(n.className),percentage:this.calculatePercentage(n.count,i),count:n.count}))}getUniqueClasses(){return this.splitPreview?.byClass?this.splitPreview.byClass.map(e=>({name:e.className,color:e.classColor||this.getClassColor(e.className)})):[]}getSplitTypesForLegend(){return["train","dev","test","unassigned"].map(i=>({type:i,label:this.splitTypeConfig[i].label,color:this.splitTypeConfig[i].color}))}hasData(){return this.splitPreview!==null&&(this.splitPreview.byClass.length>0||this.splitPreview.bySplit.length>0)}getSegmentTooltip(e){return`${e.label}: ${e.count} images (${e.percentage.toFixed(1)}%)`}calculateByClassSegments(){}calculateBySplitSegments(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["app-split-preview"]],inputs:{splitPreview:"splitPreview",totalImages:"totalImages"},features:[Se],decls:21,vars:5,consts:[["noData",""],[1,"split-preview-container"],[1,"section-header"],[1,"preview-title"],[1,"section-description"],[1,"view-toggle"],["aria-label","View mode","data-testid","view-mode-toggle",3,"change","value"],["data-testid","by-class-toggle","matTooltip","View distribution of splits within each class","value","byClass"],["data-testid","by-split-toggle","matTooltip","View distribution of classes within each split","value","bySplit"],["class","preview-content",4,"ngIf","ngIfElse"],["class","legend-section",4,"ngIf"],["class","summary-section",4,"ngIf"],[1,"preview-content"],["class","by-class-view",4,"ngIf"],["class","by-split-view",4,"ngIf"],[1,"by-class-view"],["class","class-row","data-testid","class-row",4,"ngFor","ngForOf"],["data-testid","class-row",1,"class-row"],[1,"row-label"],[1,"color-indicator"],[1,"label-text",3,"matTooltip"],[1,"label-count"],[1,"color-bar-container"],[1,"color-bar"],[4,"ngFor","ngForOf"],["data-testid","bar-segment",1,"bar-segment",3,"matTooltip"],["class","segment-label",4,"ngIf"],[1,"segment-label"],[1,"by-split-view"],["class","split-row","data-testid","split-row",4,"ngFor","ngForOf"],["data-testid","split-row",1,"split-row"],[1,"label-text"],[1,"no-data-message"],[1,"legend-section"],[1,"legend-title"],["class","legend-group",4,"ngIf"],[1,"legend-group"],[1,"legend-subtitle"],[1,"legend-items"],["class","legend-item","data-testid","legend-item-split",4,"ngFor","ngForOf"],["data-testid","legend-item-split",1,"legend-item"],[1,"legend-color"],[1,"legend-label"],["class","legend-item","data-testid","legend-item-class",4,"ngFor","ngForOf"],["data-testid","legend-item-class",1,"legend-item"],[1,"summary-section"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-item",4,"ngIf"],[1,"stat-value","warning"]],template:function(i,n){if(i&1){let o=z();a(0,"div",1)(1,"div",2)(2,"h3",3),s(3,"Preview your split"),r(),a(4,"p",4),s(5," Visualize how your images are distributed across training, development, and test sets. "),r()(),a(6,"div",5)(7,"mat-button-toggle-group",6),g("change",function(x){return C(o),M(n.toggleView(x.value))}),a(8,"mat-button-toggle",7)(9,"mat-icon"),s(10,"category"),r(),s(11," By class "),r(),a(12,"mat-button-toggle",8)(13,"mat-icon"),s(14,"pie_chart"),r(),s(15," By Split "),r()()(),_(16,ma,3,2,"div",9)(17,ga,5,0,"ng-template",null,0,Te)(19,xa,5,2,"div",10)(20,Ma,13,3,"div",11),r()}if(i&2){let o=he(18);c(7),p("value",n.viewMode),c(9),p("ngIf",n.hasData())("ngIfElse",o),c(3),p("ngIf",n.hasData()),c(),p("ngIf",n.splitPreview)}},dependencies:[N,Ee,j,An,si,oo,ao,re,xe,B,H],styles:[".split-preview-container[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:8px;margin-bottom:24px}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:500;color:#000000de}.section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009}.section-header[_ngcontent-%COMP%]   .preview-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.section-header[_ngcontent-%COMP%]   .preview-title[_ngcontent-%COMP%]   .image-count[_ngcontent-%COMP%]{font-weight:400;color:#0009;font-size:16px}.view-toggle[_ngcontent-%COMP%]{margin-bottom:24px}.view-toggle[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}.view-toggle[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;width:18px;height:18px}.view-toggle[_ngcontent-%COMP%]     .mat-button-toggle-checked{background-color:#3f51b51f}.view-toggle[_ngcontent-%COMP%]     .mat-button-toggle-checked .mat-button-toggle-label-content{color:#3f51b5}.preview-content[_ngcontent-%COMP%]{margin-bottom:24px}.class-row[_ngcontent-%COMP%], .split-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px;padding:8px 0}.class-row[_ngcontent-%COMP%]:last-child, .split-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.row-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:150px;width:150px;flex-shrink:0}.row-label[_ngcontent-%COMP%]   .color-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0;box-shadow:0 1px 2px #0003}.row-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000000de;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100px}.row-label[_ngcontent-%COMP%]   .label-count[_ngcontent-%COMP%]{font-size:12px;color:#00000061;flex-shrink:0}.color-bar-container[_ngcontent-%COMP%]{flex:1;min-width:0}.color-bar[_ngcontent-%COMP%]{display:flex;height:28px;border-radius:4px;overflow:hidden;background-color:#e0e0e0;box-shadow:inset 0 1px 3px #0000001a}.bar-segment[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:0;transition:width .3s ease,opacity .2s ease;cursor:pointer;position:relative}.bar-segment[_ngcontent-%COMP%]:hover{opacity:.85;z-index:1}.bar-segment[_ngcontent-%COMP%]   .segment-label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.4);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 4px}.no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:32px 16px;background-color:#fafafa;border-radius:8px;color:#0009;font-size:14px}.no-data-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#00000061}.legend-section[_ngcontent-%COMP%]{margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}.legend-section[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:500;color:#000000de}.legend-group[_ngcontent-%COMP%]{margin-bottom:16px}.legend-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.legend-group[_ngcontent-%COMP%]   .legend-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.legend-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px;flex-shrink:0}.legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:13px;color:#0009}.summary-section[_ngcontent-%COMP%]{margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}.summary-stats[_ngcontent-%COMP%]{display:flex;gap:32px;flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000000de}.stat-item[_ngcontent-%COMP%]   .stat-value.warning[_ngcontent-%COMP%]{color:#ff9800}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#0009;text-transform:uppercase;letter-spacing:.5px}@media (max-width: 768px){.class-row[_ngcontent-%COMP%], .split-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.row-label[_ngcontent-%COMP%]{width:100%;max-width:none}.row-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{max-width:none}.color-bar-container[_ngcontent-%COMP%]{width:100%}.legend-items[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.summary-stats[_ngcontent-%COMP%]{justify-content:space-around}}@media (max-width: 480px){.split-preview-container[_ngcontent-%COMP%]{padding:8px}.view-toggle[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}.view-toggle[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{flex:1}.color-bar[_ngcontent-%COMP%]{height:24px}.bar-segment[_ngcontent-%COMP%]   .segment-label[_ngcontent-%COMP%]{font-size:10px}}"]})}}return t})();var Je=[{value:"RepPoints-[37M]",label:"RepPoints-[37M]"},{value:"RepPoints-[50M]",label:"RepPoints-[50M]"},{value:"RepPoints-[101M]",label:"RepPoints-[101M]"}];function va(t,l){if(t&1&&(a(0,"mat-option",13)(1,"mat-icon"),s(2,"memory"),r(),s(3),r()),t&2){let e=l.$implicit;p("value",e.value),c(3),F(" ",e.label," ")}}function ya(t,l){t&1&&L(0,"mat-spinner",14)}var fn=(()=>{class t{constructor(e){this.modelParamHttpService=e,this.config=u({},Si),this.locationId=null,this.modelType=null,this.configChange=new ve,this.modelSizeOptions=[...Je],this.isLoadingModelSizes=!1,this.FALLBACK_MODEL_SIZES=Je,this.EPOCH_MIN=V.MIN,this.EPOCH_MAX=V.MAX,this.EPOCH_DEFAULT=V.DEFAULT,this.EPOCH_STEP=V.STEP,this.epochValue=V.DEFAULT,this.modelSizeValue=Si.modelSize,this.epochTooltip="An epoch is one complete pass through the entire training dataset. More epochs generally lead to better model performance, but may cause overfitting. Recommended range: 20-60 epochs for most use cases.",this.modelSizeTooltip="Model size affects training time and accuracy. Larger models (101M) typically achieve higher accuracy but require more training time and resources. Smaller models (37M) train faster and are suitable for simpler tasks.",this.destroy$=new ce}get isEpochValid(){return this.epochValue>=this.EPOCH_MIN&&this.epochValue<=this.EPOCH_MAX}get epochErrorMessage(){return this.epochValue<this.EPOCH_MIN?`Epoch must be at least ${this.EPOCH_MIN}`:this.epochValue>this.EPOCH_MAX?`Epoch must be at most ${this.EPOCH_MAX}`:""}ngOnInit(){this.syncFromInput(),this.loadModelSizes()}ngOnChanges(e){if(e.config&&!e.config.firstChange){let o=e.config.previousValue,d=e.config.currentValue;(o?.epochs!==d?.epochs||o?.modelSize!==d?.modelSize)&&this.syncFromInput()}let i=e.locationId,n=e.modelType;(i&&i.previousValue!==i.currentValue||n&&n.previousValue!==n.currentValue)&&this.loadModelSizes()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onEpochInputChange(e){let i=e.target,n=parseInt(i.value,10);isNaN(n)||(this.epochValue=It(n),i.value=this.epochValue.toString(),this.emitChange())}onEpochSliderChange(e){this.epochValue=It(e),this.emitChange()}onModelSizeChange(e){this.modelSizeValue=e,this.emitChange()}emitChange(){let e={epochs:this.epochValue,modelSize:this.modelSizeValue};this.configChange.emit(e)}getModelSizeLabel(e){let i=this.modelSizeOptions.find(n=>n.value===e);return i?i.label:e}loadModelSizes(){if(console.log("[HyperparametersConfig] loadModelSizes called, locationId:",this.locationId,"modelType:",this.modelType),!this.locationId||!this.modelType){this.modelSizeOptions=[...Je];return}this.isLoadingModelSizes=!0,this.modelParamHttpService.getModelParamsByType(this.locationId,this.modelType).pipe(K(this.destroy$)).subscribe({next:e=>{console.log("[HyperparametersConfig] API returned params:",e);let i=[...new Set(e.map(n=>n.modelName))];i.length>0?(this.modelSizeOptions=i.map(n=>({value:n,label:n})),this.modelSizeOptions.some(n=>n.value===this.modelSizeValue)||(this.modelSizeValue=this.modelSizeOptions[0].value,this.emitChange())):(console.log("[HyperparametersConfig] No model params found, using fallback"),this.modelSizeOptions=[...Je]),this.isLoadingModelSizes=!1},error:e=>{console.error("[HyperparametersConfig] API error:",e),this.modelSizeOptions=[...Je],this.isLoadingModelSizes=!1}})}syncFromInput(){this.config&&(this.epochValue=this.config.epochs,this.modelSizeValue=this.config.modelSize)}static{this.\u0275fac=function(i){return new(i||t)(k(ci))}}static{this.\u0275cmp=R({type:t,selectors:[["app-hyperparameters-config"]],inputs:{config:"config",locationId:"locationId",modelType:"modelType"},outputs:{configChange:"configChange"},features:[Se],decls:20,vars:6,consts:[[1,"hyperparameters-config-container"],[1,"section-header"],[1,"section-description"],[1,"config-row-inline"],[1,"config-item","model-size-config"],[1,"config-label"],[1,"label-text"],["data-testid","model-size-tooltip-icon","matTooltipPosition","above",1,"info-icon",3,"matTooltip"],[1,"config-controls"],["appearance","outline",1,"model-size-select"],["data-testid","model-size-select","matTooltipPosition","above",3,"selectionChange","disabled","matTooltip","value"],[3,"value",4,"ngFor","ngForOf"],["class","model-size-spinner","diameter","20",4,"ngIf"],[3,"value"],["diameter","20",1,"model-size-spinner"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Hyperparameters"),r(),a(4,"p",2),s(5," Configure the training hyperparameters for your model. "),r()(),a(6,"div",3)(7,"div",4)(8,"div",5)(9,"span",6),s(10,"Base Model"),r(),a(11,"mat-icon",7),s(12," info_outline "),r()(),a(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),s(16,"Select model size"),r(),a(17,"mat-select",10),g("selectionChange",function(d){return n.onModelSizeChange(d.value)}),_(18,va,4,2,"mat-option",11),r()(),_(19,ya,1,0,"mat-spinner",12),r()()()()),i&2&&(c(11),p("matTooltip",n.modelSizeTooltip),c(6),p("disabled",n.isLoadingModelSizes)("matTooltip",n.modelSizeTooltip)("value",n.modelSizeValue),c(),p("ngForOf",n.modelSizeOptions),c(),p("ngIf",n.isLoadingModelSizes))},dependencies:[N,Ee,j,J,le,Me,Ce,ke,ai,oi,di,se,re,xe,B,H,Ie,pt],styles:[".hyperparameters-config-container[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:8px;margin-bottom:24px}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:500;color:#000000de}.section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009}.config-row-inline[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:24px}.config-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.config-item.model-size-config[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;border:1px solid #e0e0e0;padding:16px;transition:border-color .2s ease,box-shadow .2s ease;width:fit-content;min-width:380px}.config-item.model-size-config[_ngcontent-%COMP%]:hover{border-color:#3f51b54d;box-shadow:0 2px 8px #00000014}.config-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.config-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000000de}.config-label[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#0009;cursor:help;transition:color .2s ease}.config-label[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]:hover{color:#3f51b5}.config-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.epoch-input-field[_ngcontent-%COMP%]{width:120px}.epoch-input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;font-weight:500}.epoch-input-field[_ngcontent-%COMP%]   .error-hint[_ngcontent-%COMP%]{color:#f44336}.epoch-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.epoch-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .epoch-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .epoch-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.epoch-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#fafafa;border-radius:4px}.epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch, .epoch-input-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.slider-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:66.67%}.slider-wrapper[_ngcontent-%COMP%]   .slider-min[_ngcontent-%COMP%], .slider-wrapper[_ngcontent-%COMP%]   .slider-max[_ngcontent-%COMP%]{font-size:12px;color:#0009;min-width:24px;text-align:center}.slider-wrapper[_ngcontent-%COMP%]   .epoch-slider[_ngcontent-%COMP%]{flex:1;--mdc-slider-handle-color: #3f51b5;--mdc-slider-focus-handle-color: #3f51b5;--mdc-slider-hover-handle-color: #3f51b5;--mdc-slider-active-track-color: #3f51b5;--mdc-slider-inactive-track-color: rgba(63, 81, 181, .3);--mdc-slider-with-tick-marks-active-container-color: #3f51b5;--mdc-slider-with-tick-marks-inactive-container-color: rgba(63, 81, 181, .3)}.value-display[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:4px;padding:8px 16px;background-color:#3f51b51f;border-radius:4px;width:fit-content}.value-display[_ngcontent-%COMP%]   .value-number[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#3f51b5}.value-display[_ngcontent-%COMP%]   .value-number.invalid[_ngcontent-%COMP%]{color:#f44336}.value-display[_ngcontent-%COMP%]   .value-unit[_ngcontent-%COMP%]{font-size:12px;color:#0009}.model-size-select[_ngcontent-%COMP%]{width:100%;max-width:280px}.model-size-select[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px;vertical-align:middle;color:#0009}.model-size-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.model-size-select[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .model-size-select[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .model-size-select[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.model-size-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#fafafa;border-radius:4px}.model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch, .model-size-select[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:transparent!important}.model-size-info[_ngcontent-%COMP%]{display:flex;align-items:center}.model-size-info[_ngcontent-%COMP%]   .size-description[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#3f51b50d;border-radius:4px;color:#3f51b5;font-size:12px}.model-size-info[_ngcontent-%COMP%]   .size-description[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.config-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;padding:16px;background-color:#fff;border-radius:8px;border:1px solid #e0e0e0}.config-summary[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:500;color:#0009;margin-bottom:8px}.config-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#000000de;padding:6px 16px;background-color:#3f51b51f;border-radius:4px}.config-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#3f51b5}@media (max-width: 768px){.config-row-inline[_ngcontent-%COMP%]{flex-direction:column;gap:24px}.config-item[_ngcontent-%COMP%]{width:100%}.model-size-select[_ngcontent-%COMP%]{max-width:100%}.config-summary[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}.model-size-spinner[_ngcontent-%COMP%]{display:inline-block;margin-left:8px}"]})}}return t})();function Pa(t,l){if(t&1){let e=z();a(0,"div",23),g("mouseenter",function(){C(e);let n=m();return M(n.isManualResizeHovered=!0)})("mouseleave",function(){C(e);let n=m();return M(n.isManualResizeHovered=!1)}),a(1,"div",5)(2,"div",6)(3,"mat-icon",7),s(4,"photo_size_select_large"),r(),a(5,"div",8)(6,"span",9),s(7,"Manual resize"),r(),a(8,"span",10),s(9,"Resize to exact dimensions"),r()()(),a(10,"div",24)(11,"button",25),g("click",function(){C(e);let n=m();return M(n.openManualResizeDialog())}),a(12,"mat-icon"),s(13,"edit"),r()(),a(14,"button",26),g("click",function(){C(e);let n=m();return M(n.removeTransform("manualResize"))}),a(15,"mat-icon"),s(16,"close"),r()()()(),a(17,"div",12)(18,"div",13)(19,"div",15)(20,"div",16)(21,"label"),s(22,"Width"),r(),a(23,"input",27),g("change",function(n){C(e);let o=m();return M(o.onManualResizeWidthChange(n))}),r(),a(24,"span",18),s(25,"px"),r()(),a(26,"span",19),s(27,"\xD7"),r(),a(28,"div",16)(29,"label"),s(30,"Height"),r(),a(31,"input",28),g("change",function(n){C(e);let o=m();return M(o.onManualResizeHeightChange(n))}),r(),a(32,"span",18),s(33,"px"),r()()()(),a(34,"div",29)(35,"label",30)(36,"input",31),g("change",function(n){C(e);let o=m();return M(o.onKeepAspectRatioChange(n.target.checked))}),r(),a(37,"span"),s(38,"Keep aspect ratio"),r()()()()()}if(t&2){let e=m();p("matTooltip",e.manualResizeTooltip),c(11),me("visible",e.isManualResizeHovered),c(3),me("visible",e.isManualResizeHovered),c(9),p("value",e.manualResizeConfig.width),c(8),p("value",e.manualResizeConfig.height),c(5),p("checked",e.manualResizeConfig.keepAspectRatio)}}function Sa(t,l){if(t&1){let e=z();a(0,"div",32),g("mouseenter",function(){C(e);let n=m();return M(n.isCropHovered=!0)})("mouseleave",function(){C(e);let n=m();return M(n.isCropHovered=!1)}),a(1,"div",5)(2,"div",6)(3,"mat-icon",7),s(4,"crop"),r(),a(5,"div",8)(6,"span",9),s(7,"Crop"),r(),a(8,"span",10),s(9,"Extract a rectangular region"),r()()(),a(10,"div",24)(11,"button",33),g("click",function(){C(e);let n=m();return M(n.openCropDialog())}),a(12,"mat-icon"),s(13,"edit"),r()(),a(14,"button",34),g("click",function(){C(e);let n=m();return M(n.removeTransform("crop"))}),a(15,"mat-icon"),s(16,"close"),r()()()(),a(17,"div",35)(18,"div",36)(19,"div",13)(20,"label",14),s(21,"X Offset"),r(),a(22,"div",37)(23,"input",38),g("change",function(n){C(e);let o=m();return M(o.onCropChange("xOffset",n))}),r(),a(24,"span",18),s(25,"px"),r()()(),a(26,"div",13)(27,"label",14),s(28,"Y Offset"),r(),a(29,"div",37)(30,"input",39),g("change",function(n){C(e);let o=m();return M(o.onCropChange("yOffset",n))}),r(),a(31,"span",18),s(32,"px"),r()()()(),a(33,"div",36)(34,"div",13)(35,"label",14),s(36,"Width"),r(),a(37,"div",37)(38,"input",40),g("change",function(n){C(e);let o=m();return M(o.onCropChange("width",n))}),r(),a(39,"span",18),s(40,"px"),r()()(),a(41,"div",13)(42,"label",14),s(43,"Height"),r(),a(44,"div",37)(45,"input",41),g("change",function(n){C(e);let o=m();return M(o.onCropChange("height",n))}),r(),a(46,"span",18),s(47,"px"),r()()()()()()}if(t&2){let e=m();p("matTooltip",e.cropTooltip),c(11),me("visible",e.isCropHovered),c(3),me("visible",e.isCropHovered),c(9),p("value",e.cropConfig.xOffset),c(7),p("value",e.cropConfig.yOffset),c(8),p("value",e.cropConfig.width),c(7),p("value",e.cropConfig.height)}}var hn=(()=>{class t{constructor(e){this.dialog=e,this.config={},this.configChange=new ve,this.DEFAULT_RESCALE={enabled:!0,width:640,height:640},this.DEFAULT_MANUAL_RESIZE={width:640,height:640,keepAspectRatio:!0},this.DEFAULT_CROP={xOffset:0,yOffset:0,width:640,height:640},this.rescaleTooltip="Rescale with padding resizes images to a target size while maintaining aspect ratio. Padding is added to fill any remaining space, ensuring all images have consistent dimensions without distortion.",this.manualResizeTooltip='Manual resize allows you to specify exact target dimensions. Enable "Keep aspect ratio" to automatically calculate one dimension based on the other.',this.cropTooltip="Crop extracts a rectangular region from the image. Specify the offset from the top-left corner and the dimensions of the crop area.",this.rescaleEnabled=!0,this.rescaleConfig=u({},this.DEFAULT_RESCALE),this.hasManualResize=!1,this.manualResizeConfig=u({},this.DEFAULT_MANUAL_RESIZE),this.hasCrop=!1,this.cropConfig=u({},this.DEFAULT_CROP),this.isRescaleHovered=!1,this.isManualResizeHovered=!1,this.isCropHovered=!1}get imageSizeDisplay(){return`${this.rescaleConfig.width} \xD7 ${this.rescaleConfig.height}`}get canAddManualResize(){return!this.hasManualResize}get canAddCrop(){return!this.hasCrop}ngOnInit(){this.syncFromInput(),this.emitChange()}ngOnChanges(e){e.config&&!e.config.firstChange&&this.syncFromInput()}addTransform(e){e==="manualResize"&&!this.hasManualResize?(this.hasManualResize=!0,this.manualResizeConfig=u({},this.DEFAULT_MANUAL_RESIZE),this.emitChange(),this.openManualResizeDialog()):e==="crop"&&!this.hasCrop&&(this.hasCrop=!0,this.cropConfig=u({},this.DEFAULT_CROP),this.emitChange(),this.openCropDialog())}removeTransform(e){e==="manualResize"?(this.hasManualResize=!1,this.manualResizeConfig=u({},this.DEFAULT_MANUAL_RESIZE),this.emitChange()):e==="crop"&&(this.hasCrop=!1,this.cropConfig=u({},this.DEFAULT_CROP),this.emitChange())}openRescaleDialog(){this.dialog.open(_n,{width:"450px",data:{config:u({},this.rescaleConfig)}}).afterClosed().subscribe(i=>{i&&(this.rescaleConfig=i,this.emitChange())})}openManualResizeDialog(){this.dialog.open(xn,{width:"450px",data:{config:u({},this.manualResizeConfig),originalAspectRatio:this.manualResizeConfig.width/this.manualResizeConfig.height}}).afterClosed().subscribe(i=>{i&&(this.manualResizeConfig=i,this.emitChange())})}openCropDialog(){this.dialog.open(Cn,{width:"450px",data:{config:u({},this.cropConfig)}}).afterClosed().subscribe(i=>{i&&(this.cropConfig=i,this.emitChange())})}onRescaleWidthChange(e){let i=e.target,n=parseInt(i.value,10);!isNaN(n)&&n>0&&(this.rescaleConfig.width=n,this.emitChange())}onRescaleHeightChange(e){let i=e.target,n=parseInt(i.value,10);!isNaN(n)&&n>0&&(this.rescaleConfig.height=n,this.emitChange())}onManualResizeWidthChange(e){let i=e.target,n=parseInt(i.value,10);if(!isNaN(n)&&n>0){let o=this.manualResizeConfig.width;if(this.manualResizeConfig.width=n,this.manualResizeConfig.keepAspectRatio&&o>0){let d=this.manualResizeConfig.height/o;this.manualResizeConfig.height=Math.round(n*d)}this.emitChange()}}onManualResizeHeightChange(e){let i=e.target,n=parseInt(i.value,10);if(!isNaN(n)&&n>0){let o=this.manualResizeConfig.height;if(this.manualResizeConfig.height=n,this.manualResizeConfig.keepAspectRatio&&o>0){let d=this.manualResizeConfig.width/o;this.manualResizeConfig.width=Math.round(n*d)}this.emitChange()}}onKeepAspectRatioChange(e){this.manualResizeConfig.keepAspectRatio=e,this.emitChange()}onCropChange(e,i){let n=i.target,o=parseInt(n.value,10);!isNaN(o)&&o>=0&&(this.cropConfig[e]=o,this.emitChange())}emitChange(){let e={};this.rescaleEnabled&&(e.rescaleWithPadding=u({},this.rescaleConfig)),this.hasManualResize&&(e.manualResize=u({},this.manualResizeConfig)),this.hasCrop&&(e.crop=u({},this.cropConfig)),this.configChange.emit(e)}syncFromInput(){this.config&&(this.config.rescaleWithPadding?(this.rescaleEnabled=this.config.rescaleWithPadding.enabled,this.rescaleConfig=u({},this.config.rescaleWithPadding)):(this.rescaleEnabled=!0,this.rescaleConfig=u({},this.DEFAULT_RESCALE)),this.config.manualResize?(this.hasManualResize=!0,this.manualResizeConfig=u({},this.config.manualResize)):(this.hasManualResize=!1,this.manualResizeConfig=u({},this.DEFAULT_MANUAL_RESIZE)),this.config.crop?(this.hasCrop=!0,this.cropConfig=u({},this.config.crop)):(this.hasCrop=!1,this.cropConfig=u({},this.DEFAULT_CROP)))}static{this.\u0275fac=function(i){return new(i||t)(k(ti))}}static{this.\u0275cmp=R({type:t,selectors:[["app-transforms-config"]],inputs:{config:"config"},outputs:{configChange:"configChange"},features:[Se],decls:41,vars:7,consts:[[1,"transforms-config-container"],[1,"section-header"],[1,"section-description"],[1,"transform-items-row"],["data-testid","rescale-section","matTooltipPosition","above",1,"transform-item","rescale-section",3,"mouseenter","mouseleave","matTooltip"],[1,"transform-header"],[1,"transform-info"],[1,"transform-icon"],[1,"transform-details"],[1,"transform-name"],[1,"transform-description"],["data-testid","rescale-edit-button","mat-icon-button","","matTooltip","Edit rescale settings","matTooltipPosition","above",1,"edit-button",3,"click"],[1,"transform-config"],[1,"config-field"],[1,"field-label"],[1,"size-display"],[1,"size-input-group"],["data-testid","rescale-width-input","min","1","type","number",1,"size-input",3,"change","value"],[1,"unit"],[1,"size-separator"],["data-testid","rescale-height-input","min","1","type","number",1,"size-input",3,"change","value"],["class","transform-item manual-resize-section","data-testid","manual-resize-section","matTooltipPosition","above",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],["class","transform-item crop-section","data-testid","crop-section","matTooltipPosition","above",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],["data-testid","manual-resize-section","matTooltipPosition","above",1,"transform-item","manual-resize-section",3,"mouseenter","mouseleave","matTooltip"],[1,"transform-actions"],["data-testid","manual-resize-edit-button","mat-icon-button","","matTooltip","Edit manual resize settings","matTooltipPosition","above",1,"edit-button",3,"click"],["data-testid","manual-resize-remove-button","mat-icon-button","","matTooltip","Remove manual resize","matTooltipPosition","above",1,"remove-button",3,"click"],["data-testid","manual-resize-width-input","min","1","type","number",1,"size-input",3,"change","value"],["data-testid","manual-resize-height-input","min","1","type","number",1,"size-input",3,"change","value"],[1,"config-field","checkbox-field"],[1,"checkbox-label"],["data-testid","keep-aspect-ratio-checkbox","type","checkbox",3,"change","checked"],["data-testid","crop-section","matTooltipPosition","above",1,"transform-item","crop-section",3,"mouseenter","mouseleave","matTooltip"],["data-testid","crop-edit-button","mat-icon-button","","matTooltip","Edit crop settings","matTooltipPosition","above",1,"edit-button",3,"click"],["data-testid","crop-remove-button","mat-icon-button","","matTooltip","Remove crop","matTooltipPosition","above",1,"remove-button",3,"click"],[1,"transform-config","crop-config"],[1,"config-row"],[1,"input-with-unit"],["data-testid","crop-x-offset-input","min","0","type","number",1,"size-input",3,"change","value"],["data-testid","crop-y-offset-input","min","0","type","number",1,"size-input",3,"change","value"],["data-testid","crop-width-input","min","1","type","number",1,"size-input",3,"change","value"],["data-testid","crop-height-input","min","1","type","number",1,"size-input",3,"change","value"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Image Transforms"),r(),a(4,"p",2),s(5," Configure image transformations to prepare your data for training. "),r()(),a(6,"div",3)(7,"div",4),g("mouseenter",function(){return n.isRescaleHovered=!0})("mouseleave",function(){return n.isRescaleHovered=!1}),a(8,"div",5)(9,"div",6)(10,"mat-icon",7),s(11,"aspect_ratio"),r(),a(12,"div",8)(13,"span",9),s(14,"Rescale with padding"),r(),a(15,"span",10),s(16,"Resize images while maintaining aspect ratio"),r()()(),a(17,"button",11),g("click",function(){return n.openRescaleDialog()}),a(18,"mat-icon"),s(19,"edit"),r()()(),a(20,"div",12)(21,"div",13)(22,"label",14),s(23,"Image Size"),r(),a(24,"div",15)(25,"div",16)(26,"label"),s(27,"Width"),r(),a(28,"input",17),g("change",function(d){return n.onRescaleWidthChange(d)}),r(),a(29,"span",18),s(30,"px"),r()(),a(31,"span",19),s(32,"\xD7"),r(),a(33,"div",16)(34,"label"),s(35,"Height"),r(),a(36,"input",20),g("change",function(d){return n.onRescaleHeightChange(d)}),r(),a(37,"span",18),s(38,"px"),r()()()()()(),_(39,Pa,39,8,"div",21)(40,Sa,48,9,"div",22),r()()),i&2&&(c(7),p("matTooltip",n.rescaleTooltip),c(10),me("visible",n.isRescaleHovered),c(11),p("value",n.rescaleConfig.width),c(8),p("value",n.rescaleConfig.height),c(3),p("ngIf",n.hasManualResize),c(),p("ngIf",n.hasCrop))},dependencies:[N,j,J,Y,nt,B,H,Mt,re,xe,ae,De],styles:[".transforms-config-container[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:8px;margin-bottom:24px}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:500;color:#000000de}.section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009}.transform-items-row[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.transform-items-row[_ngcontent-%COMP%]   .transform-item[_ngcontent-%COMP%]{flex:1;min-width:280px;max-width:calc(33.33% - 16px)}.transform-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;border:1px solid #e0e0e0;padding:16px;transition:border-color .2s ease,box-shadow .2s ease}.transform-item[_ngcontent-%COMP%]:hover{border-color:#3f51b54d;box-shadow:0 2px 8px #00000014}.transform-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.transform-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.transform-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.transform-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#3f51b5}.transform-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.transform-details[_ngcontent-%COMP%]   .transform-name[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#000000de}.transform-details[_ngcontent-%COMP%]   .transform-description[_ngcontent-%COMP%]{font-size:13px;color:#0009}.transform-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.edit-button[_ngcontent-%COMP%], .remove-button[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease}.edit-button.visible[_ngcontent-%COMP%], .remove-button.visible[_ngcontent-%COMP%]{opacity:1}.edit-button[_ngcontent-%COMP%]{color:#3f51b5}.edit-button[_ngcontent-%COMP%]:hover{background-color:#3f51b51f}.remove-button[_ngcontent-%COMP%]{color:#f44336}.remove-button[_ngcontent-%COMP%]:hover{background-color:#f443361a}.transform-config[_ngcontent-%COMP%]{padding-top:8px;border-top:1px solid #e0e0e0}.config-field[_ngcontent-%COMP%]{margin-bottom:8px}.config-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field-label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:500;color:#0009;margin-bottom:6px}.size-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.size-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.size-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#0009}.size-input[_ngcontent-%COMP%]{width:100px;padding:8px;border:1px solid #e0e0e0;border-radius:4px;font-size:14px;color:#000000de;transition:border-color .2s ease}.size-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5}.size-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .size-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.size-separator[_ngcontent-%COMP%]{font-size:18px;color:#0009;margin-top:20px}.unit[_ngcontent-%COMP%]{font-size:13px;color:#0009;margin-left:4px}.input-with-unit[_ngcontent-%COMP%]{display:flex;align-items:center}.crop-config[_ngcontent-%COMP%]   .config-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:8px}.crop-config[_ngcontent-%COMP%]   .config-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.checkbox-field[_ngcontent-%COMP%]{margin-top:8px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;color:#000000de}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#3f51b5}.add-transform-section[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}.add-transform-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#3f51b5;border-color:#3f51b5}.add-transform-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.add-transform-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3f51b50d}.add-transform-button[_ngcontent-%COMP%]:disabled{color:#0009;border-color:#e0e0e0}.config-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;padding:16px;background-color:#fff;border-radius:8px;border:1px solid #e0e0e0}.config-summary[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:500;color:#0009;margin-bottom:8px}.config-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#000000de;padding:6px 16px;background-color:#3f51b51f;border-radius:4px}.config-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#3f51b5}.config-summary[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}@media (max-width: 768px){.transform-items-row[_ngcontent-%COMP%]{flex-direction:column}.transform-items-row[_ngcontent-%COMP%]   .transform-item[_ngcontent-%COMP%]{max-width:100%;min-width:100%}.transform-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.transform-actions[_ngcontent-%COMP%]{align-self:flex-end}.size-display[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.size-separator[_ngcontent-%COMP%]{display:none}.crop-config[_ngcontent-%COMP%]   .config-row[_ngcontent-%COMP%], .config-summary[_ngcontent-%COMP%]   .summary-items[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.config-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{width:100%}}.size-input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3f51b5;outline-offset:2px}input[type=checkbox][_ngcontent-%COMP%]:focus-visible{outline:2px solid #3f51b5;outline-offset:2px}  .mat-mdc-menu-panel{min-width:180px}  .mat-mdc-menu-panel .mat-mdc-menu-item mat-icon{margin-right:8px;color:#0009}  .mat-mdc-menu-panel .mat-mdc-menu-item:hover mat-icon{color:#3f51b5}"]})}}return t})();var V={MIN:1,MAX:100,DEFAULT:40,STEP:1},Si={epochs:V.DEFAULT,modelSize:"RepPoints-[37M]"};function It(t){return t<V.MIN?V.MIN:t>V.MAX?V.MAX:Math.round(t)}function Mn(t){return Number.isInteger(t)&&t>=V.MIN&&t<=V.MAX}var de={epochs:{required:"Epoch \u503C\u662F\u5FC5\u586B\u9879",min:`Epoch \u503C\u4E0D\u80FD\u5C0F\u4E8E ${V.MIN}`,max:`Epoch \u503C\u4E0D\u80FD\u5927\u4E8E ${V.MAX}`,invalid:"Epoch \u503C\u5FC5\u987B\u662F\u6709\u6548\u7684\u6574\u6570"},distribution:{sumNotHundred:"\u8BAD\u7EC3\u96C6\u3001\u9A8C\u8BC1\u96C6\u548C\u6D4B\u8BD5\u96C6\u7684\u6BD4\u4F8B\u4E4B\u548C\u5FC5\u987B\u7B49\u4E8E 100%",negativeValue:"\u5206\u5E03\u6BD4\u4F8B\u4E0D\u80FD\u4E3A\u8D1F\u6570",invalidValue:"\u5206\u5E03\u6BD4\u4F8B\u5FC5\u987B\u662F\u6709\u6548\u7684\u6570\u5B57"},modelSize:{required:"\u8BF7\u9009\u62E9\u6A21\u578B\u5C3A\u5BF8"},modelAlias:{required:"\u6A21\u578B\u522B\u540D\u662F\u5FC5\u586B\u9879"},projectId:{required:"\u9879\u76EE ID \u662F\u5FC5\u586B\u9879"},modelConfigs:{required:"\u81F3\u5C11\u9700\u8981\u4E00\u4E2A\u6A21\u578B\u914D\u7F6E"}};function So(t){let l=[];return(t.train<0||t.dev<0||t.test<0)&&l.push({field:"distribution",message:de.distribution.negativeValue}),(isNaN(t.train)||isNaN(t.dev)||isNaN(t.test))&&l.push({field:"distribution",message:de.distribution.invalidValue}),t.train+t.dev+t.test!==100&&l.push({field:"distribution",message:de.distribution.sumNotHundred}),{isValid:l.length===0,errors:l}}function wo(t,l=0){let e=[],i=l>0?`\u6A21\u578B ${l+1}: `:"";return(!t.modelAlias||t.modelAlias.trim()==="")&&e.push({field:`modelConfigs[${l}].modelAlias`,message:i+de.modelAlias.required}),t.epochs===void 0||t.epochs===null?e.push({field:`modelConfigs[${l}].epochs`,message:i+de.epochs.required}):isNaN(t.epochs)?e.push({field:`modelConfigs[${l}].epochs`,message:i+de.epochs.invalid}):Mn(t.epochs)||(t.epochs<V.MIN?e.push({field:`modelConfigs[${l}].epochs`,message:i+de.epochs.min}):t.epochs>V.MAX&&e.push({field:`modelConfigs[${l}].epochs`,message:i+de.epochs.max})),(!t.modelSize||t.modelSize.trim()==="")&&e.push({field:`modelConfigs[${l}].modelSize`,message:i+de.modelSize.required}),{isValid:e.length===0,errors:e}}function Oo(t){let l=[];return t?((!t.projectId||t.projectId<=0)&&l.push({field:"projectId",message:de.projectId.required}),!t.modelConfigs||t.modelConfigs.length===0?(l.push({field:"modelConfigs",message:de.modelConfigs.required}),{isValid:!1,errors:l}):(t.modelConfigs.forEach((e,i)=>{let n=wo(e,i);l.push(...n.errors)}),{isValid:l.length===0,errors:l})):(l.push({field:"request",message:"\u8BAD\u7EC3\u8BF7\u6C42\u65E0\u6548"}),{isValid:!1,errors:l})}function bn(t,l){let e=[],i=So(t);e.push(...i.errors);let n=Oo(l);return e.push(...n.errors),{isValid:e.length===0,errors:e}}var pn=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Vi.server}api/landingai/project-splits`}getSplitPreview(e,i){let n=new Rn().set("projectId",e.toString());return i!=null&&(n=n.set("snapshotId",i.toString())),this.http.get(`${this.apiUrl}/preview`,{params:n})}assignSplit(e,i){return this.http.post(`${this.apiUrl}/assign`,{projectId:e,distribution:i})}getProjectClasses(e){return this.http.get(`${Vi.server}api/landingai/project-classes/project/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(pe(Fn))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Va={epochs:{required:"Epoch \u503C\u662F\u5FC5\u586B\u9879",min:"Epoch \u503C\u4E0D\u80FD\u5C0F\u4E8E 1",max:"Epoch \u503C\u4E0D\u80FD\u5927\u4E8E 100"},distribution:{sumNotHundred:"\u8BAD\u7EC3\u96C6\u3001\u9A8C\u8BC1\u96C6\u548C\u6D4B\u8BD5\u96C6\u7684\u6BD4\u4F8B\u4E4B\u548C\u5FC5\u987B\u7B49\u4E8E 100%"},modelSize:{required:"\u8BF7\u9009\u62E9\u6A21\u578B\u5C3A\u5BF8"},crop:{negativeValue:"\u88C1\u526A\u53C2\u6570\u4E0D\u80FD\u4E3A\u8D1F\u6570"},resize:{invalidDimension:"\u5C3A\u5BF8\u5FC5\u987B\u4E3A\u6B63\u6574\u6570"}},mn=(()=>{class t{constructor(e){this.snackBar=e,this.defaultDuration=5e3}handleHttpError(e){let i=this.getErrorMessage(e);return this.showError(i),yn(()=>new Error(i))}getErrorMessage(e){return e.status===0?"\u7F51\u7EDC\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8BBE\u7F6E":e.status===400?this.extractValidationMessage(e)||"\u8BF7\u6C42\u53C2\u6570\u65E0\u6548":e.status===401?"\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55":e.status===403?"\u6CA1\u6709\u6743\u9650\u6267\u884C\u6B64\u64CD\u4F5C":e.status===404?"\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728":e.status===409?e.error?.message||"\u64CD\u4F5C\u51B2\u7A81\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5":e.status>=500?"\u670D\u52A1\u5668\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5":e.error?.message||"\u53D1\u751F\u672A\u77E5\u9519\u8BEF"}showError(e,i=this.defaultDuration){this.snackBar.open(e,"\u5173\u95ED",{duration:i,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showSuccess(e,i=3e3){this.snackBar.open(e,"\u5173\u95ED",{duration:i,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showWarning(e,i=4e3){this.snackBar.open(e,"\u5173\u95ED",{duration:i,panelClass:["warning-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showInfo(e,i=3e3){this.snackBar.open(e,"\u5173\u95ED",{duration:i,panelClass:["info-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}getValidationMessage(e,i){return Va[e]?.[i]||"\u8F93\u5165\u65E0\u6548"}extractValidationMessage(e){let i=e.error;return i?.message?i.message:i?.details&&i.details.length>0?i.details.join("; "):null}static{this.\u0275fac=function(i){return new(i||t)(pe(ot))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Na(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.widthError)}}function Ba(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.heightError)}}var _n=(()=>{class t{constructor(e,i){this.dialogRef=e,this.data=i,this.width=640,this.height=640,this.widthError="",this.heightError=""}ngOnInit(){this.data?.config&&(this.width=this.data.config.width,this.height=this.data.config.height)}validateWidth(){return!this.width||this.width<1?(this.widthError="Width must be at least 1 pixel",!1):Number.isInteger(this.width)?(this.widthError="",!0):(this.widthError="Width must be a whole number",!1)}validateHeight(){return!this.height||this.height<1?(this.heightError="Height must be at least 1 pixel",!1):Number.isInteger(this.height)?(this.heightError="",!0):(this.heightError="Height must be a whole number",!1)}isValid(){return this.validateWidth()&&this.validateHeight()}onSave(){if(this.isValid()){let e={enabled:!0,width:this.width,height:this.height};this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(k(rt),k(lt))}}static{this.\u0275cmp=R({type:t,selectors:[["app-rescale-padding-dialog"]],decls:35,vars:7,consts:[["mat-dialog-title",""],[1,"dialog-icon"],[1,"dialog-description"],[1,"form-container"],[1,"form-row"],["appearance","outline",1,"size-field"],["data-testid","rescale-dialog-width-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],["matSuffix",""],[4,"ngIf"],[1,"size-separator"],["data-testid","rescale-dialog-height-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],[1,"preview-info"],["align","end"],["data-testid","rescale-dialog-cancel-button","mat-stroked-button","",3,"click"],["color","primary","data-testid","rescale-dialog-save-button","mat-raised-button","",3,"click","disabled"]],template:function(i,n){i&1&&(a(0,"h2",0)(1,"mat-icon",1),s(2,"aspect_ratio"),r(),s(3,` Rescale with Padding
`),r(),a(4,"mat-dialog-content")(5,"p",2),s(6," Configure the target image size. Images will be rescaled to fit within these dimensions while maintaining their aspect ratio. Padding will be added to fill any remaining space. "),r(),a(7,"div",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),s(11,"Width"),r(),a(12,"input",6),g("ngModelChange",function(){return n.validateWidth()}),oe("ngModelChange",function(d){return ne(n.width,d)||(n.width=d),d}),r(),a(13,"span",7),s(14,"px"),r(),_(15,Na,2,1,"mat-error",8),r(),a(16,"span",9),s(17,"\xD7"),r(),a(18,"mat-form-field",5)(19,"mat-label"),s(20,"Height"),r(),a(21,"input",10),g("ngModelChange",function(){return n.validateHeight()}),oe("ngModelChange",function(d){return ne(n.height,d)||(n.height=d),d}),r(),a(22,"span",7),s(23,"px"),r(),_(24,Ba,2,1,"mat-error",8),r()(),a(25,"div",11)(26,"mat-icon"),s(27,"info"),r(),a(28,"span"),s(29),r()()()(),a(30,"mat-dialog-actions",12)(31,"button",13),g("click",function(){return n.onCancel()}),s(32," Cancel "),r(),a(33,"button",14),g("click",function(){return n.onSave()}),s(34," Save "),r()()),i&2&&(c(12),ie("ngModel",n.width),c(3),p("ngIf",n.widthError),c(6),ie("ngModel",n.height),c(3),p("ngIf",n.heightError),c(5),we("Output size: ",n.width," \xD7 ",n.height," pixels"),c(4),p("disabled",!n.isValid()))},dependencies:[N,j,J,mt,ft,gt,ht,ut,ae,st,ct,dt,Y,_e,le,Me,Ce,_t,xt,se,Ct,B,H],styles:[".slider-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000000de}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#00000061}.value-field[_ngcontent-%COMP%]{width:80px}.value-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.size-field[_ngcontent-%COMP%]{flex:1;max-width:150px}.checkbox-row[_ngcontent-%COMP%]{margin-top:8px}.aspect-ratio-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fafafa;border-radius:4px;font-size:14px;color:#000000de;font-size:13px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}  h2[mat-dialog-title]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}  h2[mat-dialog-title] .dialog-icon{color:#3f51b5;font-size:24px;width:24px;height:24px}  mat-dialog-content{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){  mat-dialog-content{min-width:auto}}  mat-dialog-actions{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}  mat-dialog-actions button{margin-left:8px}[_nghost-%COMP%]{display:block}h2[mat-dialog-title][_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}h2[mat-dialog-title][_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:24px;width:24px;height:24px}mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){mat-dialog-content[_ngcontent-%COMP%]{min-width:auto}}.dialog-description[_ngcontent-%COMP%]{margin:0 0 24px;font-size:14px;color:#0009;line-height:1.5}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.size-field[_ngcontent-%COMP%]{flex:1;max-width:125px}@media (max-width: 480px){.size-field[_ngcontent-%COMP%]{max-width:none}}.size-field[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .size-field[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .size-field[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.size-field[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#fafafa;border-radius:4px}.size-field[_ngcontent-%COMP%]     .mat-mdc-form-field-text-suffix{border:none!important;padding-left:8px}.size-field[_ngcontent-%COMP%]     .mdc-text-field--outlined .mat-mdc-form-field-infix{border:none!important}.size-field[_ngcontent-%COMP%]     .mat-form-field-suffix{border:none!important}.size-field[_ngcontent-%COMP%]     .mat-form-field-outline{display:none!important}.size-separator[_ngcontent-%COMP%]{font-size:20px;color:#0009;margin-top:-20px}@media (max-width: 480px){.size-separator[_ngcontent-%COMP%]{display:none}}.preview-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#2196f31a;border-radius:4px;font-size:14px;color:#000000de}.preview-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return t})();function La(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.widthError)}}function ja(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.heightError)}}function Ha(t,l){if(t&1&&(a(0,"div",18)(1,"mat-icon"),s(2,"link"),r(),a(3,"span"),s(4),r()()),t&2){let e=m();c(4),F("Current aspect ratio: ",e.aspectRatioDisplay,"")}}var xn=(()=>{class t{constructor(e,i){this.dialogRef=e,this.data=i,this.width=640,this.height=640,this.keepAspectRatio=!0,this.widthError="",this.heightError="",this.aspectRatio=1,this.isUpdating=!1}get aspectRatioDisplay(){return this.height===0?"N/A":(this.width/this.height).toFixed(2)}ngOnInit(){this.data?.config&&(this.width=this.data.config.width,this.height=this.data.config.height,this.keepAspectRatio=this.data.config.keepAspectRatio),this.data?.originalAspectRatio?this.aspectRatio=this.data.originalAspectRatio:this.height>0&&(this.aspectRatio=this.width/this.height)}onWidthChange(){this.validateWidth(),this.keepAspectRatio&&!this.isUpdating&&this.width>0&&(this.isUpdating=!0,this.height=Math.round(this.width/this.aspectRatio),this.validateHeight(),this.isUpdating=!1)}onHeightChange(){this.validateHeight(),this.keepAspectRatio&&!this.isUpdating&&this.height>0&&(this.isUpdating=!0,this.width=Math.round(this.height*this.aspectRatio),this.validateWidth(),this.isUpdating=!1)}onKeepAspectRatioChange(){this.keepAspectRatio&&this.height>0&&(this.aspectRatio=this.width/this.height)}validateWidth(){return!this.width||this.width<1?(this.widthError="Width must be at least 1 pixel",!1):Number.isInteger(this.width)?(this.widthError="",!0):(this.widthError="Width must be a whole number",!1)}validateHeight(){return!this.height||this.height<1?(this.heightError="Height must be at least 1 pixel",!1):Number.isInteger(this.height)?(this.heightError="",!0):(this.heightError="Height must be a whole number",!1)}isValid(){return this.validateWidth()&&this.validateHeight()}onSave(){if(this.isValid()){let e={width:this.width,height:this.height,keepAspectRatio:this.keepAspectRatio};this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(k(rt),k(lt))}}static{this.\u0275cmp=R({type:t,selectors:[["app-manual-resize-dialog"]],decls:39,vars:9,consts:[["mat-dialog-title",""],[1,"dialog-icon"],[1,"dialog-description"],[1,"form-container"],[1,"form-row"],["appearance","outline",1,"size-field"],["data-testid","manual-resize-dialog-width-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],["matSuffix",""],[4,"ngIf"],[1,"size-separator"],["data-testid","manual-resize-dialog-height-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],[1,"checkbox-row"],["color","primary","data-testid","manual-resize-dialog-keep-aspect-ratio",3,"ngModelChange","ngModel"],["class","aspect-ratio-info",4,"ngIf"],[1,"preview-info"],["align","end"],["data-testid","manual-resize-dialog-cancel-button","mat-stroked-button","",3,"click"],["color","primary","data-testid","manual-resize-dialog-save-button","mat-raised-button","",3,"click","disabled"],[1,"aspect-ratio-info"]],template:function(i,n){i&1&&(a(0,"h2",0)(1,"mat-icon",1),s(2,"photo_size_select_large"),r(),s(3,` Manual Resize
`),r(),a(4,"mat-dialog-content")(5,"p",2),s(6,' Resize images to exact dimensions. Enable "Keep aspect ratio" to automatically calculate one dimension based on the other. '),r(),a(7,"div",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),s(11,"Width"),r(),a(12,"input",6),g("ngModelChange",function(){return n.onWidthChange()}),oe("ngModelChange",function(d){return ne(n.width,d)||(n.width=d),d}),r(),a(13,"span",7),s(14,"px"),r(),_(15,La,2,1,"mat-error",8),r(),a(16,"span",9),s(17,"\xD7"),r(),a(18,"mat-form-field",5)(19,"mat-label"),s(20,"Height"),r(),a(21,"input",10),g("ngModelChange",function(){return n.onHeightChange()}),oe("ngModelChange",function(d){return ne(n.height,d)||(n.height=d),d}),r(),a(22,"span",7),s(23,"px"),r(),_(24,ja,2,1,"mat-error",8),r()(),a(25,"div",11)(26,"mat-checkbox",12),g("ngModelChange",function(){return n.onKeepAspectRatioChange()}),oe("ngModelChange",function(d){return ne(n.keepAspectRatio,d)||(n.keepAspectRatio=d),d}),s(27," Keep aspect ratio "),r()(),_(28,Ha,5,1,"div",13),a(29,"div",14)(30,"mat-icon"),s(31,"info"),r(),a(32,"span"),s(33),r()()()(),a(34,"mat-dialog-actions",15)(35,"button",16),g("click",function(){return n.onCancel()}),s(36," Cancel "),r(),a(37,"button",17),g("click",function(){return n.onSave()}),s(38," Save "),r()()),i&2&&(c(12),ie("ngModel",n.width),c(3),p("ngIf",n.widthError),c(6),ie("ngModel",n.height),c(3),p("ngIf",n.heightError),c(2),ie("ngModel",n.keepAspectRatio),c(2),p("ngIf",n.keepAspectRatio),c(5),we("Output size: ",n.width," \xD7 ",n.height," pixels"),c(4),p("disabled",!n.isValid()))},dependencies:[N,j,J,mt,ft,gt,ht,ut,ae,st,ct,dt,Y,_e,le,Me,Ce,_t,xt,se,Ct,li,io,B,H],styles:[".slider-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000000de}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#00000061}.value-field[_ngcontent-%COMP%]{width:80px}.value-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}  h2[mat-dialog-title]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}  h2[mat-dialog-title] .dialog-icon{color:#3f51b5;font-size:24px;width:24px;height:24px}  mat-dialog-content{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){  mat-dialog-content{min-width:auto}}  mat-dialog-actions{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}  mat-dialog-actions button{margin-left:8px}[_nghost-%COMP%]{display:block}h2[mat-dialog-title][_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}h2[mat-dialog-title][_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:24px;width:24px;height:24px}mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){mat-dialog-content[_ngcontent-%COMP%]{min-width:auto}}.dialog-description[_ngcontent-%COMP%]{margin:0 0 24px;font-size:14px;color:#0009;line-height:1.5}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.size-field[_ngcontent-%COMP%]{flex:1;max-width:150px}@media (max-width: 480px){.size-field[_ngcontent-%COMP%]{max-width:none}}.size-separator[_ngcontent-%COMP%]{font-size:20px;color:#0009;margin-top:-20px}@media (max-width: 480px){.size-separator[_ngcontent-%COMP%]{display:none}}.checkbox-row[_ngcontent-%COMP%]{margin-top:8px}.aspect-ratio-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fafafa;border-radius:4px;font-size:14px;color:#000000de;font-size:13px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.preview-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#2196f31a;border-radius:4px;font-size:14px;color:#000000de}.preview-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return t})();function $a(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.xOffsetError)}}function Wa(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.yOffsetError)}}function Ua(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.widthError)}}function Ka(t,l){if(t&1&&(a(0,"mat-error"),s(1),r()),t&2){let e=m();c(),E(e.heightError)}}var Cn=(()=>{class t{constructor(e,i){this.dialogRef=e,this.data=i,this.xOffset=0,this.yOffset=0,this.width=640,this.height=640,this.xOffsetError="",this.yOffsetError="",this.widthError="",this.heightError=""}get cropAreaDisplay(){return`${this.width} \xD7 ${this.height} at (${this.xOffset}, ${this.yOffset})`}ngOnInit(){this.data?.config&&(this.xOffset=this.data.config.xOffset,this.yOffset=this.data.config.yOffset,this.width=this.data.config.width,this.height=this.data.config.height)}validateXOffset(){return this.xOffset===null||this.xOffset===void 0||this.xOffset<0?(this.xOffsetError="X offset must be 0 or greater",!1):Number.isInteger(this.xOffset)?(this.xOffsetError="",!0):(this.xOffsetError="X offset must be a whole number",!1)}validateYOffset(){return this.yOffset===null||this.yOffset===void 0||this.yOffset<0?(this.yOffsetError="Y offset must be 0 or greater",!1):Number.isInteger(this.yOffset)?(this.yOffsetError="",!0):(this.yOffsetError="Y offset must be a whole number",!1)}validateWidth(){return!this.width||this.width<1?(this.widthError="Width must be at least 1 pixel",!1):Number.isInteger(this.width)?(this.widthError="",!0):(this.widthError="Width must be a whole number",!1)}validateHeight(){return!this.height||this.height<1?(this.heightError="Height must be at least 1 pixel",!1):Number.isInteger(this.height)?(this.heightError="",!0):(this.heightError="Height must be a whole number",!1)}isValid(){return this.validateXOffset()&&this.validateYOffset()&&this.validateWidth()&&this.validateHeight()}onSave(){if(this.isValid()){let e={xOffset:this.xOffset,yOffset:this.yOffset,width:this.width,height:this.height};this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||t)(k(rt),k(lt))}}static{this.\u0275cmp=R({type:t,selectors:[["app-crop-dialog"]],decls:56,vars:10,consts:[["mat-dialog-title",""],[1,"dialog-icon"],[1,"dialog-description"],[1,"form-container"],[1,"form-section"],[1,"section-title"],[1,"form-row"],["appearance","outline",1,"offset-field"],["data-testid","crop-dialog-x-offset-input","matInput","","min","0","type","number",3,"ngModelChange","ngModel"],["matSuffix",""],[4,"ngIf"],["data-testid","crop-dialog-y-offset-input","matInput","","min","0","type","number",3,"ngModelChange","ngModel"],["appearance","outline",1,"size-field"],["data-testid","crop-dialog-width-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],[1,"size-separator"],["data-testid","crop-dialog-height-input","matInput","","min","1","type","number",3,"ngModelChange","ngModel"],[1,"preview-info"],["align","end"],["data-testid","crop-dialog-cancel-button","mat-stroked-button","",3,"click"],["color","primary","data-testid","crop-dialog-save-button","mat-raised-button","",3,"click","disabled"]],template:function(i,n){i&1&&(a(0,"h2",0)(1,"mat-icon",1),s(2,"crop"),r(),s(3,` Crop
`),r(),a(4,"mat-dialog-content")(5,"p",2),s(6," Extract a rectangular region from the image. Specify the offset from the top-left corner and the dimensions of the crop area. "),r(),a(7,"div",3)(8,"div",4)(9,"h4",5),s(10,"Position"),r(),a(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),s(14,"X Offset"),r(),a(15,"input",8),g("ngModelChange",function(){return n.validateXOffset()}),oe("ngModelChange",function(d){return ne(n.xOffset,d)||(n.xOffset=d),d}),r(),a(16,"span",9),s(17,"px"),r(),_(18,$a,2,1,"mat-error",10),r(),a(19,"mat-form-field",7)(20,"mat-label"),s(21,"Y Offset"),r(),a(22,"input",11),g("ngModelChange",function(){return n.validateYOffset()}),oe("ngModelChange",function(d){return ne(n.yOffset,d)||(n.yOffset=d),d}),r(),a(23,"span",9),s(24,"px"),r(),_(25,Wa,2,1,"mat-error",10),r()()(),a(26,"div",4)(27,"h4",5),s(28,"Size"),r(),a(29,"div",6)(30,"mat-form-field",12)(31,"mat-label"),s(32,"Width"),r(),a(33,"input",13),g("ngModelChange",function(){return n.validateWidth()}),oe("ngModelChange",function(d){return ne(n.width,d)||(n.width=d),d}),r(),a(34,"span",9),s(35,"px"),r(),_(36,Ua,2,1,"mat-error",10),r(),a(37,"span",14),s(38,"\xD7"),r(),a(39,"mat-form-field",12)(40,"mat-label"),s(41,"Height"),r(),a(42,"input",15),g("ngModelChange",function(){return n.validateHeight()}),oe("ngModelChange",function(d){return ne(n.height,d)||(n.height=d),d}),r(),a(43,"span",9),s(44,"px"),r(),_(45,Ka,2,1,"mat-error",10),r()()(),a(46,"div",16)(47,"mat-icon"),s(48,"info"),r(),a(49,"span"),s(50),r()()()(),a(51,"mat-dialog-actions",17)(52,"button",18),g("click",function(){return n.onCancel()}),s(53," Cancel "),r(),a(54,"button",19),g("click",function(){return n.onSave()}),s(55," Save "),r()()),i&2&&(c(15),ie("ngModel",n.xOffset),c(3),p("ngIf",n.xOffsetError),c(4),ie("ngModel",n.yOffset),c(3),p("ngIf",n.yOffsetError),c(8),ie("ngModel",n.width),c(3),p("ngIf",n.widthError),c(6),ie("ngModel",n.height),c(3),p("ngIf",n.heightError),c(5),F("Crop area: ",n.cropAreaDisplay,""),c(4),p("disabled",!n.isValid()))},dependencies:[N,j,J,mt,ft,gt,ht,ut,ae,st,ct,dt,Y,_e,le,Me,Ce,_t,xt,se,Ct,B,H],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.slider-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000000de}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#00000061}.value-field[_ngcontent-%COMP%]{width:80px}.value-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.size-field[_ngcontent-%COMP%]{flex:1;max-width:150px}@media (max-width: 480px){.size-field[_ngcontent-%COMP%]{max-width:none}}.checkbox-row[_ngcontent-%COMP%]{margin-top:8px}.aspect-ratio-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#fafafa;border-radius:4px;font-size:14px;color:#000000de;font-size:13px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}.aspect-ratio-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}  h2[mat-dialog-title]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}  h2[mat-dialog-title] .dialog-icon{color:#3f51b5;font-size:24px;width:24px;height:24px}  mat-dialog-content{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){  mat-dialog-content{min-width:auto}}  mat-dialog-actions{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}  mat-dialog-actions button{margin-left:8px}[_nghost-%COMP%]{display:block}h2[mat-dialog-title][_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin:0;padding:16px 24px;font-size:20px;font-weight:500;color:#000000de}h2[mat-dialog-title][_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:24px;width:24px;height:24px}mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 16px;min-width:400px}@media (max-width: 480px){mat-dialog-content[_ngcontent-%COMP%]{min-width:auto}}.dialog-description[_ngcontent-%COMP%]{margin:0 0 24px;font-size:14px;color:#0009;line-height:1.5}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:500;color:#0009}.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.offset-field[_ngcontent-%COMP%], .size-field[_ngcontent-%COMP%]{flex:1;max-width:150px}@media (max-width: 480px){.offset-field[_ngcontent-%COMP%], .size-field[_ngcontent-%COMP%]{max-width:none}}.size-separator[_ngcontent-%COMP%]{font-size:20px;color:#0009;margin-top:-20px}@media (max-width: 480px){.size-separator[_ngcontent-%COMP%]{display:none}}.preview-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background-color:#2196f31a;border-radius:4px;font-size:14px;color:#000000de}.preview-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0;border-top:1px solid #e0e0e0}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return t})();var Ga=t=>({step:t}),qa=t=>["/landingai/projects",t],Ya=(t,l)=>({epochs:t,modelSize:l});function Ja(t,l){if(t&1&&(a(0,"a",22),s(1),r()),t&2){let e=l.ngIf;p("routerLink",Ai(2,qa,e)),c(),F(" Project ID: ",e," ")}}function Xa(t,l){t&1&&(a(0,"div",23),L(1,"mat-spinner",24),a(2,"p",25),s(3,"Loading..."),r()())}function Qa(t,l){if(t&1&&(a(0,"div",26)(1,"mat-icon"),s(2,"error_outline"),r(),a(3,"span"),s(4),r()()),t&2){let e=l.ngIf;c(4),E(e)}}function Za(t,l){if(t&1&&(X(0),a(1,"mat-icon"),s(2,"history"),r(),s(3),Q()),t&2){let e=l.ngIf;c(3),we(" ",e.name," (",e.imageCount," images) ")}}function er(t,l){t&1&&(a(0,"mat-icon"),s(1,"update"),r(),s(2," Current version "))}function tr(t,l){if(t&1&&(a(0,"mat-option",40)(1,"mat-icon"),s(2,"history"),r(),s(3),r()),t&2){let e=l.$implicit;p("value",e.id),c(3),we(" ",e.name," (",e.imageCount," images) ")}}function ir(t,l){if(t&1){let e=z();a(0,"div",41)(1,"p",42),s(2),y(3,"async"),y(4,"async"),r(),a(5,"button",43),y(6,"async"),g("click",function(){C(e);let n=m(3);return M(n.openAutoSplitDialog())}),a(7,"mat-icon"),s(8,"tune"),r(),s(9," Config Split "),r()()}if(t&2){let e=m(3);c(2),we(" Your dataset contains ",S(3,3,e.totalImages$)," labeled images, out of which ",S(4,5,e.unassignedCount$)," have not yet been assigned to a split. "),c(3),p("disabled",S(6,7,e.isLoading$))}}function nr(t,l){t&1&&(a(0,"div",44)(1,"mat-icon",45),s(2,"warning"),r(),a(3,"span"),s(4,"Project must have at least 10 labeled images to start training."),r()())}function or(t,l){if(t&1&&(X(0),L(1,"app-split-preview",46),y(2,"async"),y(3,"async"),Q()),t&2){let e=m(3);c(),p("splitPreview",S(2,2,e.splitPreview$))("totalImages",S(3,4,e.totalImages$)||0)}}function ar(t,l){t&1&&(a(0,"div",47)(1,"mat-icon"),s(2,"info_outline"),r(),a(3,"p"),s(4," No split data available. Please configure split settings to see the preview. "),r()())}function rr(t,l){if(t&1){let e=z();a(0,"div",27)(1,"h2"),s(2,"Set up your data"),r(),a(3,"p",28),s(4," Configure your data version and split distribution for training. "),a(5,"span",29),s(6,"Project must have at least 10 labeled images to start training."),r()(),a(7,"div",30)(8,"h3"),s(9,"Data Version"),r(),a(10,"mat-form-field",31)(11,"mat-label"),s(12,"Select data version"),r(),a(13,"mat-select",32),y(14,"async"),g("selectionChange",function(n){C(e);let o=m(2);return M(o.onSnapshotChange(n.value==="current"?null:n.value))}),a(15,"mat-select-trigger"),_(16,Za,4,2,"ng-container",33),y(17,"async"),y(18,"async"),_(19,er,3,0,"ng-template",null,0,Te),r(),a(21,"mat-option",34)(22,"mat-icon"),s(23,"update"),r(),s(24," Current version "),r(),_(25,tr,4,3,"mat-option",35),y(26,"async"),r()()(),_(27,ir,10,9,"div",36),y(28,"async"),_(29,nr,5,0,"div",37),y(30,"async"),a(31,"div",38)(32,"div",39),_(33,or,4,6,"ng-container",33),y(34,"async"),_(35,ar,5,0,"ng-template",null,1,Te),r()()()}if(t&2){let e,i=he(20),n=he(36),o=m(2);c(13),p("value",(e=S(14,8,o.selectedSnapshotId$))!==null&&e!==void 0?e:"current"),c(3),p("ngIf",o.getSelectedSnapshot(S(17,10,o.selectedSnapshotId$),S(18,12,o.snapshots$)))("ngIfElse",i),c(9),p("ngForOf",S(26,14,o.snapshots$)),c(2),p("ngIf",!S(28,16,o.hasSplitConfiguration$)),c(2),p("ngIf",S(30,18,o.labeledImagesBelowMinimum$)),c(4),p("ngIf",S(34,20,o.hasSplitConfiguration$))("ngIfElse",n)}}function lr(t,l){if(t&1&&(a(0,"span",53),s(1),r()),t&2){let e=l.$implicit;c(),F(" ",e.message," ")}}function sr(t,l){if(t&1&&(a(0,"div",49)(1,"mat-icon",50),s(2,"warning"),r(),a(3,"div",51),_(4,lr,2,1,"span",52),y(5,"async"),r()()),t&2){let e=m(3);c(4),p("ngForOf",S(5,1,e.validationErrors$))}}function dr(t,l){if(t&1){let e=z();a(0,"button",63),g("click",function(){C(e);let n=m().index,o=m(4);return M(o.onRemoveModel(n))}),a(1,"mat-icon"),s(2,"delete"),r()()}}function cr(t,l){if(t&1){let e=z();X(0),a(1,"div",64)(2,"app-hyperparameters-config",65),g("configChange",function(n){C(e);let o=m().index,d=m(4);return M(d.onHyperparametersChange(n,o))}),r()(),a(3,"div",66)(4,"app-transforms-config",67),g("configChange",function(n){C(e);let o=m().index,d=m(4);return M(d.onTransformsChange(n,o))}),r()(),a(5,"div",68)(6,"app-model-parameter",69),g("parametersChange",function(n){C(e);let o=m().index,d=m(4);return M(d.onModelParametersChange(n,o))}),r()(),Q()}if(t&2){let e=m().$implicit,i=m(4);c(2),p("config",kn(7,Ya,e.epochs,e.modelSize))("locationId",i.currentLocationId)("modelType",i.currentModelType),c(2),p("config",e.transforms),c(2),p("locationId",i.currentLocationId||0)("modelSize",e.modelSize)("modelType",i.currentModelType||"")}}function pr(t,l){if(t&1){let e=z();a(0,"div",57)(1,"div",58)(2,"div",59)(3,"button",60),g("click",function(){let n=C(e).index,o=m(4);return M(o.toggleModelCollapse(n))}),a(4,"mat-icon"),s(5),r()(),a(6,"h3"),s(7,"Model Alias"),r(),a(8,"div",61)(9,"mat-icon"),s(10,"label"),r(),a(11,"span"),s(12),r()()(),_(13,dr,3,0,"button",62),r(),_(14,cr,7,10,"ng-container",3),r()}if(t&2){let e=l.index,i=m().ngIf,n=m(3);me("collapsed",n.isModelCollapsed(e)),c(3),p("matTooltip",n.isModelCollapsed(e)?"Expand":"Collapse"),c(2),E(n.isModelCollapsed(e)?"chevron_right":"expand_more"),c(7),E(n.getModelAlias(e)),c(),p("ngIf",i.length>1),c(),p("ngIf",!n.isModelCollapsed(e))}}function mr(t,l){if(t&1){let e=z();X(0),_(1,pr,15,7,"div",54),a(2,"div",55)(3,"button",56),g("click",function(){C(e);let n=m(3);return M(n.onAddModel())}),s(4," Add Another Model "),r()(),Q()}if(t&2){let e=l.ngIf,i=m(3);c(),p("ngForOf",e)("ngForTrackBy",i.trackByIndex),c(2),p("disabled",e.length>=i.maxModelConfigs)("matTooltip",e.length>=i.maxModelConfigs?"Maximum "+i.maxModelConfigs+" models allowed":"Add another model configuration")}}function gr(t,l){if(t&1&&(a(0,"div",27)(1,"h2"),s(2,"Configure your model"),r(),a(3,"p",28),s(4," Set hyperparameters, image transforms, and data augmentations. "),r(),_(5,sr,6,3,"div",48),y(6,"async"),_(7,mr,5,4,"ng-container",3),y(8,"async"),r()),t&2){let e,i=m(2);c(5),p("ngIf",(e=S(6,2,i.validationErrors$))==null?null:e.length),c(2),p("ngIf",S(8,4,i.modelConfigs$))}}function ur(t,l){if(t&1&&(X(0),a(1,"div",10)(2,"div",11)(3,"h1"),s(4,"Train Your Model"),r(),_(5,Ja,2,4,"a",12),y(6,"async"),r(),a(7,"div",13)(8,"div",14)(9,"span",15),s(10,"1"),r(),a(11,"span",16),s(12,"Set up your data"),r()(),L(13,"div",17),a(14,"div",14)(15,"span",15),s(16,"2"),r(),a(17,"span",16),s(18,"Configure your model"),r()()()(),_(19,Xa,4,0,"div",18),y(20,"async"),_(21,Qa,5,1,"div",19),y(22,"async"),a(23,"mat-card",20),_(24,rr,37,22,"div",21)(25,gr,9,6,"div",21),r(),Q()),t&2){let e,i,n=l.ngIf,o=m();c(5),p("ngIf",S(6,13,o.projectId$)),c(3),me("active",n.step===1)("completed",((e=n.step)!==null&&e!==void 0?e:1)>1),c(5),me("completed",((i=n.step)!==null&&i!==void 0?i:1)>1),c(),me("active",n.step===2),c(5),p("ngIf",S(20,15,o.isLoading$)),c(2),p("ngIf",S(22,17,o.error$)),c(3),p("ngIf",n.step===1),c(),p("ngIf",n.step===2)}}function fr(t,l){if(t&1){let e=z();a(0,"button",70),y(1,"async"),y(2,"async"),y(3,"async"),y(4,"async"),y(5,"async"),g("click",function(){C(e);let n=m();return M(n.onNext())}),s(6," Next "),a(7,"mat-icon"),s(8,"arrow_forward"),r()()}if(t&2){let e=m();p("disabled",S(1,2,e.isLoading$)||!S(2,4,e.hasSplitConfiguration$)||S(3,6,e.labeledImagesBelowMinimum$))("matTooltip",S(4,8,e.labeledImagesBelowMinimum$)?"Project must have at least 10 labeled images to start training":S(5,10,e.hasSplitConfiguration$)?"Proceed to next step":"Please configure split settings before proceeding")}}function hr(t,l){if(t&1){let e=z();a(0,"button",71),y(1,"async"),y(2,"async"),y(3,"async"),g("click",function(){C(e);let n=m();return M(n.onStartTraining())}),a(4,"mat-icon"),s(5,"play_arrow"),r(),s(6," Start Training "),r()}if(t&2){let e=m();p("disabled",!S(1,2,e.canStartTraining$)||S(2,4,e.isLoading$))("matTooltip",S(3,6,e.canStartTraining$)?"Start the training process":"Please fix validation errors before starting training")}}var xp=(()=>{class t{constructor(e,i,n,o,d,x){this.route=e,this.router=i,this.store=n,this.snackBar=o,this.dialog=d,this.projectService=x,this.maxSteps=2,this.maxModelConfigs=9,this.collapsedModels=new Set,this.currentLocationId=null,this.currentModelType=null,this.modelAliases=[],this.currentProjectId=null,this.destroy$=new ce,this.snapshots$=this.store.select(Mi),this.splitPreview$=this.store.select(Ae),this.distribution$=this.store.select(Tt),this.modelConfigs$=this.store.select(qe),this.currentStep$=this.store.select(Ye),this.isLoading$=this.store.select(Et),this.error$=this.store.select(tn),this.projectId$=this.store.select(ue),this.unassignedCount$=this.store.select(vi),this.totalImages$=this.store.select(bi),this.isFirstStep$=this.store.select(rn),this.isLastStep$=this.store.select(yi),this.canStartTraining$=this.store.select(ln),this.trainingRequest$=this.store.select(sn),this.selectedSnapshotId$=this.store.select(Re),this.projectClasses$=this.store.select(nn),this.validationErrors$=this.store.select(Pi),this.isFormValid$=this.store.select(dn),this.isDistributionValid$=this.store.select(Kt),this.hasSplitConfiguration$=this.store.select(an),this.labeledImagesBelowMinimum$=this.store.select(on)}ngOnInit(){this.route.paramMap.pipe(K(this.destroy$)).subscribe(e=>{let i=e.get("projectId");if(i){let n=parseInt(i,10);isNaN(n)||(this.initializeTrainingState(n),this.projectService.getProjectById(n).pipe(K(this.destroy$)).subscribe(o=>{this.currentLocationId=o.locationId??null,this.currentModelType=o.type??null}))}}),this.error$.pipe(K(this.destroy$),Ei(e=>e!==null)).subscribe(e=>{this.showErrorMessage(e)})}ngOnDestroy(){this.store.dispatch(Ft()),this.destroy$.next(),this.destroy$.complete()}onNext(){this.store.dispatch(Ht())}onSnapshotChange(e){this.store.dispatch(Ue({snapshotId:e}))}getSelectedSnapshot(e,i){return e===null||!i?null:i.find(n=>n.id===e)||null}openAutoSplitDialog(){this.projectId$.pipe(q(1)).subscribe(e=>{if(e===null){this.showErrorMessage("No project selected");return}let i={projectId:e};this.dialog.open(ro,{width:"800px",maxHeight:"90vh",data:i,disableClose:!0}).afterClosed().subscribe(o=>{o&&this.store.dispatch(be({projectId:e,snapshotId:void 0}))})})}onBack(){this.store.dispatch($t())}onCancel(){let e=null;this.projectId$.pipe(K(this.destroy$)).subscribe(i=>{e=i}).unsubscribe(),e?this.router.navigate(["/landingai/projects",e]):this.router.navigate(["/landingai/projects"])}onStartTraining(){Fe([this.trainingRequest$,this.distribution$,this.modelConfigs$,this.projectId$,this.selectedSnapshotId$]).pipe(q(1)).subscribe(([e,i,n,o,d])=>{let x=this.buildTrainingRequest(o,d,n);if(!x){this.showErrorMessage("Unable to start training: Invalid project configuration");return}let f=bn(i,x);if(!f.isValid){this.displayValidationErrors(f.errors);return}this.store.dispatch(Ke({request:x}))})}hasFieldError(e){return this.validationErrors$.pipe(A(i=>i.some(n=>n.field===e)))}getFieldErrorMessage(e){let i=null;return this.validationErrors$.pipe(q(1)).subscribe(n=>{let o=n.find(d=>d.field===e);i=o?o.message:null}),i}onHyperparametersChange(e,i=0){this.store.dispatch(ze({index:i,config:{epochs:e.epochs,modelSize:e.modelSize}}))}onTransformsChange(e,i=0){this.store.dispatch(ze({index:i,config:{transforms:e}}))}onAugmentationsChange(e,i=0){this.store.dispatch(ze({index:i,config:{augmentations:e}}))}onModelParametersChange(e,i=0){this.store.dispatch(ze({index:i,config:{modelParam:e}}))}onAddModel(){this.modelConfigs$.pipe(q(1)).subscribe(e=>{e.length<this.maxModelConfigs&&(this.currentProjectId!==null&&this.modelAliases.push(this.generateModelAlias(this.currentProjectId,e.length)),this.store.dispatch(Lt()))})}onRemoveModel(e){this.modelConfigs$.pipe(q(1)).subscribe(i=>{i.length>1&&(this.modelAliases.splice(e,1),this.store.dispatch(jt({index:e})))})}trackByIndex(e){return e}getModelAlias(e){return e>=this.modelAliases.length&&this.currentProjectId!==null&&(this.modelAliases[e]=this.generateModelAlias(this.currentProjectId,e)),this.modelAliases[e]||""}toggleModelCollapse(e){this.collapsedModels.has(e)?this.collapsedModels.delete(e):this.collapsedModels.add(e)}isModelCollapsed(e){return this.collapsedModels.has(e)}initializeTrainingState(e){this.currentProjectId=e,this.modelAliases=[this.generateModelAlias(e,0)],this.store.dispatch($e({projectId:e}))}generateModelAlias(e,i=0){let n=new Date,o=n.getFullYear(),d=String(n.getMonth()+1).padStart(2,"0"),x=String(n.getDate()).padStart(2,"0"),f=n.getTime()+i;return`MODEL-PJ${e}-${o}-${d}-${x}-${f}`}showErrorMessage(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]}),this.store.dispatch(Ut())}buildTrainingRequest(e,i,n){return e===null||e<=0||!n||n.length===0?null:{projectId:e,snapshotId:i??void 0,modelConfigs:n.map((o,d)=>b(u({},o),{modelAlias:this.getModelAlias(d),status:"PENDING",epochs:o.epochs,modelSize:o.modelSize,transforms:o.transforms||{},modelParam:o.modelParam||void 0,augmentations:o.modelParam?void 0:o.augmentations||{}}))}}displayValidationErrors(e){if(e.length===0)return;let i=e[0];this.snackBar.open(i.message,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]}),e.length>1&&console.warn("Validation errors:",e)}static{this.\u0275fac=function(i){return new(i||t)(k(Kn),k(ni),k(Zt),k(ot),k(ti),k(Xn))}}static{this.\u0275cmp=R({type:t,selectors:[["app-customer-training"]],decls:16,vars:14,consts:[["currentVersion",""],["noSplitConfig",""],[1,"customer-training-container"],[4,"ngIf"],[1,"navigation-buttons"],["data-testid","cancel-button","mat-stroked-button","","matTooltip","Return to project page without saving",1,"cancel-button",3,"click"],[1,"nav-right"],["data-testid","back-button","mat-stroked-button","","matTooltip","Return to previous step",1,"back-button",3,"click","disabled"],["class","next-button","color","primary","data-testid","next-button","mat-raised-button","",3,"disabled","matTooltip","click",4,"ngIf"],["class","start-training-button","color","primary","data-testid","start-training-button","mat-raised-button","",3,"disabled","matTooltip","click",4,"ngIf"],[1,"training-header-row"],[1,"training-header"],["class","project-link","matTooltip","Back to project",3,"routerLink",4,"ngIf"],[1,"step-indicator"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-connector"],["class","loading-overlay",4,"ngIf"],["class","error-banner",4,"ngIf"],[1,"content-card"],["class","step-content",4,"ngIf"],["matTooltip","Back to project",1,"project-link",3,"routerLink"],[1,"loading-overlay"],["diameter","50"],[1,"loading-text"],[1,"error-banner"],[1,"step-content"],[1,"step-description"],[1,"training-requirement-notice"],[1,"data-version-section"],["appearance","outline",1,"snapshot-select"],["data-testid","snapshot-select","matTooltip","Select a data snapshot to use for training. 'Current version' uses the latest data.",3,"selectionChange","value"],[4,"ngIf","ngIfElse"],["value","current"],[3,"value",4,"ngFor","ngForOf"],["class","config-split-section",4,"ngIf"],["class","labeled-images-warning",4,"ngIf"],[1,"split-preview-section-wrapper"],[1,"split-preview-section"],[3,"value"],[1,"config-split-section"],[1,"config-split-description"],["color","primary","data-testid","config-split-button","mat-stroked-button","","matTooltip","Configure and assign split distribution for your images",1,"config-split-button",3,"click","disabled"],[1,"labeled-images-warning"],[1,"warning-icon"],[3,"splitPreview","totalImages"],[1,"no-split-config-message"],["class","validation-errors",4,"ngIf"],[1,"validation-errors"],[1,"error-icon"],[1,"error-list"],["class","error-item",4,"ngFor","ngForOf"],[1,"error-item"],["class","model-config-card",3,"collapsed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-model-section"],["color","primary","data-testid","add-model-button","mat-button","",1,"add-model-button",3,"click","disabled","matTooltip"],[1,"model-config-card"],[1,"model-config-header"],[1,"model-alias-section"],["mat-icon-button","",1,"collapse-toggle-button",3,"click","matTooltip"],[1,"model-alias-value"],["class","remove-model-button","color","warn","data-testid","remove-model-button","mat-icon-button","","matTooltip","Remove this model configuration",3,"click",4,"ngIf"],["color","warn","data-testid","remove-model-button","mat-icon-button","","matTooltip","Remove this model configuration",1,"remove-model-button",3,"click"],[1,"hyperparameters-section"],[3,"configChange","config","locationId","modelType"],[1,"transforms-section"],[3,"configChange","config"],[1,"model-parameter-section"],[3,"parametersChange","locationId","modelSize","modelType"],["color","primary","data-testid","next-button","mat-raised-button","",1,"next-button",3,"click","disabled","matTooltip"],["color","primary","data-testid","start-training-button","mat-raised-button","",1,"start-training-button",3,"click","disabled","matTooltip"]],template:function(i,n){i&1&&(a(0,"div",2),_(1,ur,26,19,"ng-container",3),y(2,"async"),a(3,"div",4)(4,"button",5),g("click",function(){return n.onCancel()}),s(5," Cancel "),r(),a(6,"div",6)(7,"button",7),y(8,"async"),g("click",function(){return n.onBack()}),a(9,"mat-icon"),s(10,"arrow_back"),r(),s(11," Back "),r(),_(12,fr,9,12,"button",8),y(13,"async"),_(14,hr,7,8,"button",9),y(15,"async"),r()()()),i&2&&(c(),p("ngIf",Ai(12,Ga,S(2,4,n.currentStep$))),c(6),p("disabled",S(8,6,n.isFirstStep$)),c(5),p("ngIf",!S(13,8,n.isLastStep$)),c(2),p("ngIf",S(15,10,n.isLastStep$)))},dependencies:[N,Ee,j,zn,Gn,Y,_e,nt,B,H,De,ri,Ie,pt,re,xe,at,ke,Me,Ce,ai,Qn,oi,le,ae,un,fn,hn,Co],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:100vh;overflow:hidden}.customer-training-container[_ngcontent-%COMP%]{padding:24px;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden}@media (max-width: 768px){.customer-training-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.customer-training-container[_ngcontent-%COMP%]{padding:8px}}.training-header[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.training-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:500;color:#000000de}@media (max-width: 480px){.training-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.training-header[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]{margin-left:3em;color:#0009;text-decoration:none;font-size:14px;transition:color .2s ease}.training-header[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]:hover{color:#3f51b5;text-decoration:underline}.training-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-shrink:0;flex-wrap:wrap;gap:16px}@media (max-width: 768px){.training-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffe6;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(2px)}.loading-overlay[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin-top:16px;color:#0009;font-size:14px}.error-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;margin-bottom:16px;background:#f443361a;border:1px solid #f44336;border-radius:4px;color:#d2190b}.error-banner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336;flex-shrink:0}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:8px;flex-shrink:0}.step-indicator[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.step-indicator[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#e0e0e0;color:#0009;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:12px;transition:all .3s ease}.step-indicator[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-size:12px;color:#0009;transition:color .3s ease;white-space:nowrap}@media (max-width: 480px){.step-indicator[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-size:11px}}.step-indicator[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;box-shadow:0 2px 8px #3f51b566}.step-indicator[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#3f51b5;font-weight:500}.step-indicator[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.step-indicator[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#4caf50}.step-indicator[_ngcontent-%COMP%]   .step-connector[_ngcontent-%COMP%]{width:60px;height:2px;background:#e0e0e0;margin:0 8px;transition:background .3s ease}.step-indicator[_ngcontent-%COMP%]   .step-connector.completed[_ngcontent-%COMP%]{background:#4caf50}@media (max-width: 480px){.step-indicator[_ngcontent-%COMP%]   .step-connector[_ngcontent-%COMP%]{width:30px;margin:0 4px}}.content-card[_ngcontent-%COMP%]{flex:1;margin-bottom:24px;overflow:auto;min-height:0}.content-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{padding:24px;height:100%;box-sizing:border-box}.content-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:500;color:#000000de}.content-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{margin:0 0 24px;color:#0009;font-size:14px;line-height:1.5}.content-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]   .training-requirement-notice[_ngcontent-%COMP%]{color:#ff6b9d;font-size:16px;font-weight:600;margin-left:8px}@media (max-width: 480px){.content-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{padding:16px}}.placeholder-content[_ngcontent-%COMP%]{background:#fafafa;border-radius:8px;padding:24px}.placeholder-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#0009}.placeholder-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:24px}.placeholder-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;color:#00000061}.data-version-section[_ngcontent-%COMP%]{margin-bottom:24px}.data-version-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:500;color:#000000de}.data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]{width:100%;max-width:400px}.data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#f5f5f5;border-radius:4px}.data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mat-mdc-select-value, .data-version-section[_ngcontent-%COMP%]   .snapshot-select[_ngcontent-%COMP%]     .mat-mdc-floating-label{padding-left:24px}.navigation-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;border-top:1px solid #e0e0e0;flex-wrap:wrap;gap:8px;flex-shrink:0}.navigation-buttons[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.navigation-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.navigation-buttons[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.navigation-buttons[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .navigation-buttons[_ngcontent-%COMP%]   .start-training-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:4px}.navigation-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#0009}@media (max-width: 480px){.navigation-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.navigation-buttons[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{justify-content:flex-end}}.config-split-section[_ngcontent-%COMP%]{margin:24px 0;padding:16px;background:#3f51b50a;border-radius:8px;border:1px dashed rgba(63,81,181,.3)}.config-split-section[_ngcontent-%COMP%]   .config-split-description[_ngcontent-%COMP%]{margin:0 0 16px;color:#0009;font-size:14px;line-height:1.5}.config-split-section[_ngcontent-%COMP%]   .config-split-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px;width:20px;height:20px}.config-split-section[_ngcontent-%COMP%]   .config-split-button[_ngcontent-%COMP%]:disabled{opacity:.6}.validation-errors[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:16px;margin-bottom:24px;background:#ff98001a;border:1px solid #ff9800;border-radius:8px}.validation-errors[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:#ff9800;flex-shrink:0;margin-top:2px}.validation-errors[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.validation-errors[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]   .error-item[_ngcontent-%COMP%]{color:#995b00;font-size:14px;line-height:1.4}.validation-errors[_ngcontent-%COMP%]   .error-list[_ngcontent-%COMP%]   .error-item[_ngcontent-%COMP%]:before{content:"\\2022  ";color:#ff9800}.field-error[_ngcontent-%COMP%]{color:#f44336;font-size:12px;margin-top:4px;display:flex;align-items:center;gap:4px}.field-error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.mat-form-field.invalid[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%], .mat-form-field.invalid[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#f44336!important}  .error-snackbar{background:#f44336;color:#fff}  .error-snackbar .mat-simple-snackbar-action{color:#fff}  .warning-snackbar{background:#ff9800;color:#fff}  .warning-snackbar .mat-simple-snackbar-action{color:#fff}  .success-snackbar{background:#4caf50;color:#fff}  .success-snackbar .mat-simple-snackbar-action{color:#fff}.split-distribution-section[_ngcontent-%COMP%], .hyperparameters-section[_ngcontent-%COMP%], .transforms-section[_ngcontent-%COMP%], .augmentations-section[_ngcontent-%COMP%]{margin-bottom:24px}.model-alias-section[_ngcontent-%COMP%]{flex:1}.model-alias-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:500;color:#000000de}.model-alias-section[_ngcontent-%COMP%]   .model-alias-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#fff;border-radius:4px;border:1px solid #e0e0e0}.model-alias-section[_ngcontent-%COMP%]   .model-alias-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px;width:20px;height:20px;flex-shrink:0}.model-alias-section[_ngcontent-%COMP%]   .model-alias-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:monospace;font-size:14px;color:#000000de;word-break:break-all}.model-config-card[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:#fafafa;border-radius:8px;border:1px solid #e0e0e0}.model-config-card[_ngcontent-%COMP%]:last-of-type{margin-bottom:24px}.model-config-card[_ngcontent-%COMP%]   .model-config-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:24px;gap:16px}.model-config-card[_ngcontent-%COMP%]   .model-config-header[_ngcontent-%COMP%]   .model-alias-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:0;padding:0;background:transparent;border:none}.model-config-card[_ngcontent-%COMP%]   .model-config-header[_ngcontent-%COMP%]   .collapse-toggle-button[_ngcontent-%COMP%]{flex-shrink:0}.model-config-card[_ngcontent-%COMP%]   .model-config-header[_ngcontent-%COMP%]   .remove-model-button[_ngcontent-%COMP%]{flex-shrink:0;margin-top:4px}.model-config-card.collapsed[_ngcontent-%COMP%]   .model-config-header[_ngcontent-%COMP%]{margin-bottom:0}.model-config-card[_ngcontent-%COMP%]   .hyperparameters-section[_ngcontent-%COMP%], .model-config-card[_ngcontent-%COMP%]   .transforms-section[_ngcontent-%COMP%], .model-config-card[_ngcontent-%COMP%]   .augmentations-section[_ngcontent-%COMP%]{margin-bottom:24px}.model-config-card[_ngcontent-%COMP%]   .hyperparameters-section[_ngcontent-%COMP%]:last-child, .model-config-card[_ngcontent-%COMP%]   .transforms-section[_ngcontent-%COMP%]:last-child, .model-config-card[_ngcontent-%COMP%]   .augmentations-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.add-model-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px;margin-top:16px;border-top:1px solid #e0e0e0}.add-model-section[_ngcontent-%COMP%]   .add-model-button[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding:8px 24px}.add-model-section[_ngcontent-%COMP%]   .add-model-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.split-preview-section-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:100%;margin-bottom:24px}.split-preview-section[_ngcontent-%COMP%]{width:66.67%;max-width:66.67%}@media (max-width: 768px){.split-preview-section[_ngcontent-%COMP%]{width:100%;max-width:100%}}.no-split-config-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:24px;background:#fafafa;border-radius:8px;border:1px dashed #e0e0e0}.no-split-config-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2196f3;font-size:24px;width:24px;height:24px;flex-shrink:0}.no-split-config-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0009;font-size:14px;line-height:1.5}.labeled-images-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;margin:16px 0;background:#ff98001a;border:1px solid #ff9800;border-radius:8px}.labeled-images-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#ff9800;flex-shrink:0}.labeled-images-warning[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#995b00;font-size:14px;font-weight:500;line-height:1.4}']})}}return t})();export{xp as a,us as b};
