import{a as Wt}from"./chunk-ZG3XWPXL.js";import{$a as j,Aa as y,Ac as S,Ae as vt,B as ie,Bb as R,Bc as nt,Cb as H,Cc as ot,Da as N,Db as Xe,Dc as h,Df as Oe,Ea as ue,Ec as at,Ee as Se,Fc as V,Fe as bt,Ff as Ht,Ge as Ot,Gf as qt,Hf as Gt,Ia as _,Ie as wt,Ka as d,Le as ye,Ma as Ke,Mf as Ut,N as re,O as ke,Oe as Et,P as k,Pb as Pe,Pd as lt,Pe as ve,Qe as Tt,R as le,Rd as q,Sd as G,Td as mt,U as Ye,V as Me,Va as o,Vb as Ze,Vd as U,Ve as Be,Wa as n,Wd as W,We as b,X as me,Xa as B,Xb as et,Xd as Y,Xe as It,Ya as L,Yd as dt,Ye as O,Za as A,Zd as ct,Ze as Dt,_d as st,ac as tt,ae as pt,bb as u,be as _t,bf as Ft,c as We,ca as w,cb as M,ce as K,da as E,de as gt,df as z,ge as Ce,hf as Lt,ie as de,if as At,jf as kt,kf as Nt,l as ae,le as xe,lf as Vt,mb as i,me as ft,mf as $t,nb as v,nf as Bt,ob as T,od as it,of as jt,pc as P,pe as Mt,pf as Rt,q as F,qc as C,qe as ut,qf as zt,rf as Jt,tb as Ne,td as $,te as Pt,ub as Ve,ue as ht,vb as $e,wa as m,we as Ct,xd as rt,xe as xt,yb as Qe,ye as St,yf as be,zc as he,ze as yt}from"./chunk-NJA2VFCC.js";import{a as g,b as f}from"./chunk-TSRGIXR5.js";var D=P("[Model Param] Load Model Params",C()),we=P("[Model Param] Load Model Params Success",C()),Q=P("[Model Param] Load Model Params Failure",C()),Ee=P("[Model Param] Filter By Model Type",C()),Te=P("[Model Param] Search By Model Name",C()),Ie=P("[Model Param] Clear Filters"),X=P("[Model Param] Create Model Param",C()),ce=P("[Model Param] Create Model Param Success",C()),se=P("[Model Param] Create Model Param Failure",C()),Z=P("[Model Param] Update Model Param",C()),pe=P("[Model Param] Update Model Param Success",C()),_e=P("[Model Param] Update Model Param Failure",C()),ee=P("[Model Param] Delete Model Param",C()),ge=P("[Model Param] Delete Model Param Success",C()),fe=P("[Model Param] Delete Model Param Failure",C()),Yt=P("[Model Param] Select Model Param",C()),Kt=P("[Model Param] Clear Selected Model Param"),te=P("[Model Param] Clear Error");var ne=nt("modelParam"),Qt=S(ne,e=>e.modelParams),Fe=S(Qt,ne,(e,l)=>{let t=e;if(l.filters.modelType&&(t=t.filter(r=>r.modelType===l.filters.modelType)),l.filters.searchTerm){let r=l.filters.searchTerm.toLowerCase();t=t.filter(a=>a.modelName.toLowerCase().includes(r))}return t}),Qn=S(Qt,e=>e.length),Xn=S(Fe,e=>e.length),Zn=S(ne,e=>e.selectedModelParam),Le=S(ne,e=>e.filters),eo=S(Le,e=>e.modelType),to=S(Le,e=>e.searchTerm),je=S(Le,e=>!!(e.modelType||e.searchTerm)),Re=S(ne,e=>e.loading),Ae=S(ne,e=>e.error),no=S(Ae,e=>e!==null),oo=S(Fe,Re,Ae,Le,je,(e,l,t,r,a)=>({modelParams:e,loading:l,error:t,filters:r,hasActiveFilters:a}));function dn(e,l){if(e&1&&(o(0,"div",19)(1,"mat-icon"),i(2,"location_on"),n(),o(3,"span"),i(4),n()()),e&2){let t=M();m(4),T("Location: ",(t.data.modelParam==null?null:t.data.modelParam.locationName)||"Current Location","")}}function cn(e,l){e&1&&(o(0,"mat-error"),i(1," Model name is required "),n())}function sn(e,l){e&1&&(o(0,"mat-error"),i(1," Max 50 characters "),n())}function pn(e,l){e&1&&(o(0,"mat-error"),i(1," Model type is required "),n())}function _n(e,l){if(e&1&&(o(0,"mat-hint")(1,"mat-icon",20),i(2),n(),i(3),n()),e&2){let t=M();Ke("error-hint",!t.isJsonValid)("success-hint",t.isJsonValid),m(2),T("",t.isJsonValid?"check_circle":"error"," "),m(),T(" ",t.jsonValidationMessage," ")}}function gn(e,l){e&1&&(o(0,"mat-error"),i(1," Parameters are required "),n())}function fn(e,l){e&1&&(o(0,"mat-error"),i(1," Invalid JSON format "),n())}function Mn(e,l){e&1&&(o(0,"div",21)(1,"mat-icon"),i(2,"warning"),n(),o(3,"p"),i(4,"Please select a location before creating a model parameter."),n()())}var He=(()=>{class e{constructor(t,r,a){this.fb=t,this.dialogRef=r,this.data=a,this.isEditMode=!1,this.hasLocation=!1,this.isJsonValid=!1,this.jsonValidationMessage="",this.isEditMode=!!a.modelParam,this.hasLocation=!!a.locationId,this.form=this.fb.group({modelName:["",[de.required,de.maxLength(50)]],modelType:["",de.required],parameters:["",[de.required,this.jsonValidator]]})}ngOnInit(){this.isEditMode&&this.data.modelParam&&(this.form.patchValue({modelName:this.data.modelParam.modelName,modelType:this.data.modelParam.modelType,parameters:this.formatJson(this.data.modelParam.parameters)}),this.onParametersChange())}jsonValidator(t){if(!t.value)return null;try{return JSON.parse(t.value),null}catch{return{invalidJson:!0}}}formatJson(t){try{let r=JSON.parse(t);return JSON.stringify(r,null,2)}catch{return t}}onParametersChange(){let r=this.form.get("parameters")?.value;if(!r||r.trim()===""){this.isJsonValid=!1,this.jsonValidationMessage="";return}try{JSON.parse(r),this.isJsonValid=!0,this.jsonValidationMessage="Valid JSON"}catch(a){this.isJsonValid=!1,a instanceof Error?this.jsonValidationMessage=`Invalid JSON: ${a.message}`:this.jsonValidationMessage="Invalid JSON format"}}onSave(){if(!this.form.valid||!this.hasLocation)return;let t=this.form.value,r=JSON.stringify(JSON.parse(t.parameters)),a={modelName:t.modelName,modelType:t.modelType,parameters:r,id:this.data.modelParam?.id};this.dialogRef.close(a)}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||e)(y(St),y(q),y(G))}}static{this.\u0275cmp=N({type:e,selectors:[["app-model-param-form-dialog"]],standalone:!1,decls:39,vars:13,consts:[["mat-dialog-title",""],[1,"dialog-content"],["class","location-info",4,"ngIf"],[3,"formGroup"],[1,"form-row"],["appearance","fill",1,"half-width"],["formControlName","modelName","matInput","","maxlength","50","placeholder","Enter model name","required",""],["align","end"],[4,"ngIf"],["formControlName","modelType","required",""],["value","Object Detection"],["value","Classification"],["value","Segmentation"],["appearance","fill",1,"full-width"],["formControlName","parameters","matInput","","placeholder",'{"key": "value"}',"required","","rows","16",3,"input"],[3,"error-hint","success-hint",4,"ngIf"],["class","warning-message",4,"ngIf"],["mat-button","",3,"click"],["color","primary","mat-raised-button","",3,"click","disabled"],[1,"location-info"],[1,"hint-icon"],[1,"warning-message"]],template:function(r,a){if(r&1&&(o(0,"h2",0),i(1),n(),o(2,"mat-dialog-content")(3,"div",1),_(4,dn,5,1,"div",2),o(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),i(9,"Model Name"),n(),B(10,"input",6),o(11,"mat-hint",7),i(12),n(),_(13,cn,2,0,"mat-error",8)(14,sn,2,0,"mat-error",8),n(),o(15,"mat-form-field",5)(16,"mat-label"),i(17,"Model Type"),n(),o(18,"mat-select",9)(19,"mat-option",10),i(20,"Object Detection"),n(),o(21,"mat-option",11),i(22,"Classification"),n(),o(23,"mat-option",12),i(24,"Segmentation"),n()(),_(25,pn,2,0,"mat-error",8),n()(),o(26,"mat-form-field",13)(27,"mat-label"),i(28,"Parameters (JSON)"),n(),o(29,"textarea",14),u("input",function(){return a.onParametersChange()}),n(),_(30,_n,4,6,"mat-hint",15)(31,gn,2,0,"mat-error",8)(32,fn,2,0,"mat-error",8),n()(),_(33,Mn,5,0,"div",16),n()(),o(34,"mat-dialog-actions",7)(35,"button",17),u("click",function(){return a.onCancel()}),i(36,"Cancel"),n(),o(37,"button",18),u("click",function(){return a.onSave()}),i(38),n()()),r&2){let s,p,c,I,x,J;m(),T("",a.isEditMode?"Edit":"Create"," Model Parameter"),m(3),d("ngIf",(a.data.modelParam==null?null:a.data.modelParam.locationName)||a.hasLocation),m(),d("formGroup",a.form),m(7),T("",((s=a.form.get("modelName"))==null||s.value==null?null:s.value.length)||0,"/50 "),m(),d("ngIf",(p=a.form.get("modelName"))==null?null:p.hasError("required")),m(),d("ngIf",(c=a.form.get("modelName"))==null?null:c.hasError("maxlength")),m(11),d("ngIf",(I=a.form.get("modelType"))==null?null:I.hasError("required")),m(5),d("ngIf",a.jsonValidationMessage),m(),d("ngIf",(x=a.form.get("parameters"))==null?null:x.hasError("required")),m(),d("ngIf",(J=a.form.get("parameters"))==null?null:J.hasError("invalidJson")),m(),d("ngIf",!a.hasLocation),m(4),d("disabled",!a.form.valid||!a.hasLocation),m(),T(" ",a.isEditMode?"Update":"Create"," ")}},dependencies:[Pe,ut,Ce,xe,ft,Ct,xt,Pt,ht,$,U,Y,W,ye,Se,Ot,bt,K,ve,Oe,be],styles:[".dialog-content[_ngcontent-%COMP%]{min-width:500px;padding:16px 0}.dialog-content[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;margin-bottom:16px;background-color:#e3f2fd;border-left:4px solid #2196f3;border-radius:4px;color:#1565c0;font-size:14px}.dialog-content[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#2196f3}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{flex:1}.dialog-content[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:13px}.dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px}.dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-hint.error-hint[_ngcontent-%COMP%]{color:#f44336}.dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-hint.success-hint[_ngcontent-%COMP%]{color:#4caf50}.dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]   .hint-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.dialog-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;margin-top:16px;background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;color:#856404}.dialog-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.dialog-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0}"]})}}return e})();var en=(()=>{class e{constructor(t,r){this.dialogRef=t,this.data=r,this.formattedParameters=""}ngOnInit(){this.formattedParameters=this.formatJson(this.data.modelParam.parameters)}formatJson(t){try{let r=JSON.parse(t);return JSON.stringify(r,null,2)}catch{return t}}formatDate(t){return t?(typeof t=="string"?new Date(t):t).toLocaleString():"N/A"}onClose(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||e)(y(q),y(G))}}static{this.\u0275cmp=N({type:e,selectors:[["app-model-param-detail-dialog"]],standalone:!1,decls:43,vars:7,consts:[["mat-dialog-title",""],[1,"dialog-content"],[1,"detail-section"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"parameters-section"],[1,"section-title"],[1,"json-display"],["align","end"],["color","primary","mat-raised-button","",3,"click"]],template:function(r,a){r&1&&(o(0,"h2",0),i(1,"Model Parameter Details"),n(),o(2,"mat-dialog-content")(3,"div",1)(4,"div",2)(5,"div",3)(6,"span",4),i(7,"ID:"),n(),o(8,"span",5),i(9),n()(),o(10,"div",3)(11,"span",4),i(12,"Location:"),n(),o(13,"span",5),i(14),n()(),o(15,"div",3)(16,"span",4),i(17,"Model Name:"),n(),o(18,"span",5),i(19),n()(),o(20,"div",3)(21,"span",4),i(22,"Model Type:"),n(),o(23,"span",5),i(24),n()(),o(25,"div",3)(26,"span",4),i(27,"Created At:"),n(),o(28,"span",5),i(29),n()(),o(30,"div",3)(31,"span",4),i(32,"Created By:"),n(),o(33,"span",5),i(34),n()()(),o(35,"div",6)(36,"div",7),i(37,"Parameters (JSON)"),n(),o(38,"pre",8),i(39),n()()()(),o(40,"mat-dialog-actions",9)(41,"button",10),u("click",function(){return a.onClose()}),i(42,"Close"),n()()),r&2&&(m(9),v(a.data.modelParam.id),m(5),v(a.data.modelParam.locationName||a.data.modelParam.locationId),m(5),v(a.data.modelParam.modelName),m(5),v(a.data.modelParam.modelType),m(5),v(a.formatDate(a.data.modelParam.createdAt)),m(5),v(a.data.modelParam.createdBy),m(5),v(a.formattedParameters))},dependencies:[$,U,Y,W],styles:[".dialog-content[_ngcontent-%COMP%]{min-width:500px;padding:16px 0}.dialog-content[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.dialog-content[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.dialog-content[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#0009;min-width:120px;flex-shrink:0}.dialog-content[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#000000de;word-break:break-word}.dialog-content[_ngcontent-%COMP%]   .parameters-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:500;color:#0009;margin-bottom:8px;font-size:14px}.dialog-content[_ngcontent-%COMP%]   .parameters-section[_ngcontent-%COMP%]   .json-display[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #e0e0e0;border-radius:4px;padding:16px;font-family:Courier New,monospace;font-size:13px;color:#333;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;margin:0}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0}"]})}}return e})();var tn=(()=>{class e{constructor(t,r){this.dialogRef=t,this.data=r}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(r){return new(r||e)(y(q),y(G))}}static{this.\u0275cmp=N({type:e,selectors:[["app-model-param-delete-dialog"]],standalone:!1,decls:19,vars:1,consts:[["mat-dialog-title",""],[1,"dialog-content"],[1,"warning-icon"],["color","warn"],[1,"warning-message"],[1,"warning-note"],["align","end"],["mat-button","",3,"click"],["color","warn","mat-raised-button","",3,"click"]],template:function(r,a){r&1&&(o(0,"h2",0),i(1,"Confirm Delete"),n(),o(2,"mat-dialog-content")(3,"div",1)(4,"div",2)(5,"mat-icon",3),i(6,"warning"),n()(),o(7,"p",4),i(8," Are you sure you want to delete the model parameter "),o(9,"strong"),i(10),n(),i(11,"? "),n(),o(12,"p",5),i(13,"This action cannot be undone."),n()()(),o(14,"mat-dialog-actions",6)(15,"button",7),u("click",function(){return a.onCancel()}),i(16,"Cancel"),n(),o(17,"button",8),u("click",function(){return a.onConfirm()}),i(18,"Delete"),n()()),r&2&&(m(10),T('"',a.data.modelParam.modelName,'"'))},dependencies:[$,U,Y,W,K],styles:[".dialog-content[_ngcontent-%COMP%]{min-width:400px;padding:16px 0;text-align:center}.dialog-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.dialog-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#000000de;margin:0 0 12px;line-height:1.5}.dialog-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#d32f2f}.dialog-content[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin:0;font-style:italic}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0}"]})}}return e})();var hn=()=>[5,10,25,50];function Cn(e,l){e&1&&(o(0,"div",5)(1,"mat-icon",6),i(2,"warning"),n(),o(3,"p"),i(4,"Please select a location from the top bar to view model parameters."),n()())}function xn(e,l){if(e&1){let t=j();o(0,"button",21),u("click",function(){w(t);let a=M(2);return E(a.onClearFilters())}),o(1,"mat-icon"),i(2,"clear"),n(),i(3," Clear Filters "),n()}}function Sn(e,l){e&1&&(o(0,"div",22),B(1,"mat-spinner",23),o(2,"p"),i(3,"Loading model parameters..."),n()())}function yn(e,l){if(e&1){let t=j();o(0,"div",24)(1,"mat-icon",6),i(2,"error"),n(),o(3,"div",25)(4,"p",26),i(5),n(),o(6,"p",27),i(7,"Please check your connection and try again."),n()(),o(8,"button",28),u("click",function(){w(t);let a=M(2);return E(a.onRetry())}),o(9,"mat-icon"),i(10,"refresh"),n(),i(11," Retry "),n()()}if(e&2){let t=l.ngIf;m(5),v(t)}}function vn(e,l){e&1&&(o(0,"p"),i(1," You haven't created any model parameter configurations yet. "),n())}function bn(e,l){e&1&&(o(0,"p"),i(1," No model parameters match your current filters. "),n())}function On(e,l){if(e&1){let t=j();o(0,"button",28),u("click",function(){w(t);let a=M(5);return E(a.onCreate())}),i(1," Create Your First Configuration "),n()}}function wn(e,l){if(e&1){let t=j();o(0,"button",36),u("click",function(){w(t);let a=M(5);return E(a.onClearFilters())}),i(1," Clear Filters "),n()}}function En(e,l){if(e&1&&(o(0,"div",33)(1,"mat-icon"),i(2,"settings"),n(),o(3,"h2"),i(4,"No model parameters found"),n(),_(5,vn,2,0,"p",4)(6,bn,2,0,"p",4)(7,On,2,0,"button",34)(8,wn,2,0,"button",35),n()),e&2){let t=M(4);m(5),d("ngIf",!t.hasActiveFilters),m(),d("ngIf",t.hasActiveFilters),m(),d("ngIf",!t.hasActiveFilters),m(),d("ngIf",t.hasActiveFilters)}}function Tn(e,l){e&1&&(o(0,"th",48),i(1,"Model Name"),n())}function In(e,l){if(e&1&&(o(0,"td",49),i(1),n()),e&2){let t=l.$implicit;m(),v(t.modelName)}}function Dn(e,l){e&1&&(o(0,"th",48),i(1,"Location"),n())}function Fn(e,l){if(e&1&&(o(0,"td",49),i(1),n()),e&2){let t=l.$implicit;m(),T(" ",t.locationName," ")}}function Ln(e,l){e&1&&(o(0,"th",48),i(1,"Model Type"),n())}function An(e,l){if(e&1&&(o(0,"td",49)(1,"span",50),i(2),n()()),e&2){let t=l.$implicit;m(2),v(t.modelType)}}function kn(e,l){e&1&&(o(0,"th",48),i(1,"Created At"),n())}function Nn(e,l){if(e&1&&(o(0,"td",49),i(1),R(2,"date"),n()),e&2){let t=l.$implicit;m(),T(" ",Xe(2,1,t.createdAt,"short")," ")}}function Vn(e,l){e&1&&(o(0,"th",48),i(1,"Created By"),n())}function $n(e,l){if(e&1&&(o(0,"td",49),i(1),n()),e&2){let t=l.$implicit;m(),v(t.createdBy)}}function Bn(e,l){e&1&&(o(0,"th",48),i(1,"Actions"),n())}function jn(e,l){if(e&1){let t=j();o(0,"td",49)(1,"button",51),u("click",function(){let a=w(t).$implicit,s=M(5);return E(s.onView(a))}),o(2,"mat-icon"),i(3,"visibility"),n()(),o(4,"button",52),u("click",function(){let a=w(t).$implicit,s=M(5);return E(s.onEdit(a))}),o(5,"mat-icon"),i(6,"edit"),n()(),o(7,"button",53),u("click",function(){let a=w(t).$implicit,s=M(5);return E(s.onDelete(a))}),o(8,"mat-icon"),i(9,"delete"),n()()()}}function Rn(e,l){e&1&&B(0,"tr",54)}function zn(e,l){e&1&&B(0,"tr",55)}function Jn(e,l){if(e&1&&(o(0,"table",37),L(1,38),_(2,Tn,2,0,"th",39)(3,In,2,1,"td",40),A(),L(4,41),_(5,Dn,2,0,"th",39)(6,Fn,2,1,"td",40),A(),L(7,42),_(8,Ln,2,0,"th",39)(9,An,3,1,"td",40),A(),L(10,43),_(11,kn,2,0,"th",39)(12,Nn,3,4,"td",40),A(),L(13,44),_(14,Vn,2,0,"th",39)(15,$n,2,1,"td",40),A(),L(16,45),_(17,Bn,2,0,"th",39)(18,jn,10,0,"td",40),A(),_(19,Rn,1,0,"tr",46)(20,zn,1,0,"tr",47),n()),e&2){let t=M().ngIf,r=M(3);d("dataSource",t),m(19),d("matHeaderRowDef",r.displayedColumns),m(),d("matRowDefColumns",r.displayedColumns)}}function Hn(e,l){if(e&1&&B(0,"mat-paginator",56),e&2){let t=M().ngIf;d("length",t.length)("pageSize",10)("pageSizeOptions",Qe(3,hn))}}function qn(e,l){if(e&1&&(L(0),_(1,En,9,4,"div",30)(2,Jn,21,3,"table",31)(3,Hn,1,4,"mat-paginator",32),A()),e&2){let t=l.ngIf;m(),d("ngIf",t.length===0),m(),d("ngIf",t.length>0),m(),d("ngIf",t.length>0)}}function Gn(e,l){if(e&1&&(o(0,"div",29),_(1,qn,4,3,"ng-container",4),R(2,"async"),n()),e&2){let t=M(2);m(),d("ngIf",H(2,1,t.modelParams$))}}function Un(e,l){if(e&1){let t=j();L(0),o(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),i(4,"Model Type"),n(),o(5,"mat-select",9),$e("valueChange",function(a){w(t);let s=M();return Ve(s.modelTypeFilter,a)||(s.modelTypeFilter=a),E(a)}),u("selectionChange",function(a){w(t);let s=M();return E(s.onModelTypeChange(a.value))}),o(6,"mat-option",10),i(7,"All Types"),n(),o(8,"mat-option",11),i(9,"Object Detection"),n(),o(10,"mat-option",12),i(11,"Classification"),n(),o(12,"mat-option",13),i(13,"Segmentation"),n()()(),o(14,"mat-form-field",14)(15,"mat-label"),i(16,"Search by Model Name"),n(),o(17,"input",15),$e("ngModelChange",function(a){w(t);let s=M();return Ve(s.searchTerm,a)||(s.searchTerm=a),E(a)}),u("ngModelChange",function(a){w(t);let s=M();return E(s.onSearchChange(a))}),n(),o(18,"mat-icon",16),i(19,"search"),n()(),_(20,xn,4,0,"button",17),n(),_(21,Sn,4,0,"div",18),R(22,"async"),_(23,yn,12,1,"div",19),R(24,"async"),_(25,Gn,3,3,"div",20),R(26,"async"),R(27,"async"),A()}if(e&2){let t=M();m(5),Ne("value",t.modelTypeFilter),m(),d("value",null),m(11),Ne("ngModel",t.searchTerm),m(3),d("ngIf",t.hasActiveFilters),m(),d("ngIf",H(22,7,t.loading$)),m(2),d("ngIf",H(24,9,t.error$)),m(2),d("ngIf",!H(26,11,t.loading$)&&!H(27,13,t.error$))}}var nn=(()=>{class e{constructor(t,r){this.store=t,this.dialog=r,this.currentLocation=null,this.modelTypeFilter=null,this.searchTerm="",this.hasActiveFilters=!1,this.displayedColumns=["modelName","location","modelType","createdAt","createdBy","actions"],this.destroy$=new We,this.modelParams$=this.store.select(Fe),this.loading$=this.store.select(Re),this.error$=this.store.select(Ae),this.currentLocation$=this.store.select(z),this.hasActiveFilters$=this.store.select(je)}ngOnInit(){this.currentLocation$.pipe(ke(this.destroy$)).subscribe(t=>{this.currentLocation=t,t&&t.id&&this.store.dispatch(D({locationId:t.id}))}),this.hasActiveFilters$.pipe(ke(this.destroy$)).subscribe(t=>{this.hasActiveFilters=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onModelTypeChange(t){this.store.dispatch(Ee({modelType:t}))}onSearchChange(t){this.store.dispatch(Te({searchTerm:t}))}onClearFilters(){this.modelTypeFilter=null,this.searchTerm="",this.store.dispatch(Ie())}onCreate(){this.dialog.open(He,{width:"600px",data:{locationId:this.currentLocation?.id}}).afterClosed().subscribe(r=>{r&&this.currentLocation?.id&&this.store.dispatch(X({request:{modelName:r.modelName,modelType:r.modelType,parameters:r.parameters},locationId:this.currentLocation.id,userId:"current-user"}))})}onView(t){this.dialog.open(en,{width:"600px",data:{modelParam:t}})}onEdit(t){this.dialog.open(He,{width:"600px",data:{modelParam:t,locationId:this.currentLocation?.id}}).afterClosed().subscribe(a=>{a&&a.id&&this.store.dispatch(Z({id:a.id,request:{modelName:a.modelName,modelType:a.modelType,parameters:a.parameters},userId:"current-user"}))})}onDelete(t){this.dialog.open(tn,{width:"500px",data:{modelParam:t}}).afterClosed().subscribe(a=>{a===!0&&this.store.dispatch(ee({id:t.id,userId:"current-user"}))})}onRetry(){this.currentLocation&&this.currentLocation.id&&this.store.dispatch(D({locationId:this.currentLocation.id}))}static{this.\u0275fac=function(r){return new(r||e)(y(he),y(mt))}}static{this.\u0275cmp=N({type:e,selectors:[["app-model-param-list"]],standalone:!1,decls:10,vars:3,consts:[[1,"model-param-container"],[1,"header"],["aria-label","Create new model parameter","color","primary","mat-raised-button","",1,"create-button",3,"click","disabled"],["class","no-location-message",4,"ngIf"],[4,"ngIf"],[1,"no-location-message"],["color","warn"],[1,"filters-section"],["appearance","fill",1,"filter-field"],[3,"valueChange","selectionChange","value"],[3,"value"],["value","Object Detection"],["value","Classification"],["value","Segmentation"],["appearance","fill",1,"filter-field","search-field"],["matInput","","placeholder","Enter model name",3,"ngModelChange","ngModel"],["matSuffix",""],["mat-stroked-button","","class","clear-filters-button",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","table-container",4,"ngIf"],["mat-stroked-button","",1,"clear-filters-button",3,"click"],[1,"loading-container"],["diameter","50"],[1,"error-container"],[1,"error-content"],[1,"error-message"],[1,"error-hint"],["color","primary","mat-raised-button","",3,"click"],[1,"table-container"],["class","empty-state",4,"ngIf"],["mat-table","","class","model-param-table",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions",4,"ngIf"],[1,"empty-state"],["color","primary","mat-raised-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["mat-table","",1,"model-param-table",3,"dataSource"],["matColumnDef","modelName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","location"],["matColumnDef","modelType"],["matColumnDef","createdAt"],["matColumnDef","createdBy"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"model-type-badge"],["mat-icon-button","","matTooltip","View details","color","primary",3,"click"],["mat-icon-button","","matTooltip","Edit","color","accent",3,"click"],["mat-icon-button","","matTooltip","Delete","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"]],template:function(r,a){r&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Model Parameter Configurations"),n(),o(4,"button",2),u("click",function(){return a.onCreate()}),o(5,"mat-icon"),i(6,"add"),n(),i(7," Create Configuration "),n()(),_(8,Cn,5,0,"div",3)(9,Un,28,15,"ng-container",4),n()),r&2&&(m(4),d("disabled",!a.currentLocation),m(4),d("ngIf",!a.currentLocation),m(),d("ngIf",a.currentLocation))},dependencies:[Pe,Ce,xe,Mt,$,it,ye,Se,wt,K,ve,ct,Oe,be,Lt,kt,Bt,Nt,At,jt,Vt,$t,Rt,zt,pt,qt,Ze,et],styles:[".model-param-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:500;color:#333}.header[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.no-location-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;margin-bottom:24px}.no-location-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.no-location-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#856404;font-size:14px}.filters-section[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:24px;align-items:flex-start;flex-wrap:wrap}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{min-width:200px;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .clear-filters-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-top:8px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.error-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:24px;background-color:#ffebee;border:1px solid #f44336;border-radius:4px;margin-bottom:24px}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{flex:1}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500;color:#c62828}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-hint[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}.error-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#bbb;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:500;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;font-size:14px}.model-param-table[_ngcontent-%COMP%]{width:100%}.model-param-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600;color:#333}.model-param-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .model-param-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px}.model-param-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#fafafa}.model-param-table[_ngcontent-%COMP%]   .model-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500;background-color:#e3f2fd;color:#1976d2}.model-param-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px}mat-paginator[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%;min-width:unset}.model-param-table[_ngcontent-%COMP%]{font-size:14px}.model-param-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .model-param-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px}}"]})}}return e})();var Wn=[{path:"",component:nn}],on=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=Me({imports:[Be.forChild(Wn),Be]})}}return e})();var qe={modelParams:[],selectedModelParam:null,loading:!1,error:null,filters:{modelType:void 0,searchTerm:void 0}};var Ge=at(qe,h(D,e=>f(g({},e),{loading:!0,error:null})),h(we,(e,{modelParams:l})=>f(g({},e),{loading:!1,modelParams:l,error:null})),h(Q,(e,{error:l})=>f(g({},e),{loading:!1,error:l})),h(Ee,(e,{modelType:l})=>f(g({},e),{filters:f(g({},e.filters),{modelType:l||void 0})})),h(Te,(e,{searchTerm:l})=>f(g({},e),{filters:f(g({},e.filters),{searchTerm:l||void 0})})),h(Ie,e=>f(g({},e),{filters:{modelType:void 0,searchTerm:void 0}})),h(X,e=>f(g({},e),{loading:!0,error:null})),h(ce,(e,{modelParam:l})=>f(g({},e),{loading:!1,modelParams:[...e.modelParams,l],error:null})),h(se,(e,{error:l})=>f(g({},e),{loading:!1,error:l})),h(Z,e=>f(g({},e),{loading:!0,error:null})),h(pe,(e,{modelParam:l})=>f(g({},e),{loading:!1,modelParams:e.modelParams.map(t=>t.id===l.id?l:t),selectedModelParam:e.selectedModelParam?.id===l.id?l:e.selectedModelParam,error:null})),h(_e,(e,{error:l})=>f(g({},e),{loading:!1,error:l})),h(ee,e=>f(g({},e),{loading:!0,error:null})),h(ge,(e,{id:l})=>f(g({},e),{loading:!1,modelParams:e.modelParams.filter(t=>t.id!==l),selectedModelParam:e.selectedModelParam?.id===l?null:e.selectedModelParam,error:null})),h(fe,(e,{error:l})=>f(g({},e),{loading:!1,error:l})),h(Yt,(e,{id:l})=>f(g({},e),{selectedModelParam:e.modelParams.find(t=>t.id===l)||null})),h(Kt,e=>f(g({},e),{selectedModelParam:null})),h(te,e=>f(g({},e),{error:null})));var Ue=(()=>{class e{constructor(t,r,a,s){this.actions$=t,this.store=r,this.snackBar=a,this.modelParamHttpService=s,this.loadModelParams$=b(()=>this.actions$.pipe(O(D),re(({locationId:p})=>this.modelParamHttpService.getModelParams(p).pipe(F(c=>we({modelParams:c})),ie(c=>{console.error("Failed to load model parameters:",c);let I=c.message||"Failed to load model parameters. Please try again.";return ae(Q({error:I}))}))))),this.loadModelParamsFailure$=b(()=>this.actions$.pipe(O(Q),k(({error:p})=>{V.displayErrorMsg(this.snackBar,p)})),{dispatch:!1}),this.locationChange$=b(()=>this.actions$.pipe(O(Ft),le(this.store.select(z)),F(([p,c])=>c&&c.id?D({locationId:c.id}):Q({error:"No location selected"})))),this.createModelParam$=b(()=>this.actions$.pipe(O(X),re(({request:p,locationId:c,userId:I})=>this.modelParamHttpService.createModelParam(p,c,I).pipe(F(x=>ce({modelParam:x})),ie(x=>{console.error("Failed to create model parameter:",x);let J=x.message||"Failed to create model parameter. Please try again.";return ae(se({error:J}))}))))),this.createModelParamSuccess$=b(()=>this.actions$.pipe(O(ce),le(this.store.select(z)),k(()=>{V.displaySuccessMsg(this.snackBar,"Model parameter created successfully")}),F(([{modelParam:p},c])=>c&&c.id?D({locationId:c.id}):te()))),this.createModelParamFailure$=b(()=>this.actions$.pipe(O(se),k(({error:p})=>{V.displayErrorMsg(this.snackBar,p)})),{dispatch:!1}),this.updateModelParam$=b(()=>this.actions$.pipe(O(Z),re(({id:p,request:c,userId:I})=>this.modelParamHttpService.updateModelParam(p,c,I).pipe(F(x=>pe({modelParam:x})),ie(x=>{console.error("Failed to update model parameter:",x);let J=x.message||"Failed to update model parameter. Please try again.";return ae(_e({error:J}))}))))),this.updateModelParamSuccess$=b(()=>this.actions$.pipe(O(pe),le(this.store.select(z)),k(()=>{V.displaySuccessMsg(this.snackBar,"Model parameter updated successfully")}),F(([{modelParam:p},c])=>c&&c.id?D({locationId:c.id}):te()))),this.updateModelParamFailure$=b(()=>this.actions$.pipe(O(_e),k(({error:p})=>{V.displayErrorMsg(this.snackBar,p)})),{dispatch:!1}),this.deleteModelParam$=b(()=>this.actions$.pipe(O(ee),re(({id:p,userId:c})=>this.modelParamHttpService.deleteModelParam(p,c).pipe(F(()=>ge({id:p})),ie(I=>{console.error("Failed to delete model parameter:",I);let x=I.message||"Failed to delete model parameter. Please try again.";return ae(fe({error:x}))}))))),this.deleteModelParamSuccess$=b(()=>this.actions$.pipe(O(ge),le(this.store.select(z)),k(()=>{V.displaySuccessMsg(this.snackBar,"Model parameter deleted successfully")}),F(([{id:p},c])=>c&&c.id?D({locationId:c.id}):te()))),this.deleteModelParamFailure$=b(()=>this.actions$.pipe(O(fe),k(({error:p})=>{V.displayErrorMsg(this.snackBar,p)})),{dispatch:!1})}static{this.\u0275fac=function(r){return new(r||e)(me(It),me(he),me(lt),me(Wt))}}static{this.\u0275prov=Ye({token:e,factory:e.\u0275fac})}}return e})();var xa=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ue({type:e})}static{this.\u0275inj=Me({imports:[tt,vt,yt,on,rt,Ut,dt,Et,gt,Tt,st,Ht,Jt,_t,Gt,ot.forFeature("modelParam",Ge),Dt.forFeature([Ue])]})}}return e})();export{xa as ModelParamModule};
