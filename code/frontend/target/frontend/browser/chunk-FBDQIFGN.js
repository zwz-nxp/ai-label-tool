import{a as K,b as ar}from"./chunk-WTJO3YM5.js";import{b as Wn}from"./chunk-AEZOZC6Z.js";import{b as Dn,c as In,d as kn}from"./chunk-PRQOG5TK.js";import{a as _i,b as oe}from"./chunk-VB7LVLZV.js";import{c as sr}from"./chunk-FMKU7UOR.js";import{J as zn,Qb as gt,Sb as ne,Tb as $e,Ub as Vn,Yc as bt,Zc as Yn,ad as yi,b as fi,bd as Ot,cc as Gn,cd as Kn,d as Ye,dc as qn,f as q,fc as vi,g as lt,gc as bi,hc as Zn,hd as er,i as Ae,j as pt,kd as tr,l as ue,ld as ir,m as he,n as Cn,o as fe,od as Gt,p as ge,pd as nr,q as Mn,qd as rr,r as kt,rd as yt,sd as or}from"./chunk-BAOJ77MB.js";import{$a as B,$c as cn,$d as En,Aa as E,Ab as di,Ae as Fn,Bb as Me,Bd as bn,Ca as Qi,Cb as qe,Cd as yn,Da as N,Db as ui,Df as vt,Ea as ot,Ee as Pe,Fa as Oe,Fb as Ze,Fc as I,Fe as ft,Ff as Bn,Ga as Gi,Ge as An,Gf as Qt,Ha as Y,Hb as zt,Hf as Pn,Ia as g,If as Xn,Ja as Re,Jb as st,Jc as nn,Ka as u,Kb as Yi,Kf as $n,La as qi,Le as We,M as Qe,Ma as at,Mc as rn,Me as Xt,Mf as Qn,N as Ni,O as ke,Oa as ci,Ob as Fe,Oe as jn,Pa as Zi,Pb as G,Pc as on,Pd as de,Pe as Xe,Qa as ae,Qe as Nn,Rc as an,Rd as je,Sa as jt,Sc as sn,Ta as Nt,Td as mt,U as Ji,Ua as Jt,Ub as hi,V as it,Va as r,Ve as Jn,W as zi,Wa as o,Wb as Ki,Wd as Ne,Xa as w,Xb as en,Xd as Je,Y as J,Ya as T,Yd as Sn,Z as Hi,Za as M,Zd as xn,_ as Vi,_a as Ge,_c as ln,_d as wn,a as Fi,ac as tn,ae as ie,ba as Bi,bb as x,bd as mn,be as Tn,c as At,ca as R,cb as C,ce as $,cf as $t,da as U,db as Dt,de as Ht,eb as It,ga as Et,ge as ze,hb as se,hf as _e,ib as Q,ie as He,if as ve,ja as nt,jb as z,je as On,jf as be,ka as Pi,kb as H,kf as ye,l as Ai,lb as Ue,ld as pn,le as Ve,lf as Se,ma as Tt,mb as c,me as dt,mf as Ce,na as Wi,nb as P,nd as dn,ne as Rn,nf as xe,o as X,oa as Mt,ob as D,od as pe,oe as Be,of as we,pb as mi,pd as un,pe as Vt,pf as Ee,q as ji,qa as Xi,qd as hn,qe as ut,qf as Te,rd as gi,rf as Hn,sd as fn,se as Bt,sf as W,tb as le,td as Z,te as Pt,ub as ce,ud as gn,ue as Wt,vb as me,vd as ct,wa as m,wb as pi,we as Un,xa as rt,xd as _n,yb as Le,ye as ht,yf as _t,za as $i,zc as te,zd as vn,ze as Ln}from"./chunk-NJA2VFCC.js";import{e as kr,f as Li}from"./chunk-TSRGIXR5.js";var Ri=kr((ai,Oi)=>{"use strict";(function(a,e){typeof ai=="object"&&typeof Oi=="object"?Oi.exports=e():typeof define=="function"&&define.amd?define("cronstrue",[],e):typeof ai=="object"?ai.cronstrue=e():a.cronstrue=e()})(globalThis,()=>(()=>{"use strict";var t={949:(i,s,_)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CronParser=void 0;var d=_(515),L=function(){function F(p,l,f){l===void 0&&(l=!0),f===void 0&&(f=!1),this.expression=p,this.dayOfWeekStartIndexZero=l,this.monthStartIndexZero=f}return F.prototype.parse=function(){var p,l,f=(p=this.expression)!==null&&p!==void 0?p:"";if(f.startsWith("@")){var h=this.parseSpecial(this.expression);l=this.extractParts(h)}else l=this.extractParts(this.expression);return this.normalize(l),this.validate(l),l},F.prototype.parseSpecial=function(p){var l={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},f=l[p];if(!f)throw new Error("Unknown special expression.");return f},F.prototype.extractParts=function(p){if(!this.expression)throw new Error("cron expression is empty");for(var l=p.trim().split(/[ ]+/),f=0;f<l.length;f++)if(l[f].includes(",")){var h=l[f].split(",").map(function(b){return b.trim()}).filter(function(b){return b!==""}).map(function(b){return isNaN(Number(b))?b:Number(b)}).filter(function(b){return b!==null&&b!==""});h.length===0&&h.push("*"),h.sort(function(b,y){return b!==null&&y!==null?b-y:0}),l[f]=h.map(function(b){return b!==null?b.toString():""}).join(",")}if(l.length<5)throw new Error("Expression has only ".concat(l.length," part").concat(l.length==1?"":"s",". At least 5 parts are required."));if(l.length==5)l.unshift(""),l.push("");else if(l.length==6){var v=/\d{4}$/.test(l[5])||l[4]=="?"||l[2]=="?";v?l.unshift(""):l.push("")}else if(l.length>7)throw new Error("Expression has ".concat(l.length," parts; too many!"));return l},F.prototype.normalize=function(p){var l=this;if(p[3]=p[3].replace("?","*"),p[5]=p[5].replace("?","*"),p[2]=p[2].replace("?","*"),p[0].indexOf("0/")==0&&(p[0]=p[0].replace("0/","*/")),p[1].indexOf("0/")==0&&(p[1]=p[1].replace("0/","*/")),p[2].indexOf("0/")==0&&(p[2]=p[2].replace("0/","*/")),p[3].indexOf("1/")==0&&(p[3]=p[3].replace("1/","*/")),p[4].indexOf("1/")==0&&(p[4]=p[4].replace("1/","*/")),p[6].indexOf("1/")==0&&(p[6]=p[6].replace("1/","*/")),p[5]=p[5].replace(/(^\d)|([^#/\s]\d)/g,function(k){var j=k.replace(/\D/,""),O=j;return l.dayOfWeekStartIndexZero?j=="7"&&(O="0"):O=(parseInt(j)-1).toString(),k.replace(j,O)}),p[5]=="L"&&(p[5]="6"),p[3]=="?"&&(p[3]="*"),p[3].indexOf("W")>-1&&(p[3].indexOf(",")>-1||p[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var f={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var h in f)p[5]=p[5].replace(new RegExp(h,"gi"),f[h].toString());p[4]=p[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(k){var j=k.replace(/\D/,""),O=j;return l.monthStartIndexZero&&(O=(parseInt(j)+1).toString()),k.replace(j,O)});var v={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var b in v)p[4]=p[4].replace(new RegExp(b,"gi"),v[b].toString());p[0]=="0"&&(p[0]=""),!/\*|\-|\,|\//.test(p[2])&&(/\*|\//.test(p[1])||/\*|\//.test(p[0]))&&(p[2]+="-".concat(p[2]));for(var y=0;y<p.length;y++)if(p[y].indexOf(",")!=-1&&(p[y]=p[y].split(",").filter(function(k){return k!==""}).join(",")||"*"),p[y]=="*/1"&&(p[y]="*"),p[y].indexOf("/")>-1&&!/^\*|\-|\,/.test(p[y])){var S=null;switch(y){case 4:S="12";break;case 5:S="6";break;case 6:S="9999";break;default:S=null;break}if(S!==null){var A=p[y].split("/");p[y]="".concat(A[0],"-").concat(S,"/").concat(A[1])}}},F.prototype.validate=function(p){var l="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(p[0],l),this.validateOnlyExpectedCharactersFound(p[1],l),this.validateOnlyExpectedCharactersFound(p[2],l),this.validateOnlyExpectedCharactersFound(p[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(p[4],l),this.validateOnlyExpectedCharactersFound(p[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(p[6],l),this.validateAnyRanges(p)},F.prototype.validateAnyRanges=function(p){d.default.secondRange(p[0]),d.default.minuteRange(p[1]),d.default.hourRange(p[2]),d.default.dayOfMonthRange(p[3]),d.default.monthRange(p[4],this.monthStartIndexZero),d.default.dayOfWeekRange(p[5],this.dayOfWeekStartIndexZero)},F.prototype.validateOnlyExpectedCharactersFound=function(p,l){var f=p.match(new RegExp("[^".concat(l,"]+"),"gi"));if(f&&f.length)throw new Error("Expression contains invalid values: '".concat(f.toString(),"'"))},F}();s.CronParser=L},333:(i,s,_)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExpressionDescriptor=void 0;var d=_(823),L=_(949),F=function(){function p(l,f){if(this.expression=l,this.options=f,this.expressionParts=new Array(5),!this.options.locale&&p.defaultLocale&&(this.options.locale=p.defaultLocale),!p.locales[this.options.locale]){var h=Object.keys(p.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(h,"'.")),this.options.locale=h}this.i18n=p.locales[this.options.locale],f.use24HourTimeFormat===void 0&&(f.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return p.toString=function(l,f){var h=f===void 0?{}:f,v=h.throwExceptionOnParseError,b=v===void 0?!0:v,y=h.verbose,S=y===void 0?!1:y,A=h.dayOfWeekStartIndexZero,k=A===void 0?!0:A,j=h.monthStartIndexZero,O=j===void 0?!1:j,ee=h.use24HourTimeFormat,V=h.locale,Lt=V===void 0?null:V,et=h.tzOffset,Ft=et===void 0?0:et,tt={throwExceptionOnParseError:b,verbose:S,dayOfWeekStartIndexZero:k,monthStartIndexZero:O,use24HourTimeFormat:ee,locale:Lt,tzOffset:Ft};tt.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release.");var Ir=new p(l,tt);return Ir.getFullDescription()},p.initialize=function(l,f){f===void 0&&(f="en"),p.specialCharacters=["/","-",",","*"],p.defaultLocale=f,l.load(p.locales)},p.prototype.getFullDescription=function(){var l="";try{var f=new L.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=f.parse();var h=this.getTimeOfDayDescription(),v=this.getDayOfMonthDescription(),b=this.getMonthDescription(),y=this.getDayOfWeekDescription(),S=this.getYearDescription();l+=h+v+y+b+S,l=this.transformVerbosity(l,!!this.options.verbose),l=l.charAt(0).toLocaleUpperCase()+l.substr(1)}catch(A){if(!this.options.throwExceptionOnParseError)l=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(A)}return l},p.prototype.getTimeOfDayDescription=function(){var l=this.expressionParts[0],f=this.expressionParts[1],h=this.expressionParts[2],v="";if(!d.StringUtilities.containsAny(f,p.specialCharacters)&&!d.StringUtilities.containsAny(h,p.specialCharacters)&&!d.StringUtilities.containsAny(l,p.specialCharacters))v+=this.i18n.atSpace()+this.formatTime(h,f,l);else if(!l&&f.indexOf("-")>-1&&!(f.indexOf(",")>-1)&&!(f.indexOf("/")>-1)&&!d.StringUtilities.containsAny(h,p.specialCharacters)){var b=f.split("-");v+=d.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(h,b[0],""),this.formatTime(h,b[1],""))}else if(!l&&h.indexOf(",")>-1&&h.indexOf("-")==-1&&h.indexOf("/")==-1&&!d.StringUtilities.containsAny(f,p.specialCharacters)){var y=h.split(",");v+=this.i18n.at();for(var S=0;S<y.length;S++)v+=" ",v+=this.formatTime(y[S],f,""),S<y.length-2&&(v+=","),S==y.length-2&&(v+=this.i18n.spaceAnd())}else{var A=this.getSecondsDescription(),k=this.getMinutesDescription(),j=this.getHoursDescription();if(v+=A,v&&k&&(v+=", "),v+=k,k===j)return v;v&&j&&(v+=", "),v+=j}return v},p.prototype.getSecondsDescription=function(){var l=this,f=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(h){return h},function(h){return d.StringUtilities.format(l.i18n.everyX0Seconds(h),h)},function(h){return l.i18n.secondsX0ThroughX1PastTheMinute()},function(h){return h=="0"?"":parseInt(h)<20?l.i18n.atX0SecondsPastTheMinute(h):l.i18n.atX0SecondsPastTheMinuteGt20()||l.i18n.atX0SecondsPastTheMinute(h)});return f},p.prototype.getMinutesDescription=function(){var l=this,f=this.expressionParts[0],h=this.expressionParts[2],v=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(b){return b},function(b){return d.StringUtilities.format(l.i18n.everyX0Minutes(b),b)},function(b){return l.i18n.minutesX0ThroughX1PastTheHour()},function(b){try{return b=="0"&&h.indexOf("/")==-1&&f==""?l.i18n.everyHour():parseInt(b)<20?l.i18n.atX0MinutesPastTheHour(b):l.i18n.atX0MinutesPastTheHourGt20()||l.i18n.atX0MinutesPastTheHour(b)}catch{return l.i18n.atX0MinutesPastTheHour(b)}});return v},p.prototype.getHoursDescription=function(){var l=this,f=this.expressionParts[2],h=0,v=[];f.split("/")[0].split(",").forEach(function(S){var A=S.split("-");A.length===2&&v.push({value:A[1],index:h+1}),h+=A.length});var b=0,y=this.getSegmentDescription(f,this.i18n.everyHour(),function(S){var A=v.find(function(j){return j.value===S&&j.index===b}),k=A&&l.expressionParts[1]!=="0";return b++,k?l.formatTime(S,"59",""):l.formatTime(S,"0","")},function(S){return d.StringUtilities.format(l.i18n.everyX0Hours(S),S)},function(S){return l.i18n.betweenX0AndX1()},function(S){return l.i18n.atX0()});return y},p.prototype.getDayOfWeekDescription=function(){var l=this,f=this.i18n.daysOfTheWeek(),h=null;return this.expressionParts[5]=="*"?h="":h=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(v,b){var y=v;v.indexOf("#")>-1?y=v.substring(0,v.indexOf("#")):v.indexOf("L")>-1&&(y=y.replace("L",""));var S=parseInt(y);if(l.options.tzOffset){var A=l.expressionParts[2],k=parseInt(A)+(l.options.tzOffset?l.options.tzOffset:0);k>=24?S++:k<0&&S--,S>6?S=0:S<0&&(S=6)}var j=l.i18n.daysOfTheWeekInCase?l.i18n.daysOfTheWeekInCase(b)[S]:f[S];if(v.indexOf("#")>-1){var O=null,ee=v.substring(v.indexOf("#")+1),V=v.substring(0,v.indexOf("#"));switch(ee){case"1":O=l.i18n.first(V);break;case"2":O=l.i18n.second(V);break;case"3":O=l.i18n.third(V);break;case"4":O=l.i18n.fourth(V);break;case"5":O=l.i18n.fifth(V);break}j=O+" "+j}return j},function(v){return parseInt(v)==1?"":d.StringUtilities.format(l.i18n.commaEveryX0DaysOfTheWeek(v),v)},function(v){var b=v.substring(0,v.indexOf("-")),y=l.expressionParts[3]!="*";return y?l.i18n.commaAndX0ThroughX1(b):l.i18n.commaX0ThroughX1(b)},function(v){var b=null;if(v.indexOf("#")>-1){var y=v.substring(v.indexOf("#")+1),S=v.substring(0,v.indexOf("#"));b=l.i18n.commaOnThe(y,S).trim()+l.i18n.spaceX0OfTheMonth()}else if(v.indexOf("L")>-1)b=l.i18n.commaOnTheLastX0OfTheMonth(v.replace("L",""));else{var A=l.expressionParts[3]!="*";b=A?l.i18n.commaAndOnX0():l.i18n.commaOnlyOnX0(v)}return b}),h},p.prototype.getMonthDescription=function(){var l=this,f=this.i18n.monthsOfTheYear(),h=this.getSegmentDescription(this.expressionParts[4],"",function(v,b){return b&&l.i18n.monthsOfTheYearInCase?l.i18n.monthsOfTheYearInCase(b)[parseInt(v)-1]:f[parseInt(v)-1]},function(v){return parseInt(v)==1?"":d.StringUtilities.format(l.i18n.commaEveryX0Months(v),v)},function(v){return l.i18n.commaMonthX0ThroughMonthX1()||l.i18n.commaX0ThroughX1()},function(v){return l.i18n.commaOnlyInMonthX0?l.i18n.commaOnlyInMonthX0():l.i18n.commaOnlyInX0()});return h},p.prototype.getDayOfMonthDescription=function(){var l=this,f=null,h=this.expressionParts[3];switch(h){case"L":f=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":f=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var v=h.match(/(\d{1,2}W)|(W\d{1,2})/);if(v){var b=parseInt(v[0].replace("W","")),y=b==1?this.i18n.firstWeekday():d.StringUtilities.format(this.i18n.weekdayNearestDayX0(),b.toString());f=d.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),y);break}else{var S=h.match(/L-(\d{1,2})/);if(S){var A=S[1];f=d.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(A),A);break}else{if(h=="*"&&this.expressionParts[5]!="*")return"";f=this.getSegmentDescription(h,this.i18n.commaEveryDay(),function(k){return k=="L"?l.i18n.lastDay():l.i18n.dayX0?d.StringUtilities.format(l.i18n.dayX0(),k):k},function(k){return k=="1"?l.i18n.commaEveryDay():l.i18n.commaEveryX0Days(k)},function(k){return l.i18n.commaBetweenDayX0AndX1OfTheMonth(k)},function(k){return l.i18n.commaOnDayX0OfTheMonth(k)})}break}}return f},p.prototype.getYearDescription=function(){var l=this,f=this.getSegmentDescription(this.expressionParts[6],"",function(h){return/^\d+$/.test(h)?new Date(parseInt(h),1).getFullYear().toString():h},function(h){return d.StringUtilities.format(l.i18n.commaEveryX0Years(h),h)},function(h){return l.i18n.commaYearX0ThroughYearX1()||l.i18n.commaX0ThroughX1()},function(h){return l.i18n.commaOnlyInYearX0?l.i18n.commaOnlyInYearX0():l.i18n.commaOnlyInX0()});return f},p.prototype.getSegmentDescription=function(l,f,h,v,b,y){var S=null,A=l.indexOf("/")>-1,k=l.indexOf("-")>-1,j=l.indexOf(",")>-1;if(!l)S="";else if(l==="*")S=f;else if(!A&&!k&&!j)S=d.StringUtilities.format(y(l),h(l));else if(j){for(var O=l.split(","),ee="",V=0;V<O.length;V++)if(V>0&&O.length>2&&(ee+=",",V<O.length-1&&(ee+=" ")),V>0&&O.length>1&&(V==O.length-1||O.length==2)&&(ee+="".concat(this.i18n.spaceAnd()," ")),O[V].indexOf("/")>-1||O[V].indexOf("-")>-1){var Lt=O[V].indexOf("-")>-1&&O[V].indexOf("/")==-1,et=this.getSegmentDescription(O[V],f,h,v,Lt?this.i18n.commaX0ThroughX1:b,y);Lt&&(et=et.replace(", ","")),ee+=et}else A?ee+=this.getSegmentDescription(O[V],f,h,v,b,y):ee+=h(O[V]);A?S=ee:S=d.StringUtilities.format(y(l),ee)}else if(A){var O=l.split("/");if(S=d.StringUtilities.format(v(O[1]),O[1]),O[0].indexOf("-")>-1){var Ft=this.generateRangeSegmentDescription(O[0],b,h);Ft.indexOf(", ")!=0&&(S+=", "),S+=Ft}else if(O[0].indexOf("*")==-1){var tt=d.StringUtilities.format(y(O[0]),h(O[0]));tt=tt.replace(", ",""),S+=d.StringUtilities.format(this.i18n.commaStartingX0(),tt)}}else k&&(S=this.generateRangeSegmentDescription(l,b,h));return S},p.prototype.generateRangeSegmentDescription=function(l,f,h){var v="",b=l.split("-"),y=h(b[0],1),S=h(b[1],2),A=f(l);return v+=d.StringUtilities.format(A,y,S),v},p.prototype.formatTime=function(l,f,h){var v=0,b=0;this.options.tzOffset&&(v=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),b=parseFloat((this.options.tzOffset%1).toFixed(2)),b!=0&&(b*=60));var y=parseInt(l)+v,S=parseInt(f)+b;S>=60?(S-=60,y+=1):S<0&&(S+=60,y-=1),y>=24?y=y-24:y<0&&(y=24+y);var A="",k=!1;this.options.use24HourTimeFormat||(k=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),A=k?"".concat(this.getPeriod(y)," "):" ".concat(this.getPeriod(y)),y>12&&(y-=12),y===0&&(y=12));var j="";return h&&(j=":".concat(("00"+h).substring(h.length))),"".concat(k?A:"").concat(("00"+y.toString()).substring(y.toString().length),":").concat(("00"+S.toString()).substring(S.toString().length)).concat(j).concat(k?"":A)},p.prototype.transformVerbosity=function(l,f){if(!f&&(l=l.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),l=l.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),l=l.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),l=l.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var h=0,v=Object.entries(this.i18n.conciseVerbosityReplacements());h<v.length;h++){var b=v[h],y=b[0],S=b[1];l=l.replace(new RegExp(y,"g"),S)}return l},p.prototype.getPeriod=function(l){return l>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},p.locales={},p}();s.ExpressionDescriptor=F},747:(i,s,_)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enLocaleLoader=void 0;var d=_(486),L=function(){function F(){}return F.prototype.load=function(p){p.en=new d.en},F}();s.enLocaleLoader=L},486:(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.en=void 0;var _=function(){function d(){}return d.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},d.prototype.atX0MinutesPastTheHourGt20=function(){return null},d.prototype.commaMonthX0ThroughMonthX1=function(){return null},d.prototype.commaYearX0ThroughYearX1=function(){return null},d.prototype.use24HourTimeFormatByDefault=function(){return!1},d.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},d.prototype.everyMinute=function(){return"every minute"},d.prototype.everyHour=function(){return"every hour"},d.prototype.atSpace=function(){return"At "},d.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},d.prototype.at=function(){return"At"},d.prototype.spaceAnd=function(){return" and"},d.prototype.everySecond=function(){return"every second"},d.prototype.everyX0Seconds=function(){return"every %s seconds"},d.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},d.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},d.prototype.everyX0Minutes=function(){return"every %s minutes"},d.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},d.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},d.prototype.everyX0Hours=function(){return"every %s hours"},d.prototype.betweenX0AndX1=function(){return"between %s and %s"},d.prototype.atX0=function(){return"at %s"},d.prototype.commaEveryDay=function(){return", every day"},d.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},d.prototype.commaX0ThroughX1=function(){return", %s through %s"},d.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},d.prototype.first=function(){return"first"},d.prototype.second=function(){return"second"},d.prototype.third=function(){return"third"},d.prototype.fourth=function(){return"fourth"},d.prototype.fifth=function(){return"fifth"},d.prototype.commaOnThe=function(){return", on the "},d.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},d.prototype.lastDay=function(){return"the last day"},d.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},d.prototype.commaOnlyOnX0=function(){return", only on %s"},d.prototype.commaAndOnX0=function(){return", and on %s"},d.prototype.commaEveryX0Months=function(){return", every %s months"},d.prototype.commaOnlyInX0=function(){return", only in %s"},d.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},d.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},d.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},d.prototype.firstWeekday=function(){return"first weekday"},d.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},d.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},d.prototype.commaEveryX0Days=function(){return", every %s days"},d.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},d.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},d.prototype.commaEveryHour=function(){return", every hour"},d.prototype.commaEveryX0Years=function(){return", every %s years"},d.prototype.commaStartingX0=function(){return", starting %s"},d.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},d}();s.en=_},515:(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0});function _(L,F){if(!L)throw new Error(F)}var d=function(){function L(){}return L.secondRange=function(F){for(var p=F.split(","),l=0;l<p.length;l++)if(!isNaN(parseInt(p[l],10))){var f=parseInt(p[l],10);_(f>=0&&f<=59,"seconds part must be >= 0 and <= 59")}},L.minuteRange=function(F){for(var p=F.split(","),l=0;l<p.length;l++)if(!isNaN(parseInt(p[l],10))){var f=parseInt(p[l],10);_(f>=0&&f<=59,"minutes part must be >= 0 and <= 59")}},L.hourRange=function(F){for(var p=F.split(","),l=0;l<p.length;l++)if(!isNaN(parseInt(p[l],10))){var f=parseInt(p[l],10);_(f>=0&&f<=23,"hours part must be >= 0 and <= 23")}},L.dayOfMonthRange=function(F){for(var p=F.split(","),l=0;l<p.length;l++)if(!isNaN(parseInt(p[l],10))){var f=parseInt(p[l],10);_(f>=1&&f<=31,"DOM part must be >= 1 and <= 31")}},L.monthRange=function(F,p){for(var l=F.split(","),f=0;f<l.length;f++)if(!isNaN(parseInt(l[f],10))){var h=parseInt(l[f],10);_(h>=1&&h<=12,p?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},L.dayOfWeekRange=function(F,p){for(var l=F.split(","),f=0;f<l.length;f++)if(!isNaN(parseInt(l[f],10))){var h=parseInt(l[f],10);_(h>=0&&h<=6,p?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},L}();s.default=d},823:(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StringUtilities=void 0;var _=function(){function d(){}return d.format=function(L){for(var F=[],p=1;p<arguments.length;p++)F[p-1]=arguments[p];return L.replace(/%s/g,function(l){for(var f=[],h=1;h<arguments.length;h++)f[h-1]=arguments[h];return F.shift()})},d.containsAny=function(L,F){return F.some(function(p){return L.indexOf(p)>-1})},d}();s.StringUtilities=_}},a={};function e(i){var s=a[i];if(s!==void 0)return s.exports;var _=a[i]={exports:{}};return t[i](_,_.exports,e),_.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.toString=void 0;var s=e(333),_=e(747);s.ExpressionDescriptor.initialize(new _.enLocaleLoader),i.default=s.ExpressionDescriptor;var d=s.ExpressionDescriptor.toString;i.toString=d})(),n})())});var Si=()=>({standalone:!0});function Rr(t,a){if(t&1&&(r(0,"mat-option",25),c(1),o()),t&2){let e=a.$implicit;u("value",e),m(),D(" ",e.acronym," ")}}function Ur(t,a){if(t&1&&(r(0,"mat-option",25),c(1),o()),t&2){let e=a.$implicit;u("value",e),m(),D(" ",e.roleName," ")}}function Lr(t,a){if(t&1){let e=B();T(0),r(1,"div")(2,"h3",13),c(3,"Selected User"),o(),r(4,"div",14)(5,"mat-form-field",15)(6,"mat-label"),c(7,"WBI"),o(),r(8,"input",16),me("ngModelChange",function(i){R(e);let s=C();return ce(s.selectedUser.wbi,i)||(s.selectedUser.wbi=i),U(i)}),o()(),r(9,"mat-form-field",15)(10,"mat-label"),c(11,"Name"),o(),r(12,"input",17),me("ngModelChange",function(i){R(e);let s=C();return ce(s.selectedUser.name,i)||(s.selectedUser.name=i),U(i)}),o()(),r(13,"mat-form-field",15)(14,"mat-label"),c(15,"E-mail"),o(),r(16,"input",18),me("ngModelChange",function(i){R(e);let s=C();return ce(s.selectedUser.email,i)||(s.selectedUser.email=i),U(i)}),o()(),r(17,"app-searchable-select",19),x("itemSelected",function(i){R(e);let s=C();return U(s.locationSelected(i))}),o()()(),r(18,"div",20)(19,"h3",13),c(20,"Add User Role"),o(),r(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),c(24,"Location"),o(),r(25,"mat-select",21),g(26,Rr,2,2,"mat-option",22),o()(),r(27,"mat-form-field",15)(28,"mat-label"),c(29,"Role"),o(),r(30,"mat-select",23),g(31,Ur,2,2,"mat-option",22),o()(),r(32,"button",24),x("click",function(){R(e);let i=C();return U(i.submitNewRoleForUser())}),c(33," Add Role "),o()()(),M()}if(t&2){let e=C();m(8),le("ngModel",e.selectedUser.wbi),u("ngModelOptions",Le(13,Si)),m(4),le("ngModel",e.selectedUser.name),u("ngModelOptions",Le(14,Si)),m(4),le("ngModel",e.selectedUser.email),u("ngModelOptions",Le(15,Si)),m(),u("compareFn",e.compareLocationOption)("defaultValue",e.selectedUser.primaryLocation)("displayFn",e.displayLocationOption)("inputList",e.allLocations),m(9),u("ngForOf",e.allLocations),m(5),u("ngForOf",e.allAvailableRoles),m(),u("disabled",e.isAddRoleDisabled)}}function Fr(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function Ar(t,a){if(t&1){let e=B();r(0,"div")(1,"mat-form-field")(2,"mat-label"),c(3,"WBI"),o(),w(4,"input",26),g(5,Fr,4,0,"mat-error",6),o(),r(6,"button",27),x("click",function(){R(e);let i=C();return U(i.searchUsers())}),r(7,"mat-icon"),c(8,"search"),o()()()}if(t&2){let e,n=C();m(5),u("ngIf",(e=n.inputForm.get("wbiSearch"))==null?null:e.hasError("required"))}}function jr(t,a){t&1&&(r(0,"th",37),c(1,"WBI"),o())}function Nr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),P(e.wbi)}}function Jr(t,a){t&1&&(r(0,"th",37),c(1,"Name"),o())}function zr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),P(e.name)}}function Hr(t,a){t&1&&(r(0,"th",37),c(1,"E-mail"),o())}function Vr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),P(e.email)}}function Br(t,a){t&1&&w(0,"th",37)}function Pr(t,a){if(t&1){let e=B();r(0,"td",38)(1,"div",39)(2,"button",40),x("click",function(){let i=R(e).$implicit,s=C(2);return U(s.selectForAddition(i))}),o()()()}}function Wr(t,a){t&1&&w(0,"tr",41)}function Xr(t,a){t&1&&w(0,"tr",42)}function $r(t,a){if(t&1&&(r(0,"table",28),T(1,29),g(2,jr,2,0,"th",30)(3,Nr,2,1,"td",31),M(),T(4,32),g(5,Jr,2,0,"th",30)(6,zr,2,1,"td",31),M(),T(7,33),g(8,Hr,2,0,"th",30)(9,Vr,2,1,"td",31),M(),T(10,34),g(11,Br,1,0,"th",30)(12,Pr,3,0,"td",31),M(),g(13,Wr,1,0,"tr",35)(14,Xr,1,0,"tr",36),o()),t&2){let e=C();u("dataSource",e.foundUsersDataSource),m(13),u("matHeaderRowDef",e.displayedColumnsUsers)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",e.displayedColumnsUsers)}}function Qr(t,a){t&1&&(r(0,"th",47),c(1,"WBI"),o())}function Gr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),P(e.user.wbi)}}function qr(t,a){t&1&&(r(0,"th",47),c(1,"Name"),o())}function Zr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.user.name," ")}}function Yr(t,a){t&1&&(r(0,"th",37),c(1,"Site"),o())}function Kr(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.location.acronym," ")}}function eo(t,a){t&1&&(r(0,"th",37),c(1,"Role"),o())}function to(t,a){if(t&1&&(r(0,"td",38),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.role.roleName," ")}}function io(t,a){t&1&&(r(0,"th",47),c(1,"Actions"),o())}function no(t,a){if(t&1){let e=B();r(0,"button",49),x("click",function(){R(e);let i=C().$implicit,s=C(2);return U(s.removeUserRole(i))}),o()}}function ro(t,a){if(t&1&&(r(0,"td",38)(1,"div",39),g(2,no,1,0,"button",48),o()()),t&2){let e=a.$implicit;m(2),u("ngIf",e.role)}}function oo(t,a){t&1&&w(0,"tr",41)}function ao(t,a){t&1&&w(0,"tr",50)}function so(t,a){if(t&1&&(r(0,"table",28),T(1,29),g(2,Qr,2,0,"th",43)(3,Gr,2,1,"td",31),M(),T(4,32),g(5,qr,2,0,"th",43)(6,Zr,2,1,"td",31),M(),T(7,44),g(8,Yr,2,0,"th",30)(9,Kr,2,1,"td",31),M(),T(10,45),g(11,eo,2,0,"th",30)(12,to,2,1,"td",31),M(),T(13,34),g(14,io,2,0,"th",43)(15,ro,3,1,"td",31),M(),g(16,oo,1,0,"tr",35)(17,ao,1,0,"tr",46),o()),t&2){let e=C();u("dataSource",e.userRolesDataSource),m(16),u("matHeaderRowDef",e.displayedColumnsRoles)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",e.displayedColumnsRoles)}}function lo(t,a){if(t&1){let e=B();r(0,"button",51),x("click",function(){R(e);let i=C();return U(i.clearSelectedUser())}),c(1," Clear user "),o()}}var Ti=(()=>{class t extends ar{constructor(e,n,i,s,_,d,L){super(e,n,i,s),this.dialogService=_,this.formBuilder=d,this.authorizationService=L,this.wbiSearch="",this.selectedLocation=new fi,this.selectedRole=new _i,this.selectedUser=new Ye,this.foundUsers=[],this.userRoles=[],this.allLocations=[],this.allAvailableRoles=new Array,this.hasDelegate=!1,this.displayedColumnsUsers=["name","wbi","actions"],this.displayedColumnsRoles=["wbi","name","site","role","actions"],this.delegateColumns=["delegateWbi","startDate","endDate","actions"],this.dateUtils=new Yn,this.store.select($t).subscribe(F=>{this.allLocations=F})}get isUserSelected(){return this.selectedUser!=null&&this.selectedUser.name!=null&&this.selectedUser.name!=""}get showSearch(){return this.crudAction==K.CREATE&&!this.isUserSelected}get hasUserRoles(){return this.userRoles.length>0}get showClearUser(){return this.crudAction==K.CREATE&&this.isUserSelected}get showDelegate(){return this.crudAction==K.UPDATE}get isAddRoleDisabled(){return this.selectedLocation=this.inputForm.get("selectedLocation")?.value,this.selectedRole=this.inputForm.get("selectedRole")?.value,this.selectedLocation.acronym==""||this.selectedRole.roleName==""}get isSaveEnabled(){return this.crudAction!=K.CREATE||this.selectedUser.name!=null&&this.selectedUser.name!=""&&this.selectedUser.primaryLocation?.acronym!=""}set inputWbiSearch(e){this.wbiSearch=e||""}displayLocationOption(e){return e.acronym}compareLocationOption(e,n){return e.acronym===n.acronym}ngOnInit(){switch(this.getAllAvailableRoles(),this.fillForm(),this.crudAction){case K.CREATE:break;case K.UPDATE:this.getAllRolesForUser();break}}ngOnDestroy(){[this.allRolesSubscription].forEach(e=>{e&&e.unsubscribe()}),[this.roleForUserSubscription].forEach(e=>{e&&e.unsubscribe()})}fillForm(){this.inputForm=this.formBuilder.group({wbiSearch:[""],selectedLocation:[""],selectedRole:[""],primaryLocation:[""]}),this.inputForm.controls.wbiSearch.setValue(this.wbiSearch),this.inputForm.controls.selectedLocation.setValue(this.selectedLocation),this.inputForm.controls.selectedRole.setValue(this.selectedRole),this.inputForm.controls.primaryLocation.setValue(this.allLocations.find(e=>e.id===this.selectedUser.primaryLocation.id))}submit(){switch(this.crudAction){case K.CREATE:this.inputForm.valid&&this.create();break;case K.DELETE:this.delete();break;case K.UPDATE:this.inputForm.valid&&this.update();break}}create(){this.assignValues(),this.selectedUser.loginAllowed=!0,this.dataService.createUser(this.selectedUser).subscribe({next:e=>{I.displaySuccessMsg(this.snackBar,"The user has been created successfully"),this.closeDialog()},error:e=>I.displayErrorMsg(this.snackBar,e)})}update(){this.assignValues(),this.dataService.saveUser(this.selectedUser).subscribe({next:e=>{I.displaySuccessMsg(this.snackBar,"The user has been successfully updated"),this.closeDialog()},error:e=>I.displayErrorMsg(this.snackBar,e)})}delete(){throw new Error("Method not implemented.")}searchUsers(){this.assignValuesToWbiSearch(),this.dataService.searchUser(this.wbiSearch).subscribe(e=>{this.foundUsers=e.filter(n=>n.primaryLocation==null),this.foundUsersDataSource=new W(this.foundUsers),this.foundUsersDataSource.sort=this.sort})}selectForAddition(e){this.selectedUser=Object.assign({},e)}submitNewRoleForUser(){this.isLoading=!0,this.selectedLocation=this.inputForm.get("selectedLocation")?.value,this.selectedRole=this.inputForm.get("selectedRole")?.value;let e=this.selectedUser,n=this.selectedLocation,i=this.selectedRole;this.dataService.addUserRole(e,i,n).subscribe({next:s=>{this.userRoles.push(s),this.userRolesDataSource=new W(this.userRoles)},error:s=>I.displayServerErrorMsg(this.snackBar,s),complete:()=>this.isLoading=!1})}removeUserRole(e){this.isLoading=!0;let n=this.selectedUser,i=e.location,s=e.role;this.dataService.removeUserRole(n,s,i).subscribe({next:_=>this.dataService.getAllRolesForUser(n).subscribe({next:d=>{this.userRoles=d,this.userRolesDataSource=new W(this.userRoles)},error:d=>I.displayServerErrorMsg(this.snackBar,d),complete:()=>this.isLoading=!1}),error:_=>I.displayServerErrorMsg(this.snackBar,_),complete:()=>this.isLoading=!1})}clearSelectedUser(){this.selectedUser=new Ye,this.selectedLocation=new fi,this.selectedRole=new _i,this.userRoles=[],this.fillForm()}isAuthorized(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,oe.ADMINISTRATOR_SYSTEM)}locationSelected(e){e&&(this.selectedLocation=e,this.inputForm.controls.primaryLocation?.setValue(e))}getUsernameByWbi(e){return this.store.select(zn(e))}getAllAvailableRoles(){this.allRolesSubscription=this.dataService.getAllRoles().subscribe(e=>{this.allAvailableRoles=e})}getAllRolesForUser(){this.roleForUserSubscription=this.dataService.getAllRolesForUser(this.selectedUser).subscribe(e=>{this.userRoles=e,this.userRolesDataSource=new W(e),this.userRolesDataSource.sortingDataAccessor=(n,i)=>{switch(i){case"site":return n.location.acronym;case"role":return n.role.roleName;default:return n[i]}},setTimeout(()=>{this.userRolesDataSource.sort=this.sort})})}assignValues(){this.selectedUser.primaryLocation=this.inputForm.get("primaryLocation")?.value;let e={};for(let n of this.userRoles){let i=e[n.location.id];i?e[n.location.id]=[...i,n.role]:e[n.location.id]=[n.role]}this.selectedUser.roles=e}assignValuesToWbiSearch(){this.wbiSearch=this.inputForm.get("wbiSearch")?.value}static{this.\u0275fac=function(n){return new(n||t)(E(je),E(q),E(de),E(te),E(mt),E(ht),E(Ae))}}static{this.\u0275cmp=N({type:t,selectors:[["app-user-crud"]],viewQuery:function(n,i){if(n&1&&Q(ne,5),n&2){let s;z(s=H())&&(i.sort=s.first)}},inputs:{wbiSearch:"wbiSearch",selectedLocation:"selectedLocation",selectedRole:"selectedRole",inputWbiSearch:"inputWbiSearch"},standalone:!1,features:[Y],decls:20,vars:9,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"flex","max-h-screen","flex-col"],["cdkDragHandle","","color","primary",1,"justify-between"],[1,"text-lg"],["mat-icon-button","",1,"ml-2",3,"click"],[1,"!max-h-[unset]","!p-2"],[3,"formGroup"],[4,"ngIf"],[1,"max-h-64","overflow-auto"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["align","center"],["color","accent","mat-flat-button","","type","submit",1,"mr-2",3,"click","disabled"],["class","mr-2","color","warn","mat-flat-button","","type","reset",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"font-medium"],[1,"flex","items-center","gap-4"],["subscriptSizing","dynamic"],["disabled","true","matInput","","name","WBI",3,"ngModelChange","ngModel","ngModelOptions"],["disabled","true","matInput","","name","Name",3,"ngModelChange","ngModel","ngModelOptions"],["disabled","true","matInput","","name","E-mail",3,"ngModelChange","ngModel","ngModelOptions"],["label","Primary Location","required","","subscriptSizing","dynamic",3,"itemSelected","compareFn","defaultValue","displayFn","inputList"],[1,"my-3"],["formControlName","selectedLocation"],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectedRole"],["mat-raised-button","",3,"click","disabled"],[3,"value"],["formControlName","wbiSearch","matInput",""],["color","accent","mat-mini-fab","","matTooltip","Search",1,"mx-3",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","wbi"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","e-mail"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex","items-center","gap-1"],["matIcon","person_add","table-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","site"],["matColumnDef","role"],["class","hover:!bg-table-row-hover","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["matIcon","delete","matTooltip","Delete this role","table-icon-button","",3,"click",4,"ngIf"],["matIcon","delete","matTooltip","Delete this role","table-icon-button","",3,"click"],["mat-row","",1,"hover:!bg-table-row-hover"],["color","warn","mat-flat-button","","type","reset",1,"mr-2",3,"click"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"h2",2),c(3),o(),r(4,"button",3),x("click",function(){return i.closeDialog()}),r(5,"mat-icon"),c(6,"close"),o()()(),r(7,"mat-dialog-content",4)(8,"form",5),g(9,Lr,34,16,"ng-container",6)(10,Ar,9,1,"div",6),r(11,"div",7),g(12,$r,15,4,"table",8)(13,so,18,4,"table",8),o()()(),r(14,"mat-dialog-actions",9)(15,"button",10),x("click",function(){return i.submit()}),c(16),o(),g(17,lo,2,0,"button",11),r(18,"button",12),x("click",function(){return i.closeDialog()}),c(19,"Close"),o()()()),n&2&&(m(3),D("",i.crudActionToText()," user for IE-MDM"),m(5),u("formGroup",i.inputForm),m(),u("ngIf",i.isUserSelected),m(),u("ngIf",i.showSearch),m(2),u("ngIf",!i.isUserSelected&&(i.foundUsers==null?null:i.foundUsers.length)),m(),u("ngIf",i.hasUserRoles),m(2),u("disabled",!i.isSaveEnabled),m(),D(" ","Save"," "),m(),u("ngIf",i.showClearUser))},dependencies:[Fe,G,ut,ze,Ve,dt,Vt,Pt,Wt,bt,rr,he,ue,ie,$,_e,be,xe,ye,ve,we,Se,Ce,Ee,Te,Z,pe,ct,ne,$e,We,Pe,ft,Xe,_t,Je,Ne,ge,vt],encapsulation:2})}}return t})();var co=()=>[25,50,100,250];function mo(t,a){t&1&&(r(0,"th",19),c(1,"Name"),o())}function po(t,a){if(t&1&&(r(0,"td",20),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.name," ")}}function uo(t,a){t&1&&(r(0,"th",19),c(1,"WBI"),o())}function ho(t,a){if(t&1&&(r(0,"td",20),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.wbi," ")}}function fo(t,a){t&1&&(r(0,"th",19),c(1,"Primary site"),o())}function go(t,a){if(t&1&&(r(0,"td",20),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.primaryLocation.acronym," ")}}function _o(t,a){t&1&&w(0,"th",21)}function vo(t,a){if(t&1){let e=B();r(0,"td",20)(1,"div",22)(2,"button",23),x("click",function(){let i=R(e).$implicit,s=C();return U(s.openEditUser(i))}),o()()()}if(t&2){let e=a.$implicit,n=C();m(2),u("disabled",!n.isAuthorized(e))("matTooltip",n.getEditTooltip(e))}}function bo(t,a){if(t&1){let e=B();r(0,"th",21)(1,"app-generic-search",25),x("emitSearchTrigger",function(i){R(e);let s=C(2);return U(s.searchFieldTriggered(i))}),o()()}if(t&2){let e=C().$implicit;m(),u("searchField",e.sortField)}}function yo(t,a){if(t&1&&(T(0,24),g(1,bo,2,1,"th",13),M()),t&2){let e=a.$implicit;u("matColumnDef",e.sortField)}}function So(t,a){t&1&&w(0,"tr",26)}function Co(t,a){t&1&&w(0,"tr",26)}function xo(t,a){t&1&&w(0,"tr",27)}function wo(t,a){t&1&&w(0,"app-spinner")}var ur=(()=>{class t{constructor(e,n,i,s,_,d){this.dataService=e,this.dialogService=n,this.authorizationService=i,this.dataUpdateService=s,this.store=_,this.genericSearchUtils=d,this.currentUser=new Ye,this.users=[],this.selectedUser=new Ye,this.displayedColumnsUsers=["name","wbi","primaryLocation.acronym","actions"],this.isCurrentUserAuthorized=!1,this.isLoading=!1,this.searchArguments=new yi,this.searchColumns=[{sortField:Ot.U_NAME},{sortField:Ot.U_WBI},{sortField:Ot.U_PRIMARY_SITE},{sortField:Ot.EMPTY}],this.searchColumnNames=this.searchColumns.map(L=>L.sortField),this.store.select(lt).subscribe(L=>{L&&(this.currentUser=L)})}ngOnInit(){this.isCurrentUserAuthorized=this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,oe.ADMINISTRATOR_SYSTEM)||this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,oe.ADMINISTRATOR_USER)}ngAfterViewInit(){this.getAllUsers()}openEditUser(e){if(this.isAuthorized(e)){this.selectedUser=Ye.clonePerson(e);let n=this.dialogService.open(Ti,{disableClose:!0});n.componentInstance.crudAction=K.UPDATE,n.componentInstance.selectedUser=this.selectedUser,n.afterClosed().subscribe(()=>{this.getAllUsers()})}}openAddUser(){let e=this.dialogService.open(Ti,{disableClose:!0});e.componentInstance.crudAction=K.CREATE,e.afterClosed().subscribe(()=>{this.getAllUsers()})}downloadExcel(){let e=this.dataService.downloadUsersExcel();window.open(e)}searchFieldTriggered(e){let n=this.searchArguments.getSearchField(e.field);n?n.value=e.value:this.searchArguments.searchArgs.push(e),this.getAllUsers()}resetFilters(){this.searchArguments=new yi,this.paginator.firstPage(),this.getAllUsers(),this.dataUpdateService.triggerReset(this.searchArguments)}sortData(e){this.genericSearchUtils.sortData(e.active,e.direction,this.searchArguments)&&(this.paginator.firstPage(),this.getAllUsers())}onPageEvent(){this.getAllUsers()}isAuthorized(e){return this.isCurrentUserAuthorized&&e.wbi!=this.currentUser.wbi}getEditTooltip(e){return this.isAuthorized(e)?"Edit user":"Not have enough rights to edit user"}getAddTooltip(){return this.isCurrentUserAuthorized?"Add a new user":"Not enough rights to add a user"}getDownloadTooltip(){return this.isCurrentUserAuthorized?"Download user list to excel":"Not have enough rights"}getAllUsers(){this.isLoading=!0,this.dataService.genericSearchPerson(this.searchArguments,this.paginator.pageIndex,this.paginator.pageSize).subscribe(e=>{this.users=e.content,this.usersDataSource=new W(this.users),this.paginator.length=e.totalElements,this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||t)(E(q),E(mt),E(Ae),E(gt),E(te),E(Kn))}}static{this.\u0275cmp=N({type:t,selectors:[["app-user-overview"]],viewQuery:function(n,i){if(n&1&&(Q(Qt,5),Q(ne,5)),n&2){let s;z(s=H())&&(i.paginator=s.first),z(s=H())&&(i.sort=s.first)}},standalone:!1,decls:33,vars:12,consts:[[1,"flex","max-h-full","flex-col"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","px-4","py-2"],[1,"flex","items-center","gap-4"],["color","primary","mat-button","",3,"click"],["color","accent","mat-mini-fab","",3,"click","disabled","matTooltip"],[1,"overflow-auto"],["mat-table","","matSort","",1,"text-sm",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","wbi"],["matColumnDef","primaryLocation.acronym"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:!bg-table-row-hover","mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"page","pageSizeOptions"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"flex","items-center","gap-1"],["matIcon","edit","table-icon-button","",3,"click","disabled","matTooltip"],[3,"matColumnDef"],[3,"emitSearchTrigger","searchField"],["mat-header-row",""],["mat-row","",1,"hover:!bg-table-row-hover"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1)(2,"app-page-title"),c(3,"Manage IE-MDM users"),o(),r(4,"div",2)(5,"button",3),x("click",function(){return i.resetFilters()}),c(6," Reset filters "),o(),r(7,"button",4),x("click",function(){return i.downloadExcel()}),r(8,"mat-icon"),c(9,"download"),o()(),r(10,"button",4),x("click",function(){return i.openAddUser()}),r(11,"mat-icon"),c(12,"add"),o()()()(),r(13,"div",5)(14,"table",6),x("matSortChange",function(_){return i.sortData(_)}),T(15,7),g(16,mo,2,0,"th",8)(17,po,2,1,"td",9),M(),T(18,10),g(19,uo,2,0,"th",8)(20,ho,2,1,"td",9),M(),T(21,11),g(22,fo,2,0,"th",8)(23,go,2,1,"td",9),M(),T(24,12),g(25,_o,1,0,"th",13)(26,vo,3,2,"td",9),M(),g(27,yo,2,1,"ng-container",14)(28,So,1,0,"tr",15)(29,Co,1,0,"tr",15)(30,xo,1,0,"tr",16),o()(),r(31,"mat-paginator",17),x("page",function(){return i.onPageEvent()}),o(),g(32,wo,1,0,"app-spinner",18),o()),n&2&&(m(7),u("disabled",!i.isCurrentUserAuthorized)("matTooltip",i.getDownloadTooltip()),m(3),u("disabled",!i.isCurrentUserAuthorized)("matTooltip",i.getAddTooltip()),m(4),u("dataSource",i.usersDataSource),m(13),u("ngForOf",i.searchColumns),m(),u("matHeaderRowDef",i.displayedColumnsUsers),m(),u("matHeaderRowDef",i.searchColumnNames),m(),u("matRowDefColumns",i.displayedColumnsUsers),m(),u("pageSizeOptions",Le(11,co)),m(),u("ngIf",i.isLoading))},dependencies:[Fe,G,bt,fe,er,yt,ie,$,_e,be,xe,ye,ve,we,Se,Ce,Ee,Te,Qt,Z,ct,ne,$e],encapsulation:2})}}return t})();var To=["*"];function Mo(t,a){t&1&&It(0)}var Mi=(()=>{class t{_elementRef=J(Tt);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Oe({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),Di=(()=>{class t{template=J(rt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Oe({type:t,selectors:[["","cdkStepLabel",""]]})}return t})();var De={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},Do=new zi("STEPPER_GLOBAL_OPTIONS"),ti=(()=>{class t{_stepperOptions;_stepper=J(ii);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new nt;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=J(Do,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=N({type:t,selectors:[["cdk-step"]],contentQueries:function(n,i,s){if(n&1&&(se(s,Di,5),se(s,On,5)),n&2){let _;z(_=H())&&(i.stepLabel=_.first),z(_=H())&&(i._childForms=_)}},viewQuery:function(n,i){if(n&1&&Q(rt,7),n&2){let s;z(s=H())&&(i.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",st],optional:[2,"optional","optional",st],completed:[2,"completed","completed",st],hasError:[2,"hasError","hasError",st]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Bi],ngContentSelectors:To,decls:1,vars:0,template:function(n,i){n&1&&(Dt(),g(0,Mo,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),ii=(()=>{class t{_dir=J(un,{optional:!0});_changeDetectorRef=J(zt);_elementRef=J(Tt);_destroyed=new At;_keyManager;_steps;steps=new Mt;_stepHeader;_sortedHeaders=new Mt;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new nt;selectedIndexChange=new nt;_groupId=J(ln).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(Qe(this._steps),ke(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(Qe(this._stepHeader),ke(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,i)=>n._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new mn(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:Ai()).pipe(Qe(this._layoutDirection()),ke(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let n of e)n._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let n=e-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,n=De.NUMBER){let i=this.steps.toArray()[e],s=this._isCurrentStep(e);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,s):this._getGuidelineLogic(i,s,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?De.ERROR:!e.completed||n?De.NUMBER:e.editable?De.EDIT:De.DONE}_getGuidelineLogic(e,n,i=De.NUMBER){return e._showError()&&e.hasError&&!n?De.ERROR:e.completed&&!n?De.DONE:e.completed&&n?i:e.editable&&n?De.EDIT:i}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let n=cn(e),i=e.keyCode,s=this._keyManager;s?.activeItemIndex!=null&&!n&&(i===32||i===13)?(this.selectedIndex=s.activeItemIndex,e.preventDefault()):s?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(n=>{let i=n.stepControl;return(i?i.invalid||i.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,n=nn();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Oe({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(n,i,s){if(n&1&&(se(s,ti,5),se(s,Mi,5)),n&2){let _;z(_=H())&&(i._steps=_),z(_=H())&&(i._stepHeader=_)}},inputs:{linear:[2,"linear","linear",st],selectedIndex:[2,"selectedIndex","selectedIndex",Yi],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return t})();var hr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ot({type:t});static \u0275inj=it({imports:[hn]})}return t})();function Io(t,a){if(t&1&&Ge(0,2),t&2){let e=C();u("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function ko(t,a){if(t&1&&(r(0,"span",7),c(1),o()),t&2){let e=C(2);m(),P(e._getDefaultTextForState(e.state))}}function Oo(t,a){if(t&1&&(r(0,"span",8),c(1),o()),t&2){let e=C(3);m(),P(e._intl.completedLabel)}}function Ro(t,a){if(t&1&&(r(0,"span",8),c(1),o()),t&2){let e=C(3);m(),P(e._intl.editableLabel)}}function Uo(t,a){if(t&1&&(g(0,Oo,2,1,"span",8)(1,Ro,2,1,"span",8),r(2,"mat-icon",7),c(3),o()),t&2){let e=C(2);ae(e.state==="done"?0:e.state==="edit"?1:-1),m(3),P(e._getDefaultTextForState(e.state))}}function Lo(t,a){if(t&1&&g(0,ko,2,1,"span",7)(1,Uo,4,2),t&2){let e,n=C();ae((e=n.state)==="number"?0:1)}}function Fo(t,a){t&1&&(r(0,"div",4),Ge(1,9),o()),t&2&&(m(),u("ngTemplateOutlet",a.template))}function Ao(t,a){if(t&1&&(r(0,"div",4),c(1),o()),t&2){let e=C();m(),P(e.label)}}function jo(t,a){if(t&1&&(r(0,"div",5),c(1),o()),t&2){let e=C();m(),P(e._intl.optionalLabel)}}function No(t,a){if(t&1&&(r(0,"div",6),c(1),o()),t&2){let e=C();m(),P(e.errorMessage)}}var fr=["*"];function Jo(t,a){}function zo(t,a){if(t&1&&(It(0),g(1,Jo,0,0,"ng-template",0)),t&2){let e=C();m(),u("cdkPortalOutlet",e._portal)}}var Ho=["animatedContainer"],gr=(t,a)=>({step:t,i:a});function Vo(t,a){t&1&&It(0)}function Bo(t,a){t&1&&w(0,"div",7)}function Po(t,a){if(t&1&&(Ge(0,6),g(1,Bo,1,0,"div",7)),t&2){let e=a.$implicit,n=a.$index,i=a.$index,s=a.$count;C(2);let _=Ue(4);u("ngTemplateOutlet",_)("ngTemplateOutletContext",di(3,gr,e,n)),m(),ae(i!==s-1?1:-1)}}function Wo(t,a){if(t&1&&(r(0,"div",8,1),Ge(2,9),o()),t&2){let e=a.$implicit,n=a.$index,i=C(2);ci("mat-horizontal-stepper-content-"+i._getAnimationDirection(n)),u("id",i._getStepContentId(n)),Re("aria-labelledby",i._getStepLabelId(n))("inert",i.selectedIndex===n?null:""),m(2),u("ngTemplateOutlet",e.content)}}function Xo(t,a){if(t&1&&(r(0,"div",2)(1,"div",3),Nt(2,Po,2,6,null,null,jt),o(),r(4,"div",4),Nt(5,Wo,3,6,"div",5,jt),o()()),t&2){let e=C();m(2),Jt(e.steps),m(3),Jt(e.steps)}}function $o(t,a){if(t&1&&(r(0,"div",10),Ge(1,6),r(2,"div",11,1)(4,"div",12)(5,"div",13),Ge(6,9),o()()()()),t&2){let e=a.$implicit,n=a.$index,i=a.$index,s=a.$count,_=C(2),d=Ue(4);m(),u("ngTemplateOutlet",d)("ngTemplateOutletContext",di(10,gr,e,n)),m(),at("mat-stepper-vertical-line",i!==s-1)("mat-vertical-content-container-active",_.selectedIndex===n),Re("inert",_.selectedIndex===n?null:""),m(2),u("id",_._getStepContentId(n)),Re("aria-labelledby",_._getStepLabelId(n)),m(2),u("ngTemplateOutlet",e.content)}}function Qo(t,a){if(t&1&&Nt(0,$o,7,13,"div",10,jt),t&2){let e=C();Jt(e.steps)}}function Go(t,a){if(t&1){let e=B();r(0,"mat-step-header",14),x("click",function(){let i=R(e).step;return U(i.select())})("keydown",function(i){R(e);let s=C();return U(s._onKeydown(i))}),o()}if(t&2){let e=a.step,n=a.i,i=C();at("mat-horizontal-stepper-header",i.orientation==="horizontal")("mat-vertical-stepper-header",i.orientation==="vertical"),u("tabIndex",i._getFocusIndex()===n?0:-1)("id",i._getStepLabelId(n))("index",n)("state",i._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",i.selectedIndex===n)("active",i._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple||!i._stepIsNavigable(n,e))("color",e.color||i.color),Re("aria-posinset",n+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",i._stepIsNavigable(n,e)?null:!0)}}var Ii=(()=>{class t extends Di{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Et(t)))(i||t)}})();static \u0275dir=Oe({type:t,selectors:[["","matStepLabel",""]],features:[Y]})}return t})(),ni=(()=>{class t{changes=new At;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ji({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qo(t){return t||new ni}var Zo={provide:ni,deps:[[new Hi,new Vi,ni]],useFactory:qo},ki=(()=>{class t extends Mi{_intl=J(ni);_focusMonitor=J(on);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=J(an);e.load(dn),e.load(sn);let n=J(zt);this._intlSubscription=this._intl.changes.subscribe(()=>n.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof Ii?null:this.label}_templateLabel(){return this.label instanceof Ii?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=N({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(n,i){n&2&&ci("mat-"+(i.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[Y],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,i){if(n&1&&(w(0,"div",0),r(1,"div")(2,"div",1),g(3,Io,1,2,"ng-container",2)(4,Lo,2,1),o()(),r(5,"div",3),g(6,Fo,2,1,"div",4)(7,Ao,2,1,"div",4)(8,jo,2,1,"div",5)(9,No,2,1,"div",6),o()),n&2){let s;u("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),m(),Zi("mat-step-icon-state-",i.state," mat-step-icon"),at("mat-step-icon-selected",i.selected),m(2),ae(i.iconOverrides&&i.iconOverrides[i.state]?3:4),m(2),at("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error",i.state=="error"),m(),ae((s=i._templateLabel())?6:i._stringLabel()?7:-1,s),m(2),ae(i.optional&&i.state!="error"?8:-1),m(),ae(i.state==="error"?9:-1)}},dependencies:[pn,hi,$],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return t})(),Yo=(()=>{class t{templateRef=J(rt);name;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Oe({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return t})(),Ko=(()=>{class t{_template=J(rt);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Oe({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),ea=(()=>{class t extends ti{_errorStateMatcher=J(Xt,{skipSelf:!0});_viewContainerRef=J(Qi);_isSelected=Fi.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Ni(()=>this._stepper.selectionChange.pipe(ji(e=>e.selectedStep===this),Qe(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new vn(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){let i=this._errorStateMatcher.isErrorState(e,n),s=!!(e&&e.invalid&&this.interacted);return i||s}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Et(t)))(i||t)}})();static \u0275cmp=N({type:t,selectors:[["mat-step"]],contentQueries:function(n,i,s){if(n&1&&(se(s,Ii,5),se(s,Ko,5)),n&2){let _;z(_=H())&&(i.stepLabel=_.first),z(_=H())&&(i._lazyContent=_.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[pi([{provide:Xt,useExisting:t},{provide:ti,useExisting:t}]),Y],ngContentSelectors:fr,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,i){n&1&&(Dt(),g(0,zo,2,1,"ng-template"))},dependencies:[bn],encapsulation:2,changeDetection:0})}return t})(),ta=(()=>{class t extends ii{_ngZone=J(Pi);_renderer=J($i);_animationsModule=J(Xi,{optional:!0});_cleanupTransition;_isAnimating=Wi(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new Mt;_icons;animationDone=new nt;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!J(rn).isBrowser;constructor(){super();let n=J(Tt).nativeElement.nodeName.toLowerCase();this.orientation=n==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(ke(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(ke(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(Qe(null),ke(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let n=e.target;if(!n)return;let i=this.orientation==="horizontal"&&e.propertyName==="transform"&&n.classList.contains("mat-horizontal-stepper-content-current"),s=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&n.classList.contains("mat-vertical-content-container-active");(i||s)&&this._animatedContainers.find(d=>d.nativeElement===n)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=N({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,i,s){if(n&1&&(se(s,ea,5),se(s,Yo,5)),n&2){let _;z(_=H())&&(i._steps=_),z(_=H())&&(i._icons=_)}},viewQuery:function(n,i){if(n&1&&(Q(ki,5),Q(Ho,5)),n&2){let s;z(s=H())&&(i._stepHeader=s),z(s=H())&&(i._animatedContainers=s)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(n,i){n&2&&(Re("aria-orientation",i.orientation),qi("--mat-stepper-animation-duration",i._getAnimationDuration()),at("mat-stepper-horizontal",i.orientation==="horizontal")("mat-stepper-vertical",i.orientation==="vertical")("mat-stepper-label-position-end",i.orientation==="horizontal"&&i.labelPosition=="end")("mat-stepper-label-position-bottom",i.orientation==="horizontal"&&i.labelPosition=="bottom")("mat-stepper-header-position-bottom",i.headerPosition==="bottom")("mat-stepper-animating",i._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[pi([{provide:ii,useExisting:t}]),Y],ngContentSelectors:fr,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,i){if(n&1&&(Dt(),g(0,Vo,1,0)(1,Xo,7,0,"div",2)(2,Qo,2,0)(3,Go,1,23,"ng-template",null,0,Ze)),n&2){let s;ae(i._isServer?0:-1),m(),ae((s=i.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[hi,ki],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return t})();var _r=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ot({type:t});static \u0275inj=it({providers:[Zo,Xt],imports:[gi,yn,hr,Ht,fn,ta,ki,gi]})}return t})();var ia=()=>["expandedDetail"];function na(t,a){t&1&&(r(0,"th",13),c(1,"Term"),o())}function ra(t,a){if(t&1&&(r(0,"td",14),c(1),o()),t&2){let e=a.$implicit;m(),P(e.term)}}function oa(t,a){t&1&&(r(0,"th",13),c(1,"Description"),o())}function aa(t,a){if(t&1&&(r(0,"td",14),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.shortDescription," ")}}function sa(t,a){if(t&1&&(r(0,"td",14)(1,"p",15),c(2),o()()),t&2){let e=a.$implicit,n=C();Re("colspan",n.displayedColumnsGlossaryItems.length),m(),u("@detailExpand",e===n.expandedElement?"expanded":"collapsed"),m(),D(" \u27A4 ",e.longDescription," ")}}function la(t,a){t&1&&w(0,"tr",16)}function ca(t,a){if(t&1){let e=B();r(0,"tr",17),x("click",function(){let i=R(e).$implicit,s=C();return U(s.expandedElement=s.expandedElement===i?null:i)}),o()}}function ma(t,a){t&1&&w(0,"tr",18)}var vr=(()=>{class t{constructor(e){this.dataService=e,this.displayedColumnsGlossaryItems=["term","description"],this.glossaryList=[],this.expandedElement=null}ngOnInit(){this.glossaryList=new Array,this.getGlossaryList()}getGlossaryList(){this.glossarySubscription=this.dataService.getAllGlossaryItems().subscribe(e=>{this.glossaryList=e})}openDescription(){}ngOnDestroy(){this.glossarySubscription!=null&&this.glossarySubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(E(q))}}static{this.\u0275cmp=N({type:t,selectors:[["app-glossary"]],standalone:!1,decls:18,vars:6,consts:[["tableList",""],[1,"flex","max-h-full","flex-col"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","px-4","py-2"],[1,"overflow-auto"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","term"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","cursor-pointer hover:!bg-table-row-hover","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","!h-0","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"overflow-hidden","p-2"],["mat-header-row",""],["mat-row","",1,"cursor-pointer","hover:!bg-table-row-hover",3,"click"],["mat-row","",1,"!h-0"]],template:function(n,i){n&1&&(r(0,"div",1)(1,"div",2)(2,"app-page-title"),c(3,"Glossary"),o()(),r(4,"div",3)(5,"table",4,0),T(7,5),g(8,na,2,0,"th",6)(9,ra,2,1,"td",7),M(),T(10,8),g(11,oa,2,0,"th",6)(12,aa,2,1,"td",7),M(),T(13,9),g(14,sa,3,3,"td",7),M(),g(15,la,1,0,"tr",10)(16,ca,1,0,"tr",11)(17,ma,1,0,"tr",12),o()()()),n&2&&(m(5),u("dataSource",i.glossaryList),m(10),u("matHeaderRowDef",i.displayedColumnsGlossaryItems)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",i.displayedColumnsGlossaryItems),m(),u("matRowDefColumns",Le(5,ia)))},dependencies:[yt,_e,be,xe,ye,ve,we,Se,Ce,Ee,Te],styles:["[_nghost-%COMP%]     .mat-mdc-table .mat-mdc-row:nth-child(4n+1), [_nghost-%COMP%]     .mat-mdc-table .mat-mdc-row:nth-child(4n+2){background-color:#ebebeb}[_nghost-%COMP%]     .mat-mdc-table .mat-mdc-row{background-color:#fff}"],data:{animation:[Gn("detailExpand",[bi("collapsed",vi({height:"0px",minHeight:"0",padding:"0"})),bi("expanded",vi({height:"*"})),Zn("expanded <=> collapsed",qn("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}}return t})();var ri=function(t){return t.SUCCESS="SUCCESS",t.DISABLED="DISABLED",t.FAILED="FAILED",t}(ri||{});function da(t,a){if(t&1&&(r(0,"mat-option",22),c(1),o()),t&2){let e=a.$implicit;u("value",e),m(),mi(" ",e.acronym," (",e.id,") ")}}function ua(t,a){if(t&1&&(r(0,"div",23),w(1,"mat-spinner",24),r(2,"p"),c(3),o()()),t&2){let e=C();m(),u("diameter",30),m(2),D(" ",e.calculationStatus," ")}}function ha(t,a){if(t&1&&(r(0,"mat-option",22),c(1),o()),t&2){let e=a.$implicit;u("value",e),m(),D(" ",e," ")}}function fa(t,a){t&1&&w(0,"mat-spinner",25),t&2&&u("diameter",30)}function ga(t,a){if(t&1&&(r(0,"mat-option",22),c(1),o()),t&2){let e=a.$implicit;u("value",e),m(),mi(" ",e.acronym," (",e.sapCode,") ")}}function _a(t,a){t&1&&w(0,"mat-spinner",25),t&2&&u("diameter",30)}var br=(()=>{class t{constructor(e,n,i,s,_){this.dataService=e,this.authorizationService=n,this.snackbar=i,this.dataUpdateService=s,this.store=_,this.allLocations=[],this.alertMsg="",this.updates=[],this.siteSelection=new Be(null),this.siteFilter=new Be(""),this.filteredLocations=[],this.calculationStatus="",this.calculatingPlanningView=!1,this.triggeringUpdate=!1,this.selectedFetchWorkFlow12NC=null,this.selectedFetchWorkFlowSapCode="",this.isFetching=!1,this.fourLocations=[],this.workFlowSiteSelection=new Be(null),this.store.select(lt).subscribe(d=>{d&&(this.currentUser=d)}),this.store.select($t).subscribe(d=>{this.allLocations=d,this.filteredLocations=this.allLocations,this.fourLocations=this.allLocations.filter(L=>[1,2,3,4].includes(L.id))}),this.siteSelection.valueChanges.subscribe(d=>{this.selectedLocation=d,this.calculationStatus=""}),this.workFlowSiteSelection.valueChanges.subscribe(d=>{this.selectedFetchWorkFlowSapCode=d?.sapCode}),this.siteFilter.valueChanges.subscribe(d=>{d?this.filteredLocations=this.allLocations.filter(L=>L.acronym.toLowerCase().includes(d?.toLowerCase())):this.filteredLocations=this.allLocations})}ngOnInit(){this.filteredLocations=this.allLocations;for(let e of Object.keys(kt))this.updates.push(e);this.isAuthorized()||I.displayWarningMsg(this.snackbar,"You need "+oe.ADMINISTRATOR_SYSTEM+" role"),this.watchForUpdate()}selectUpdate(){this.selectedUpdate=this.updateFilterInput}alertIeMdm(){this.dataService.alertIeMdm(this.alertMsg).subscribe()}isAuthorized(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,oe.ADMINISTRATOR_SYSTEM)}triggerUpdate(){this.triggeringUpdate=!0,this.dataService.manualTriggerUpdate(this.selectedUpdate??"").subscribe({next:()=>{I.displaySuccessMsg(this.snackbar,"Update is triggered successfully"),this.triggeringUpdate=!1},error:()=>{I.displayServerErrorMsg(this.snackbar,"Something went wrong"),this.triggeringUpdate=!1}})}isFetchAble(){return!(this.selectedFetchWorkFlow12NC==null||this.selectedFetchWorkFlowSapCode==null||this.isFetching)}fetchWorkFlow(){this.isFetchAble()&&(this.isFetching=!0,this.dataService.fetchWorkFlow(this.selectedFetchWorkFlow12NC,this.selectedFetchWorkFlowSapCode,this.currentUser.wbi).subscribe({next:()=>{I.displaySuccessMsg(this.snackbar,"work flow has been fetched successfully"),this.isFetching=!1},error:e=>{I.displayServerErrorMsg(this.snackbar,e),this.isFetching=!1}}))}displayTibcoJobResult(e){let n=`${e.jobResult}: `;switch(e.jobResult){case ri.FAILED:{I.displayErrorMsg(this.snackbar,n+e.message);break}case ri.DISABLED:{I.displayWarningMsg(this.snackbar,n+e.message);break}default:{I.displaySuccessMsg(this.snackbar,`${n} completed`);break}}}watchForUpdate(){this.dataUpdateService.updateEmitter.subscribe(e=>{if(e.updatedType===kt.USER_ALERT&&e.userWbi===this.currentUser.wbi){let n=e.updateData;n&&this.displayTibcoJobResult(n)}})}static{this.\u0275fac=function(n){return new(n||t)(E(q),E(Ae),E(de),E(gt),E(te))}}static{this.\u0275cmp=N({type:t,selectors:[["app-sys-admin-tools"]],standalone:!1,decls:61,vars:20,consts:[[1,"flex","max-h-full","flex-col"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","px-4","py-2"],[1,"flex","gap-4","overflow-auto","px-4","pb-4"],[1,"h-full","flex-1"],[1,"text-lg","font-medium"],[1,"mt-2","flex","items-center","gap-2"],["subscriptSizing","dynamic"],[3,"formControl","panelWidth"],[1,"bg-white"],["noEntriesFoundLabel","No matching location found","placeholderLabel","Location",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["class","my-2 text-center",4,"ngIf"],["matInput","","placeholder","Alert message",3,"ngModelChange","ngModel","disabled"],["mat-raised-button","",3,"click","disabled"],[3,"ngModelChange","ngModel","panelWidth"],["color","primary",3,"diameter",4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"flex","items-start","gap-4"],[1,"gap2","flex","flex-1","flex-col"],["matInput","","placeholder","part12NC",3,"ngModelChange","ngModel","disabled"],[1,"flex","flex-shrink-0","flex-col","items-start","gap-2"],["mat-raised-button","",1,"ml-1",3,"click","disabled"],[3,"value"],[1,"my-2","text-center"],["color","primary",1,"mx-auto",3,"diameter"],["color","primary",3,"diameter"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1)(2,"app-page-title"),c(3,"Sys-Admin Tools"),o()(),r(4,"div",2)(5,"mat-card",3)(6,"mat-card-content")(7,"div")(8,"h3",4),c(9,"Calculate Planning View"),o(),r(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),c(13,"Choose a location"),o(),r(14,"mat-select",7)(15,"mat-option",8),w(16,"ngx-mat-select-search",9),o(),g(17,da,2,3,"mat-option",10),o()()(),g(18,ua,4,2,"div",11),o()()(),r(19,"mat-card",3)(20,"mat-card-content")(21,"div")(22,"h3",4),c(23,"IE-MDM Alert"),o(),r(24,"div",5)(25,"mat-form-field",6)(26,"input",12),me("ngModelChange",function(_){return ce(i.alertMsg,_)||(i.alertMsg=_),_}),o()(),r(27,"button",13),x("click",function(){return i.alertIeMdm()}),c(28," Alert users "),o()()()()(),r(29,"mat-card",3)(30,"mat-card-content")(31,"div")(32,"h3",4),c(33,"Reload Data"),o(),r(34,"div",5)(35,"mat-form-field",6)(36,"mat-label"),c(37,"Choose a type"),o(),r(38,"mat-select",14),x("ngModelChange",function(){return i.selectUpdate()}),me("ngModelChange",function(_){return ce(i.updateFilterInput,_)||(i.updateFilterInput=_),_}),g(39,ha,2,2,"mat-option",10),o()(),r(40,"button",13),x("click",function(){return i.triggerUpdate()}),c(41," Reload "),o(),g(42,fa,1,1,"mat-spinner",15),o()()()(),r(43,"mat-card",3)(44,"mat-card-content")(45,"div",16)(46,"h3",4),c(47,"Fetch Work Flow"),o(),r(48,"div",17)(49,"div",18)(50,"mat-form-field",6)(51,"mat-label"),c(52,"Choose a plant"),o(),r(53,"mat-select",7),g(54,ga,2,3,"mat-option",10),o()(),r(55,"mat-form-field",6)(56,"input",19),me("ngModelChange",function(_){return ce(i.selectedFetchWorkFlow12NC,_)||(i.selectedFetchWorkFlow12NC=_),_}),o()()(),r(57,"div",20)(58,"button",21),x("click",function(){return i.fetchWorkFlow()}),c(59," Fetch "),o(),g(60,_a,1,1,"mat-spinner",15),o()()()()()()()),n&2&&(m(14),u("formControl",i.siteSelection)("panelWidth",null),m(2),u("formControl",i.siteFilter),m(),u("ngForOf",i.filteredLocations),m(),u("ngIf",i.calculatingPlanningView),m(8),le("ngModel",i.alertMsg),u("disabled",!i.isAuthorized()),m(),u("disabled",!i.alertMsg),m(11),le("ngModel",i.updateFilterInput),u("panelWidth",null),m(),u("ngForOf",i.updates),m(),u("disabled",!i.isAuthorized()||!i.selectedUpdate||i.triggeringUpdate),m(2),u("ngIf",i.triggeringUpdate),m(11),u("formControl",i.workFlowSiteSelection)("panelWidth",null),m(),u("ngForOf",i.fourLocations),m(2),le("ngModel",i.selectedFetchWorkFlow12NC),u("disabled",!i.isAuthorized()),m(2),u("disabled",!i.isAuthorized()||!i.isFetchAble()),m(2),u("ngIf",i.isFetching))},dependencies:[Fe,G,ze,Ve,Vt,Bt,yt,Z,We,Pe,Xe,_t,vt,Xn,$n,xn,Gt],encapsulation:2})}}return t})();var Ie=class{constructor(){this.jobDescription="",this.triggerName="",this.triggerDescription="",this.cronExpression="",this.timeZone="",this.triggerState="",this.previousFireTime="",this.nextFireTime="",this.lastUpdated=new Date,this.updatedBy=""}};var oi=class{constructor(){this.timestampUpperBound="2199-12-31T23:59:59.999",this.maxResults=20}};var yr=Li(Ri());function va(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function ba(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function ya(t,a){if(t&1&&(r(0,"mat-option",24),c(1),o()),t&2){let e=a.$implicit,n=C();u("value",e),m(),D(" ",n.displayJobNameAndDescription(e)," ")}}function Sa(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function Ca(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function xa(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function wa(t,a){t&1&&w(0,"app-spinner")}var Ui=(()=>{class t extends pt{constructor(e,n,i,s,_){super(e,n,i,s),this.formBuilder=_,this.jobOverview=new Ie,this.isNew=!0,this.submitted=!1,this.availableJobs=[],this.filteredAvailableJobs=[],this.triggerInputForm=this.formBuilder.group({job:new Be(null,He.required),jobDescription:["",He.required],jobFilter:["",He.required],timeZone:["UTC",He.required],triggerName:["",He.required],triggerDescription:["",He.required],cronExpression:["",He.required]}),this.triggerInputForm.controls.jobFilter.valueChanges.subscribe(d=>{this.filterJobs(d)})}ngOnInit(){this.title=this.isNew?"Add new Trigger":`Edit Trigger ${this.jobOverview?.jobDescription}`,this.setFormValues(),this.getAvailableJobs(),this.isNew||this.triggerInputForm.controls.triggerName.disable()}displayJobNameAndDescription(e){return e.jobDescription?`${e.jobName} (${e.jobDescription})`:`${e.jobName}`}updateSchedule(){this.assignValues(),this.submitted=!0,X(this.dataService.createJob(this.jobOverview)).then(()=>{I.displaySuccessMsg(this.snackBar,`Successfully saved job with description: ${this.jobOverview.jobDescription} with schedule ${this.jobOverview.cronExpression}`),this.close()}).catch(e=>{I.displayServerErrorMsg(this.snackBar,e)})}compareJob(e,n){return e?.jobName===n?.jobName}parseCron(e){try{return e?yr.default.toString(e??"",{use24HourTimeFormat:!0}):""}catch{return"Invalid Cron Expression"}}filterJobs(e){e?this.filteredAvailableJobs=this.availableJobs.filter(n=>this.displayJobNameAndDescription(n).toLowerCase().includes(e.toLowerCase())):this.filteredAvailableJobs=this.availableJobs}getAvailableJobs(){X(this.dataService.getAvailableJobs()).then(e=>{this.availableJobs=e.sort((n,i)=>n.jobName.localeCompare(i.jobName)),this.filteredAvailableJobs=this.availableJobs}).catch(e=>I.displayServerErrorMsg(this.snackBar,e))}setFormValues(){this.isNew||this.triggerInputForm.patchValue({job:this.jobOverview,jobDescription:this.jobOverview.jobDescription,triggerName:this.jobOverview.triggerName,triggerDescription:this.jobOverview.triggerDescription,timeZone:this.jobOverview.timeZone,cronExpression:this.jobOverview.cronExpression})}assignValues(){this.jobOverview.className=this.triggerInputForm.controls.job.value?.jobName??"",this.jobOverview.jobName=this.triggerInputForm.controls.job.value?.jobName??"",this.jobOverview.jobDescription=this.triggerInputForm.controls.job.value?.jobDescription.trim()??"",this.jobOverview.timeZone=this.triggerInputForm.controls.timeZone.value??"",this.jobOverview.triggerName=this.triggerInputForm.controls.triggerName.value?.trim()??"",this.jobOverview.triggerDescription=this.triggerInputForm.controls.triggerDescription.value?.trim()??"",this.jobOverview.cronExpression=this.triggerInputForm.controls.cronExpression.value?.trim()??""}static{this.\u0275fac=function(n){return new(n||t)(E(je),E(q),E(de),E(te),E(ht))}}static{this.\u0275cmp=N({type:t,selectors:[["app-edit-trigger-modal"]],standalone:!1,features:[Y],decls:53,vars:11,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],["cdkDragHandle","","color","primary",1,"justify-between"],["mat-icon-button","",1,"ml-2",3,"click"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-4"],["formControlName","triggerName","matInput","","matTooltip","Name of the Cron Trigger that is to be scheduled","type","text"],[4,"ngIf"],[1,"col-span-2"],["formControlName","triggerDescription","matInput","","matTooltip","Description to add to this trigger","type","text"],[1,"col-span-3"],["formControlName","job",3,"compareWith"],[1,"bg-white"],["formControlName","jobFilter","noEntriesFoundLabel","No matching Job found","placeholderLabel","Job"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-3","flex","items-center","gap-4"],[1,"grow"],["formControlName","cronExpression","matInput","","maxLength","60","type","text"],["formControlName","timeZone","matTooltip","Either UTC or NL time"],["value","Europe/Amsterdam"],["value","UTC"],["href","https://www.freeformatter.com/cron-expression-generator-quartz.html","mat-stroked-button","","target","_blank",1,"mb-5"],["align","end"],["color","accent","mat-flat-button","",1,"mr-2",3,"click"],["mat-stroked-button","",3,"click"],[3,"value"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"span"),c(3),o(),r(4,"button",2),x("click",function(){return i.close()}),r(5,"mat-icon"),c(6,"close"),o()()(),r(7,"mat-dialog-content")(8,"form",3)(9,"div",4)(10,"mat-form-field")(11,"mat-label"),c(12,"Trigger Name"),o(),w(13,"input",5),g(14,va,4,0,"mat-error",6),o(),r(15,"mat-form-field",7)(16,"mat-label"),c(17,"Trigger Description"),o(),w(18,"input",8),g(19,ba,4,0,"mat-error",6),o(),r(20,"mat-form-field",9)(21,"mat-label"),c(22,"Job Name and Description"),o(),r(23,"mat-select",10)(24,"mat-option",11),w(25,"ngx-mat-select-search",12),o(),g(26,ya,2,2,"mat-option",13),o(),g(27,Sa,4,0,"mat-error",6),o(),r(28,"div",14)(29,"mat-form-field",15)(30,"mat-label"),c(31,"Cron Expression"),o(),w(32,"input",16),g(33,Ca,4,0,"mat-error",6),r(34,"mat-hint"),c(35),o()(),r(36,"mat-form-field")(37,"mat-label"),c(38,"Time Zone"),o(),r(39,"mat-select",17)(40,"mat-option",18),c(41,"NL"),o(),r(42,"mat-option",19),c(43,"UTC"),o()(),g(44,xa,4,0,"mat-error",6),o(),r(45,"a",20),c(46," Cron Helper "),o()()(),r(47,"mat-dialog-actions",21)(48,"button",22),x("click",function(){return i.updateSchedule()}),c(49," Save "),o(),r(50,"button",23),x("click",function(){return i.close()}),c(51,"Close"),o()()(),g(52,wa,1,0,"app-spinner",6),o()()),n&2&&(m(3),P(i.title),m(5),u("formGroup",i.triggerInputForm),m(6),u("ngIf",i.triggerInputForm.controls.triggerName.hasError("required")),m(5),u("ngIf",i.triggerInputForm.controls.triggerDescription.hasError("required")),m(4),u("compareWith",i.compareJob),m(3),u("ngForOf",i.filteredAvailableJobs),m(),u("ngIf",i.triggerInputForm.controls.job.hasError("required")),m(6),u("ngIf",i.triggerInputForm.controls.cronExpression.hasError("required")),m(2),D(" ",i.parseCron(i.triggerInputForm.controls.cronExpression.value)," "),m(9),u("ngIf",i.triggerInputForm.controls.timeZone.hasError("required")),m(8),u("ngIf",i.isLoading))},dependencies:[Fe,G,ut,ze,Ve,dt,Pt,Wt,fe,he,ue,ie,$,gn,Z,pe,We,Pe,An,ft,Xe,_t,Je,Ne,ge,vt,Gt],encapsulation:2})}}return t})();var si=(()=>{class t{transform(e){return e==="Europe/Amsterdam"?"NL":e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=Gi({name:"translateTimezone",type:t,pure:!0,standalone:!1})}}return t})();function Ea(t,a){t&1&&w(0,"div")}function Ta(t,a){t&1&&(r(0,"th",28),c(1," Job description "),o())}function Ma(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.jobDescription," ")}}function Da(t,a){t&1&&(r(0,"th",28),c(1," Trigger Name "),o())}function Ia(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.triggerName," ")}}function ka(t,a){t&1&&(r(0,"th",28),c(1," Trigger Description "),o())}function Oa(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.triggerDescription," ")}}function Ra(t,a){t&1&&(r(0,"th",28),c(1,"Schedule"),o())}function Ua(t,a){if(t&1&&(r(0,"td",30),c(1),o()),t&2){let e=a.$implicit;u("matTooltip",e.displayCronDescription),m(),D(" ",e.cronExpression," ")}}function La(t,a){t&1&&(r(0,"th",28),c(1," Schedule Time Zone "),o())}function Fa(t,a){if(t&1&&(r(0,"td",29),c(1),Me(2,"translateTimezone"),o()),t&2){let e=a.$implicit;m(),D(" ",qe(2,1,e.timeZone)," ")}}function Aa(t,a){t&1&&(r(0,"th",28),c(1,"Action"),o())}function ja(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.action," ")}}function Na(t,a){t&1&&(r(0,"th",28),c(1," Last Updated "),o())}function Ja(t,a){if(t&1&&(r(0,"td",29),c(1),Me(2,"dateFormatter"),o()),t&2){let e=a.$implicit;m(),D(" ",qe(2,1,e.lastUpdated)," ")}}function za(t,a){t&1&&(r(0,"th",28),c(1," Updated By "),o())}function Ha(t,a){if(t&1&&(r(0,"td",29),c(1),Me(2,"userName"),o()),t&2){let e=a.$implicit;m(),D(" ",qe(2,1,e.updatedBy)," ")}}function Va(t,a){t&1&&w(0,"tr",31)}function Ba(t,a){t&1&&w(0,"tr",32)}function Pa(t,a){if(t&1&&(r(0,"span",13),c(1,"Job Audit"),o(),r(2,"table",14),T(3,15),g(4,Ta,2,0,"th",16)(5,Ma,2,1,"td",17),M(),T(6,18),g(7,Da,2,0,"th",16)(8,Ia,2,1,"td",17),M(),T(9,19),g(10,ka,2,0,"th",16)(11,Oa,2,1,"td",17),M(),T(12,20),g(13,Ra,2,0,"th",16)(14,Ua,2,2,"td",21),M(),T(15,22),g(16,La,2,0,"th",16)(17,Fa,3,3,"td",17),M(),T(18,23),g(19,Aa,2,0,"th",16)(20,ja,2,1,"td",17),M(),T(21,24),g(22,Na,2,0,"th",16)(23,Ja,3,3,"td",17),M(),T(24,25),g(25,za,2,0,"th",16)(26,Ha,3,3,"td",17),M(),g(27,Va,1,0,"tr",26)(28,Ba,1,0,"tr",27),o()),t&2){let e=C();m(2),u("dataSource",e.jobOverviewDataSource),m(25),u("matHeaderRowDef",e.auditColumns)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",e.auditColumns)}}function Wa(t,a){t&1&&(r(0,"span"),c(1,"No Auditing information available yet"),o())}function Xa(t,a){t&1&&w(0,"div")}function $a(t,a){t&1&&(r(0,"th",28),c(1,"When"),o())}function Qa(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.time," ")}}function Ga(t,a){t&1&&(r(0,"th",28),c(1,"Info"),o())}function qa(t,a){if(t&1&&(r(0,"td",29),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.info," ")}}function Za(t,a){t&1&&w(0,"tr",31)}function Ya(t,a){t&1&&w(0,"tr",32)}function Ka(t,a){if(t&1&&(r(0,"span",13),c(1,"Job Execution Logs"),o(),r(2,"table",33),T(3,34),g(4,$a,2,0,"th",16)(5,Qa,2,1,"td",17),M(),T(6,35),g(7,Ga,2,0,"th",16)(8,qa,2,1,"td",17),M(),g(9,Za,1,0,"tr",26)(10,Ya,1,0,"tr",27),o()),t&2){let e=C();m(2),u("dataSource",e.jobExecutionLogDataSource),m(7),u("matHeaderRowDef",e.executionTimeColumns)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",e.executionTimeColumns)}}function es(t,a){t&1&&(r(0,"span"),c(1,"No Execution logs available yet"),o())}function ts(t,a){t&1&&w(0,"app-spinner")}var Cr=(()=>{class t extends pt{constructor(){super(...arguments),this.jobExecutionLogs=[],this.jobOverviewAudit=[],this.isJobOverviewAuditLoaded=!1,this.isJobExecutionLogsLoaded=!1,this.jobOverviewDataSource=new W,this.jobExecutionLogDataSource=new W,this.auditColumns=["jobDescription","cronExpression","timeZone","triggerName","triggerDescription","action","lastUpdated","updatedBy"],this.executionTimeColumns=["executionTime","status"]}ngOnInit(){this.title=`View Job Auditing ${this.jobOverview.jobName}`,this.loadJobExecutionLogs()}loadJobExecutionLogs(){let n=this.getjobExecutionLogRequest("2199-12-31T23:59:59.999");this.isLoading=!0;let i=!1;X(this.dataService.scheduledJobOverviewsAudit(this.jobOverview.jobName,this.jobOverview.triggerName??void 0)).then(s=>{this.jobOverviewAudit=s,this.jobOverviewDataSource=new W(this.jobOverviewAudit),this.isJobOverviewAuditLoaded=this.jobOverviewAudit.length>0}).catch(s=>I.displayServerErrorMsg(this.snackBar,s)).finally(()=>{i&&(this.isLoading=!1),i=!0}),X(this.dataService.scheduledJobExecutionLogs(n)).then(s=>{this.jobExecutionLogs=s,this.jobExecutionLogDataSource=new W(this.jobExecutionLogs),this.isJobExecutionLogsLoaded=this.jobExecutionLogs.length>0}).catch(s=>I.displayServerErrorMsg(this.snackBar,s)).finally(()=>{i&&(this.isLoading=!1),i=!0})}loadMore(){let e=this.jobExecutionLogs.length===0?"2199-12-31T23:59:59.999":this.jobExecutionLogs[this.jobExecutionLogs.length-1].time,n=this.getjobExecutionLogRequest(e);X(this.dataService.scheduledJobExecutionLogs(n)).then(i=>{this.jobExecutionLogDataSource=new W(i)}).catch(i=>I.displayServerErrorMsg(this.snackBar,i)).finally(()=>{this.isLoading=!1})}getjobExecutionLogRequest(e){let n=new oi;return n.jobName=this.jobOverview.jobName,n.timestampUpperBound=e,n.maxResults=10,n}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Et(t)))(i||t)}})()}static{this.\u0275cmp=N({type:t,selectors:[["app-job-execution-logs"]],inputs:{jobOverview:"jobOverview"},standalone:!1,features:[Y],decls:28,vars:8,consts:[["jobAuditing",""],["emptyJobAuditing",""],["executionLogs",""],["emptyExecutionLogs",""],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane",1,"max-h-[87vh]"],["cdkDragHandle","","color","primary",1,"w-4/5","justify-between"],["mat-icon-button","",1,"ml-2",3,"click"],[1,"m-2","max-h-[50%]","overflow-auto"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end",1,"flex","gap-1"],["mat-stroked-button","",3,"click"],["color","accent","mat-flat-button","",3,"click"],[4,"ngIf"],[1,"font-bold"],["aria-label","Status and Last/Next Execution Details of Scheduled Jobs","mat-table","","matSort","scheduledSort",3,"dataSource"],["matColumnDef","jobDescription"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","triggerName"],["matColumnDef","triggerDescription"],["matColumnDef","cronExpression"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","timeZone"],["matColumnDef","action"],["matColumnDef","lastUpdated"],["matColumnDef","updatedBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","hover:!bg-table-row-hover","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["mat-header-row",""],["mat-row","",1,"hover:!bg-table-row-hover"],["aria-label","Job Execution Logs","mat-table","","matSort","scheduledSort",3,"dataSource"],["matColumnDef","executionTime"],["matColumnDef","status"]],template:function(n,i){if(n&1){let s=B();r(0,"div",4)(1,"mat-toolbar",5)(2,"span"),c(3),o(),r(4,"button",6),x("click",function(){return R(s),U(i.close())}),r(5,"mat-icon"),c(6,"close"),o()()(),r(7,"div")(8,"div",7),g(9,Ea,1,0,"div",8)(10,Pa,29,4,"ng-template",null,0,Ze)(12,Wa,2,0,"ng-template",null,1,Ze),o(),r(14,"div",7),g(15,Xa,1,0,"div",8)(16,Ka,11,4,"ng-template",null,2,Ze)(18,es,2,0,"ng-template",null,3,Ze),o()(),r(20,"mat-dialog-actions",9)(21,"button",10),x("click",function(){return R(s),U(i.loadMore())}),c(22,"Load more logs"),o(),r(23,"button",10),x("click",function(){return R(s),U(i.loadJobExecutionLogs())}),c(24," Reset logs "),o(),r(25,"button",11),x("click",function(){return R(s),U(i.close())}),c(26,"Close"),o()()(),g(27,ts,1,0,"app-spinner",12)}if(n&2){let s=Ue(11),_=Ue(13),d=Ue(17),L=Ue(19);m(3),P(i.title),m(6),u("ngIf",i.isJobOverviewAuditLoaded)("ngIfThen",s)("ngIfElse",_),m(6),u("ngIf",i.isJobExecutionLogsLoaded)("ngIfThen",d)("ngIfElse",L),m(12),u("ngIf",i.isLoading)}},dependencies:[G,fe,he,ue,ie,$,_e,be,xe,ye,ve,we,Se,Ce,Ee,Te,Z,pe,ne,$e,Je,ge,tr,ir,si],encapsulation:2})}}return t})();var li=class t{static create(a,e){return t.assign(a,new e)}static createArray(a,e){return a.map(n=>t.assign(n,new e))}static assign(a,e){for(let n in a)e[n]=a[n];return e}};var xr=(()=>{class t{constructor(e){this.dialog=e}close(){this.dialog.close()}static{this.\u0275fac=function(n){return new(n||t)(E(je))}}static{this.\u0275cmp=N({type:t,selectors:[["app-help-screen"]],standalone:!1,decls:34,vars:3,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],["cdkDragHandle","","color","primary",1,"justify-between"],["mat-icon-button","",1,"ml-2",3,"click"],[1,"flex","flex-col","gap-2"],["href","https://www.freeformatter.com/cron-expression-generator-quartz.html","target","_blank",1,"text-prod-primary","underline"],[1,"flex","items-center","gap-2"],[3,"inline"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"h2"),c(3,"Guidelines for scheduling jobs"),o(),r(4,"button",2),x("click",function(){return i.close()}),r(5,"mat-icon"),c(6,"close"),o()()(),r(7,"mat-dialog-content")(8,"div",3)(9,"p"),c(10,"This page provides an overview of scheduled Jobs in IE-MDM."),o(),r(11,"p"),c(12," A job is a scheduled IE-MDM task. It is possible to change the schedule for a job but also to trigger a job manually. For the scheduling timing and interval a Cron Expression is used. Only valid Cron Expressions are accepted. To get more information about Cron Expressions, and to check their validity, an external site can be used such as "),r(13,"a",4),c(14,"FreeFormatter"),o(),c(15,". "),o(),r(16,"p"),c(17," Jobs can be paused. While paused, the job will not be executed according to its schedule, but the configured schedule will stay in place. When a job is resumed, the job will be executed again according to the defined schedule. The jobs are also non-reentrant, meaning that the same job cannot be executed while still running. If a scheduled job cannot start because a current execution is still running, then it will automatically be rescheduled to start when the current execution is finished. If a manually triggered job cannot start it will not be rescheduled. "),o(),r(18,"div")(19,"div",5)(20,"p"),c(21,"To edit the configuration press"),o(),r(22,"mat-icon",6),c(23,"edit"),o()(),r(24,"div",5)(25,"p"),c(26,"To manually trigger a Job press"),o(),r(27,"mat-icon",6),c(28,"play_circle_filled"),o()(),r(29,"div",5)(30,"p"),c(31,"To see the execution log history press"),o(),r(32,"mat-icon",6),c(33,"history"),o()()()()()()),n&2&&(m(22),u("inline",!0),m(5),u("inline",!0),m(5),u("inline",!0))},dependencies:[he,ue,$,pe,Ne,ge],encapsulation:2})}}return t})();var Mr=Li(Ri());function is(t,a){t&1&&(r(0,"mat-error"),c(1," This field is "),r(2,"strong"),c(3,"required"),o()())}function ns(t,a){t&1&&w(0,"app-spinner")}var wr=(()=>{class t extends pt{constructor(e,n,i,s,_){super(e,n,i,s),this.formBuilder=_,this.jobOverview=new Ie,this.submitted=!1,this.jobDescriptionControl=new Be("")}ngOnInit(){this.setFormValues()}updateSchedule(){this.assignValues(),this.submitted=!0,X(this.dataService.createJob(this.jobOverview)).then(()=>{I.displaySuccessMsg(this.snackBar,`Successfully saved job with description: ${this.jobOverview.jobDescription}`),this.close()}).catch(e=>{I.displayServerErrorMsg(this.snackBar,e)})}setFormValues(){this.jobDescriptionControl.patchValue(this.jobOverview.jobDescription)}assignValues(){this.jobOverview.jobDescription=this.jobDescriptionControl.value??"",this.jobOverview.className=this.jobOverview.jobName}static{this.\u0275fac=function(n){return new(n||t)(E(je),E(q),E(de),E(te),E(ht))}}static{this.\u0275cmp=N({type:t,selectors:[["app-edit-job-modal"]],standalone:!1,features:[Y],decls:25,vars:4,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],["cdkDragHandle","","color","primary",1,"justify-between"],["mat-icon-button","",1,"ml-2",3,"click"],[1,"grid","w-[32rem]","grid-cols-1","gap-4"],["disabled","","matInput","",3,"value"],["matInput","","matTooltip","A short description about the function of the job","required","","type","text",3,"formControl"],[4,"ngIf"],["align","end"],["color","accent","mat-flat-button","",1,"mr-2",3,"click"],["mat-stroked-button","",3,"click"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"span"),c(3,"Edit Job Description"),o(),r(4,"button",2),x("click",function(){return i.close()}),r(5,"mat-icon"),c(6,"close"),o()()(),r(7,"mat-dialog-content")(8,"form")(9,"div",3)(10,"mat-form-field")(11,"mat-label"),c(12,"Job Name"),o(),w(13,"input",4),o(),r(14,"mat-form-field")(15,"mat-label"),c(16,"Job Description"),o(),w(17,"input",5),g(18,is,4,0,"mat-error",6),o()(),r(19,"mat-dialog-actions",7)(20,"button",8),x("click",function(){return i.updateSchedule()}),c(21," Save "),o(),r(22,"button",9),x("click",function(){return i.close()}),c(23,"Close"),o()()(),g(24,ns,1,0,"app-spinner",6),o()()),n&2&&(m(13),u("value",i.jobOverview.jobName),m(4),u("formControl",i.jobDescriptionControl),m(),u("ngIf",i.jobDescriptionControl.errors),m(6),u("ngIf",i.isLoading))},dependencies:[G,ut,ze,Ve,dt,Un,Rn,Bt,fe,he,ue,ie,$,Z,pe,We,Pe,ft,Xe,Je,Ne,ge],encapsulation:2})}}return t})();var Er=["scheduledJobsTable"],Tr=["allJobsTable"];function rs(t,a){if(t&1){let e=B();r(0,"button",29),x("click",function(){R(e);let i=C();return U(i.addTrigger())}),r(1,"mat-icon"),c(2,"add"),o()()}}function os(t,a){t&1&&(r(0,"th",30),c(1," Job Description "),o())}function as(t,a){if(t&1&&(r(0,"td",31),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.jobDescription," ")}}function ss(t,a){t&1&&(r(0,"th",30),c(1," Trigger Name "),o())}function ls(t,a){if(t&1&&(r(0,"td",31),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.triggerName," ")}}function cs(t,a){t&1&&(r(0,"th",30),c(1," Trigger Description "),o())}function ms(t,a){if(t&1&&(r(0,"td",31),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.triggerDescription," ")}}function ps(t,a){t&1&&(r(0,"th",30),c(1," Scheduled Status "),o())}function ds(t,a){if(t&1&&(r(0,"td",31),c(1),Me(2,"titlecase"),o()),t&2){let e=a.$implicit,n=C();m(),D(" ",qe(2,1,n.parseJobStatus(e.triggerState))," ")}}function us(t,a){t&1&&(r(0,"th",30),c(1,"Schedule"),o())}function hs(t,a){if(t&1&&(r(0,"td",32),c(1),o()),t&2){let e=a.$implicit,n=C();u("matTooltip",e.displayCronDescription),m(),D(" ",n.parseCron(e.cronExpression)," ")}}function fs(t,a){t&1&&(r(0,"th",30),c(1," Schedule Time Zone "),o())}function gs(t,a){if(t&1&&(r(0,"td",31),c(1),Me(2,"translateTimezone"),o()),t&2){let e=a.$implicit;m(),D(" ",qe(2,1,e.timeZone)," ")}}function _s(t,a){t&1&&(r(0,"th",30),c(1," Last Trigger (NL) "),o())}function vs(t,a){if(t&1&&(r(0,"td",31),c(1),Me(2,"date"),o()),t&2){let e=a.$implicit;m(),D(" ",ui(2,1,e.previousFireTime,"yyyy-MM-dd HH:mm")," ")}}function bs(t,a){t&1&&(r(0,"th",30),c(1," Next Trigger (NL) "),o())}function ys(t,a){if(t&1&&(r(0,"td",31),c(1),Me(2,"date"),o()),t&2){let e=a.$implicit;m(),D(" ",ui(2,1,e.nextFireTime,"yyyy-MM-dd HH:mm")," ")}}function Ss(t,a){t&1&&w(0,"th",33)}function Cs(t,a){if(t&1){let e=B();r(0,"button",41),x("click",function(){R(e);let i=C().$implicit,s=C();return U(s.pauseTrigger(i))}),o()}}function xs(t,a){if(t&1){let e=B();r(0,"button",42),x("click",function(){R(e);let i=C().$implicit,s=C();return U(s.resumeTrigger(i))}),o()}}function ws(t,a){if(t&1){let e=B();r(0,"td",31)(1,"div",34)(2,"button",35),x("click",function(){let i=R(e).$implicit,s=C();return U(s.editTrigger(i))}),o(),g(3,Cs,1,0,"button",36)(4,xs,1,0,"button",37),r(5,"button",38),x("click",function(){let i=R(e).$implicit,s=C();return U(s.runJob(i))}),o(),r(6,"button",39),x("click",function(){let i=R(e).$implicit,s=C();return U(s.showJobExecutionLogs(i))}),o(),r(7,"button",40),x("click",function(){let i=R(e).$implicit,s=C();return U(s.deleteTrigger(i))}),o()()()}if(t&2){let e=a.$implicit,n=C();m(3),u("ngIf",!n.isPaused(e)),m(),u("ngIf",n.isPaused(e))}}function Es(t,a){t&1&&w(0,"tr",43)}function Ts(t,a){t&1&&w(0,"tr",44)}function Ms(t,a){t&1&&(r(0,"th",30),c(1,"Job Name"),o())}function Ds(t,a){if(t&1&&(r(0,"td",31),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.jobName," ")}}function Is(t,a){t&1&&(r(0,"th",30),c(1," Job Description "),o())}function ks(t,a){if(t&1&&(r(0,"td",31),c(1),o()),t&2){let e=a.$implicit;m(),D(" ",e.jobDescription," ")}}function Os(t,a){t&1&&w(0,"th",33)}function Rs(t,a){if(t&1){let e=B();r(0,"td",31)(1,"div",34)(2,"button",35),x("click",function(){let i=R(e).$implicit,s=C();return U(s.editJob(i))}),o(),r(3,"button",38),x("click",function(){let i=R(e).$implicit,s=C();return U(s.runJob(i))}),o(),r(4,"button",39),x("click",function(){let i=R(e).$implicit,s=C();return U(s.showJobExecutionLogs(i))}),o()()()}}function Us(t,a){t&1&&w(0,"tr",43)}function Ls(t,a){t&1&&w(0,"tr",44)}function Fs(t,a){t&1&&w(0,"app-spinner")}var Dr=(()=>{class t{constructor(e,n,i,s,_,d,L){this.dataService=e,this.dialogService=n,this.authorizationService=i,this.snackbar=s,this.confirmDialogService=_,this.dataUpdateService=d,this.store=L,this.tabIndex=0,this.loading=!1,this.scheduledJobsOverviewDataSource=new W([]),this.allJobsOverviewDataSource=new W([]),this.scheduledTableColumns=["jobDescription","cronExpression","timeZone","previousFireTime","nextFireTime","triggerState","triggerName","triggerDescription","actions"],this.allJobsTableColumns=["jobName","jobDescription","actions"]}ngOnInit(){this.isAuthorized()||I.displayWarningMsg(this.snackbar,"You need "+oe.ADMINISTRATOR_SYSTEM+" role"),this.loadScheduledJobOverviews().then(()=>{this.scheduledSort.sort({id:"jobDescription",start:"asc",disableClear:!1}),this.allJobsSort.sort({id:"jobName",start:"asc",disableClear:!1})}),this.store.select(lt).subscribe(e=>{e&&(this.currentUser=e)}),this.watchForUpdate()}isAuthorized(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,oe.ADMINISTRATOR_SYSTEM)}addTrigger(){let e=this.dialogService.open(Ui);e.componentInstance.jobOverview=new Ie,e.afterClosed().subscribe(()=>this.loadScheduledJobOverviews())}editTrigger(e){let n=this.dialogService.open(Ui);n.componentInstance.jobOverview=e,n.componentInstance.isNew=!1,n.afterClosed().subscribe(()=>this.loadScheduledJobOverviews())}isPaused(e){return e.triggerState?.toUpperCase()==="PAUSED"}pauseTrigger(e){this.loading=!0,X(this.dataService.pauseCronTrigger(e.triggerName)).then(n=>(I.displaySuccessMsg(this.snackbar,"Paused trigger"),this.loadScheduledJobOverviews())).catch(n=>I.displayServerErrorMsg(this.snackbar,n.message)).finally(()=>this.loading=!1)}resumeTrigger(e){this.loading=!0,X(this.dataService.resumeCronTrigger(e.triggerName)).then(n=>(I.displaySuccessMsg(this.snackbar,"Resumed trigger"),this.loadScheduledJobOverviews())).catch(n=>I.displayServerErrorMsg(this.snackbar,n.message)).finally(()=>this.loading=!1)}editJob(e){let n=this.dialogService.open(wr);n.componentInstance.jobOverview=e,n.afterClosed().subscribe(()=>this.loadScheduledJobOverviews())}runJob(e){this.loading=!0,X(this.dataService.runJob(e)).then(n=>{}).catch(n=>I.displayServerErrorMsg(this.snackbar,n.message)).finally(()=>{this.loading=!1,this.loadScheduledJobOverviews()})}deleteTrigger(e){let n=this.confirmDialogService.openDialog("Please confirm","Do you really want to delete this schedule?");X(n.afterClosed()).then(i=>{i&&(this.loading=!0,X(this.dataService.deleteTrigger(e)).then(s=>(I.displaySuccessMsg(this.snackbar,`"${e.triggerName}" deleted`),this.loadScheduledJobOverviews())).catch(s=>I.displayServerErrorMsg(this.snackbar,s.message)).finally(()=>this.loading=!1))})}showJobExecutionLogs(e){let n=this.dialogService.open(Cr);n.componentInstance.jobOverview=e,n.afterClosed().subscribe(()=>this.loadScheduledJobOverviews())}openGuidelinesPopup(){this.dialogService.open(xr)}parseCron(e){try{return Mr.default.toString(e,{use24HourTimeFormat:!0})}catch{return"Invalid Cron Expression"}}parseJobStatus(e){return e.toLowerCase()==="blocked"?"running":e}loadScheduledJobOverviews(){return this.loading=!0,X(this.dataService.scheduledJobOverviews()).then(e=>{let n=li.createArray(e,Ie),i=[],s=[];n.forEach(_=>{_.cronExpression?.trim()?.length>0&&i.push(_),s.some(d=>_.jobName===d.jobName)||s.push(_)}),this.scheduledJobsOverviewDataSource=new W(i),this.allJobsOverviewDataSource=new W(s),this.scheduledJobsOverviewDataSource.sort=this.scheduledSort,this.allJobsOverviewDataSource.sort=this.allJobsSort}).finally(()=>this.loading=!1)}watchForUpdate(){this.dataUpdateService.updateEmitter.subscribe(e=>{if(e.updatedType===kt.USER_ALERT&&e.userWbi.includes(this.currentUser.wbi)){let n=e.updateData;if(n){let i=n.split(";"),s=i[0];switch(i[1]){case"failed":I.displayErrorMsg(this.snackbar,`${s} failed to complete`);break;case"veto":I.displayWarningMsg(this.snackbar,`${s} was cancelled`);break;case"success":I.displaySuccessMsg(this.snackbar,`${s} successfully ran to completion`);break;default:I.displaySuccessMsg(this.snackbar,`${s} started`);break}}}})}static{this.\u0275fac=function(n){return new(n||t)(E(q),E(mt),E(Ae),E(de),E(Wn),E(gt),E(te))}}static{this.\u0275cmp=N({type:t,selectors:[["app-scheduled-jobs"]],viewQuery:function(n,i){if(n&1&&(Q(Er,5),Q(Tr,5),Q(Er,5),Q(Tr,5)),n&2){let s;z(s=H())&&(i.scheduledJobsTable=s.first),z(s=H())&&(i.allJobsTable=s.first),z(s=H())&&(i.scheduledSort=s.first),z(s=H())&&(i.allJobsSort=s.first)}},standalone:!1,decls:54,vars:11,consts:[["scheduledJobsTable","matSort"],["allJobsTable","matSort"],[1,"flex","max-h-full","flex-col"],[1,"absolute","right-2","top-1","z-40","flex","items-center","gap-2"],["mat-button","","matTooltip","Click to open the help guidelines for scheduling jobs",3,"click"],["color","accent","mat-mini-fab","","matTooltip","Add new Job to schedule",3,"click",4,"ngIf"],[1,"flex","min-h-0","flex-col"],["mat-stretch-tabs","false",1,"overflow-auto",3,"selectedIndexChange","selectedIndex"],["label","Scheduled Triggers"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","jobDescription","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","triggerName"],["matColumnDef","triggerDescription"],["matColumnDef","triggerState"],["matColumnDef","cronExpression"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","timeZone"],["matColumnDef","previousFireTime"],["matColumnDef","nextFireTime"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","hover:!bg-table-row-hover","mat-row","",4,"matRowDef","matRowDefColumns"],["label","All Jobs"],["matColumnDef","jobName","sticky",""],["matColumnDef","jobDescription"],[4,"ngIf"],["color","accent","mat-mini-fab","","matTooltip","Add new Job to schedule",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["mat-header-cell",""],[1,"flex","items-center","gap-1"],["matIcon","edit","matTooltip","Edit job schedule","table-icon-button","",3,"click"],["matIcon","pause","matTooltip","Pause triggering on schedule","table-icon-button","",3,"click",4,"ngIf"],["matIcon","refresh","matTooltip","Resume triggering on schedule","table-icon-button","",3,"click",4,"ngIf"],["matIcon","play_circle_filled","matTooltip","Trigger job execution","table-icon-button","",3,"click"],["matIcon","history","matTooltip","Show job execution logs","table-icon-button","",3,"click"],["matIcon","delete","matTooltip","Delete trigger","table-icon-button","",3,"click"],["matIcon","pause","matTooltip","Pause triggering on schedule","table-icon-button","",3,"click"],["matIcon","refresh","matTooltip","Resume triggering on schedule","table-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"hover:!bg-table-row-hover"]],template:function(n,i){if(n&1){let s=B();r(0,"div",2)(1,"div",3)(2,"button",4),x("click",function(){return R(s),U(i.openGuidelinesPopup())}),c(3," Guidelines "),o(),g(4,rs,3,0,"button",5),o(),r(5,"div",6)(6,"mat-tab-group",7),me("selectedIndexChange",function(d){return R(s),ce(i.tabIndex,d)||(i.tabIndex=d),U(d)}),r(7,"mat-tab",8)(8,"table",9,0),T(10,10),g(11,os,2,0,"th",11)(12,as,2,1,"td",12),M(),T(13,13),g(14,ss,2,0,"th",11)(15,ls,2,1,"td",12),M(),T(16,14),g(17,cs,2,0,"th",11)(18,ms,2,1,"td",12),M(),T(19,15),g(20,ps,2,0,"th",11)(21,ds,3,3,"td",12),M(),T(22,16),g(23,us,2,0,"th",11)(24,hs,2,2,"td",17),M(),T(25,18),g(26,fs,2,0,"th",11)(27,gs,3,3,"td",12),M(),T(28,19),g(29,_s,2,0,"th",11)(30,vs,3,4,"td",12),M(),T(31,20),g(32,bs,2,0,"th",11)(33,ys,3,4,"td",12),M(),T(34,21),g(35,Ss,1,0,"th",22)(36,ws,8,2,"td",12),M(),g(37,Es,1,0,"tr",23)(38,Ts,1,0,"tr",24),o()(),r(39,"mat-tab",25)(40,"table",9,1),T(42,26),g(43,Ms,2,0,"th",11)(44,Ds,2,1,"td",12),M(),T(45,27),g(46,Is,2,0,"th",11)(47,ks,2,1,"td",12),M(),T(48,21),g(49,Os,1,0,"th",22)(50,Rs,5,0,"td",12),M(),g(51,Us,1,0,"tr",23)(52,Ls,1,0,"tr",24),o()()(),g(53,Fs,1,0,"app-spinner",28),o()()}n&2&&(m(4),u("ngIf",i.tabIndex===0),m(2),le("selectedIndex",i.tabIndex),m(2),u("dataSource",i.scheduledJobsOverviewDataSource),m(29),u("matHeaderRowDef",i.scheduledTableColumns)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",i.scheduledTableColumns),m(2),u("dataSource",i.allJobsOverviewDataSource),m(11),u("matHeaderRowDef",i.allJobsTableColumns)("matHeaderRowDefSticky",!0),m(),u("matRowDefColumns",i.allJobsTableColumns),m(),u("ngIf",i.loading))},dependencies:[G,bt,fe,ie,$,_e,be,xe,ye,ve,we,Se,Ce,Ee,Te,Z,ct,ne,$e,Dn,In,Ki,en,si],encapsulation:2})}}return t})();var As=[{path:"user-management",component:ur},{path:"glossary",component:vr},{path:"sys-admin-tools",component:br},{path:"scheduled-jobs",component:Dr}],js={showDelay:0,hideDelay:0,touchendHideDelay:0,disableTooltipInteractivity:!0},bp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=ot({type:t})}static{this.\u0275inj=it({providers:[{provide:En,useValue:js}],imports:[tn,Ln,Fn,Jn.forChild(As),or,Cn,Tn,Ht,Hn,Pn,_n,Vn,jn,Nn,sr,Sn,Mn,_r,Bn,Qn,wn,kn,nr]})}}return t})();export{bp as SettingsModule};
