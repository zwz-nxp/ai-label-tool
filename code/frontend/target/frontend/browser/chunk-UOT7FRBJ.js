import{e as Me,lc as Ie}from"./chunk-BAOJ77MB.js";import{$a as _t,Aa as it,Bb as fe,Da as ge,Db as he,Hb as me,Ia as N,Ka as A,La as B,Ma as pe,Ob as Ce,Pb as _e,Pd as xe,Rd as Se,Sd as be,U as ht,Va as g,Wa as h,Wd as we,X as ct,Xa as I,Xd as Ee,Ya as mt,Za as Ct,Zd as ye,_b as ve,ae as ke,bb as ot,ca as et,cb as z,ce as Ae,da as nt,gc as Mt,kc as Ot,le as Re,mb as m,nb as G,nc as Pe,ob as vt,pb as Pt,pe as De,q as de,qb as Ht,tb as Nt,td as Oe,ub as Bt,vb as $t,wa as _,yb as ue}from"./chunk-NJA2VFCC.js";var ze=(()=>{class e{constructor(i,r){this.http=i,this.config=r,this.apiUrl=this.config.ServerWithApiUrl+"landingai/auto-split"}getAutoSplitStats(i,r){let s=new Mt().set("projectId",i.toString()).set("includeAssigned",r.toString());return this.http.get(`${this.apiUrl}/stats`,{params:s})}assignSplits(i){return this.http.post(`${this.apiUrl}/assign`,i)}static{this.\u0275fac=function(r){return new(r||e)(ct(Ot),ct(Me))}}static{this.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Q=function(e){return e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values",e}(Q||{}),H=function(e){return e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue",e}(H||{});function xn(e){return St(e)&&typeof e.from=="function"}function St(e){return typeof e=="object"&&typeof e.to=="function"}function Te(e){e.parentElement.removeChild(e)}function Wt(e){return e!=null}function Ue(e){e.preventDefault()}function Sn(e){return e.filter(function(t){return this[t]?!1:this[t]=!0},{})}function bn(e,t){return Math.round(e/t)*t}function wn(e,t){var i=e.getBoundingClientRect(),r=e.ownerDocument,s=r.documentElement,p=He(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(p.x=0),t?i.top+p.y-s.clientTop:i.left+p.x-s.clientLeft}function $(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function je(e,t,i){i>0&&(F(e,t),setTimeout(function(){xt(e,t)},i))}function Fe(e){return Math.max(Math.min(e,100),0)}function bt(e){return Array.isArray(e)?e:[e]}function En(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function F(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function xt(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function yn(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function He(e){var t=window.pageXOffset!==void 0,i=(e.compatMode||"")==="CSS1Compat",r=t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,s=t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:s}}function kn(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function An(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}function Rn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Kt(e,t){return 100/(t-e)}function qt(e,t,i){return t*100/(e[i+1]-e[i])}function Dn(e,t){return qt(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function In(e,t){return t*(e[1]-e[0])/100+e[0]}function lt(e,t){for(var i=1;e>=t[i];)i+=1;return i}function Vn(e,t,i){if(i>=e.slice(-1)[0])return 100;var r=lt(i,e),s=e[r-1],p=e[r],f=t[r-1],O=t[r];return f+Dn([s,p],i)/Kt(f,O)}function zn(e,t,i){if(i>=100)return e.slice(-1)[0];var r=lt(i,t),s=e[r-1],p=e[r],f=t[r-1],O=t[r];return In([s,p],(i-f)*Kt(f,O))}function Tn(e,t,i,r){if(r===100)return r;var s=lt(r,e),p=e[s-1],f=e[s];return i?r-p>(f-p)/2?f:p:t[s-1]?e[s-1]+bn(r-e[s-1],t[s-1]):r}var Ne=function(){function e(t,i,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=i;var s,p=[];for(Object.keys(t).forEach(function(f){p.push([bt(t[f]),f])}),p.sort(function(f,O){return f[0][0]-O[0][0]}),s=0;s<p.length;s++)this.handleEntryPoint(p[s][1],p[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return e.prototype.getDistance=function(t){for(var i=[],r=0;r<this.xNumSteps.length-1;r++)i[r]=qt(this.xVal,t,r);return i},e.prototype.getAbsoluteDistance=function(t,i,r){var s=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[s+1];)s++;else t===this.xPct[this.xPct.length-1]&&(s=this.xPct.length-2);!r&&t===this.xPct[s+1]&&s++,i===null&&(i=[]);var p,f=1,O=i[s],P=0,v=0,D=0,U=0;for(r?p=(t-this.xPct[s])/(this.xPct[s+1]-this.xPct[s]):p=(this.xPct[s+1]-t)/(this.xPct[s+1]-this.xPct[s]);O>0;)P=this.xPct[s+1+U]-this.xPct[s+U],i[s+U]*f+100-p*100>100?(v=P*p,f=(O-100*p)/i[s+U],p=1):(v=i[s+U]*P/100*f,f=0),r?(D=D-v,this.xPct.length+U>=1&&U--):(D=D+v,this.xPct.length-U>=1&&U++),O=i[s+U]*f;return t+D},e.prototype.toStepping=function(t){return t=Vn(this.xVal,this.xPct,t),t},e.prototype.fromStepping=function(t){return zn(this.xVal,this.xPct,t)},e.prototype.getStep=function(t){return t=Tn(this.xPct,this.xSteps,this.snap,t),t},e.prototype.getDefaultStep=function(t,i,r){var s=lt(t,this.xPct);return(t===100||i&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/r},e.prototype.getNearbySteps=function(t){var i=lt(t,this.xPct);return{stepBefore:{startValue:this.xVal[i-2],step:this.xNumSteps[i-2],highestStep:this.xHighestCompleteStep[i-2]},thisStep:{startValue:this.xVal[i-1],step:this.xNumSteps[i-1],highestStep:this.xHighestCompleteStep[i-1]},stepAfter:{startValue:this.xVal[i],step:this.xNumSteps[i],highestStep:this.xHighestCompleteStep[i]}}},e.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(En);return Math.max.apply(null,t)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(t){return this.getStep(this.toStepping(t))},e.prototype.handleEntryPoint=function(t,i){var r;if(t==="min"?r=0:t==="max"?r=100:r=parseFloat(t),!$(r)||!$(i[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(i[0]);var s=Number(i[1]);r?this.xSteps.push(isNaN(s)?!1:s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(t,i){if(i){if(this.xVal[t]===this.xVal[t+1]){this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t];return}this.xSteps[t]=qt([this.xVal[t],this.xVal[t+1]],i,0)/Kt(this.xPct[t],this.xPct[t+1]);var r=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],s=Math.ceil(Number(r.toFixed(3))-1),p=this.xVal[t]+this.xNumSteps[t]*s;this.xHighestCompleteStep[t]=p}},e}(),Le={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Be={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Y={tooltips:".__tooltips",aria:".__aria"};function Un(e,t){if(!$(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function jn(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function Fn(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function Ln(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function Hn(e,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new Ne(t,e.snap||!1,e.singleStep)}function Nn(e,t){if(t=bt(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function Bn(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function $n(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function Wn(e,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function $e(e,t){var i=[!1],r;if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(r=1;r<e.handles;r++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=t}e.connect=i}function qn(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function We(e,t){if(!$(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(e.margin=e.spectrum.getDistance(t))}function Kn(e,t){if(!$(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Gn(e,t){var i;if(!$(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&!(t.length===2||$(t[0])||$(t[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],s=e.spectrum.xVal[0],p=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(p-s)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Xn(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Yn(e,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,s=t.indexOf("fixed")>=0,p=t.indexOf("snap")>=0,f=t.indexOf("hover")>=0,O=t.indexOf("unconstrained")>=0,P=t.indexOf("invert-connects")>=0,v=t.indexOf("drag-all")>=0,D=t.indexOf("smooth-steps")>=0;if(s){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");We(e,e.start[1]-e.start[0])}if(P&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(O&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||p,drag:r,dragAll:v,smoothSteps:D,fixed:s,snap:p,hover:f,unconstrained:O,invertConnects:P}}function Jn(e,t){if(t!==!1)if(t===!0||St(t)){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(t)}else{if(t=bt(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(r){if(typeof r!="boolean"&&!St(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=t}}function Zn(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Qn(e,t){if(!St(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function ti(e,t){if(!xn(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function ei(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function ni(e,t){e.documentElement=t}function ii(e,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function oi(e,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(t).forEach(function(i){e.cssClasses[i]=e.cssPrefix+t[i]})):e.cssClasses=t}function qe(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Le,format:Le},i={step:{r:!1,t:Un},keyboardPageMultiplier:{r:!1,t:jn},keyboardMultiplier:{r:!1,t:Fn},keyboardDefaultStep:{r:!1,t:Ln},start:{r:!0,t:Nn},connect:{r:!0,t:$e},direction:{r:!0,t:Xn},snap:{r:!1,t:Bn},animate:{r:!1,t:$n},animationDuration:{r:!1,t:Wn},range:{r:!0,t:Hn},orientation:{r:!1,t:qn},margin:{r:!1,t:We},limit:{r:!1,t:Kn},padding:{r:!1,t:Gn},behaviour:{r:!0,t:Yn},ariaFormat:{r:!1,t:Qn},format:{r:!1,t:ti},tooltips:{r:!1,t:Jn},keyboardSupport:{r:!0,t:ei},documentElement:{r:!1,t:ni},cssPrefix:{r:!0,t:ii},cssClasses:{r:!0,t:oi},handleAttributes:{r:!1,t:Zn}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Be,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach(function(P){if(!Wt(e[P])&&r[P]===void 0){if(i[P].r)throw new Error("noUiSlider: '"+P+"' is required.");return}i[P].t(t,Wt(e[P])?e[P]:r[P])}),t.pips=e.pips;var s=document.createElement("div"),p=s.style.msTransform!==void 0,f=s.style.transform!==void 0;t.transformRule=f?"transform":p?"msTransform":"webkitTransform";var O=[["left","top"],["right","bottom"]];return t.style=O[t.dir][t.ort],t}function ai(e,t,i){var r=kn(),s=Rn(),p=s&&An(),f=e,O,P,v,D,U,X,M=t.spectrum,W=[],w=[],L=[],wt=0,q={},at=!1,tt=e.ownerDocument,dt=t.documentElement||tt.documentElement,gt=tt.body,Ke=tt.dir==="rtl"||t.ort===1?0:100;function K(n,o){var a=tt.createElement("div");return o&&F(a,o),n.appendChild(a),a}function Ge(n,o){var a=K(n,t.cssClasses.origin),c=K(a,t.cssClasses.handle);if(K(c,t.cssClasses.touchArea),c.setAttribute("data-handle",String(o)),t.keyboardSupport&&(c.setAttribute("tabindex","0"),c.addEventListener("keydown",function(d){return gn(d,o)})),t.handleAttributes!==void 0){var l=t.handleAttributes[o];Object.keys(l).forEach(function(d){c.setAttribute(d,l[d])})}return c.setAttribute("role","slider"),c.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),o===0?F(c,t.cssClasses.handleLower):o===t.handles-1&&F(c,t.cssClasses.handleUpper),a.handle=c,a}function Et(n,o){return o?K(n,t.cssClasses.connect):!1}function Xe(n,o){P=K(o,t.cssClasses.connects),v=[],D=[],D.push(Et(P,n[0]));for(var a=0;a<t.handles;a++)v.push(Ge(o,a)),L[a]=a,D.push(Et(P,n[a+1]))}function Ye(n){F(n,t.cssClasses.target),t.dir===0?F(n,t.cssClasses.ltr):F(n,t.cssClasses.rtl),t.ort===0?F(n,t.cssClasses.horizontal):F(n,t.cssClasses.vertical);var o=getComputedStyle(n).direction;return o==="rtl"?F(n,t.cssClasses.textDirectionRtl):F(n,t.cssClasses.textDirectionLtr),K(n,t.cssClasses.base)}function Je(n,o){return!t.tooltips||!t.tooltips[o]?!1:K(n.firstChild,t.cssClasses.tooltip)}function Xt(){return f.hasAttribute("disabled")}function yt(n){var o=v[n];return o.hasAttribute("disabled")}function Ze(n){n!=null?(v[n].setAttribute("disabled",""),v[n].handle.removeAttribute("tabindex")):(f.setAttribute("disabled",""),v.forEach(function(o){o.handle.removeAttribute("tabindex")}))}function Qe(n){n!=null?(v[n].removeAttribute("disabled"),v[n].handle.setAttribute("tabindex","0")):(f.removeAttribute("disabled"),v.forEach(function(o){o.removeAttribute("disabled"),o.handle.setAttribute("tabindex","0")}))}function kt(){X&&(rt("update"+Y.tooltips),X.forEach(function(n){n&&Te(n)}),X=null)}function Yt(){kt(),X=v.map(Je),Vt("update"+Y.tooltips,function(n,o,a){if(!(!X||!t.tooltips)&&X[o]!==!1){var c=n[o];t.tooltips[o]!==!0&&(c=t.tooltips[o].to(a[o])),X[o].innerHTML=c}})}function tn(){rt("update"+Y.aria),Vt("update"+Y.aria,function(n,o,a,c,l){L.forEach(function(d){var C=v[d],u=pt(w,d,0,!0,!0,!0),S=pt(w,d,100,!0,!0,!0),b=l[d],E=String(t.ariaFormat.to(a[d]));u=M.fromStepping(u).toFixed(1),S=M.fromStepping(S).toFixed(1),b=M.fromStepping(b).toFixed(1),C.children[0].setAttribute("aria-valuemin",u),C.children[0].setAttribute("aria-valuemax",S),C.children[0].setAttribute("aria-valuenow",b),C.children[0].setAttribute("aria-valuetext",E)})})}function en(n){if(n.mode===Q.Range||n.mode===Q.Steps)return M.xVal;if(n.mode===Q.Count){if(n.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var o=n.values-1,a=100/o,c=[];o--;)c[o]=o*a;return c.push(100),Jt(c,n.stepped)}return n.mode===Q.Positions?Jt(n.values,n.stepped):n.mode===Q.Values?n.stepped?n.values.map(function(l){return M.fromStepping(M.getStep(M.toStepping(l)))}):n.values:[]}function Jt(n,o){return n.map(function(a){return M.fromStepping(o?M.getStep(a):a)})}function nn(n){function o(b,E){return Number((b+E).toFixed(7))}var a=en(n),c={},l=M.xVal[0],d=M.xVal[M.xVal.length-1],C=!1,u=!1,S=0;return a=Sn(a.slice().sort(function(b,E){return b-E})),a[0]!==l&&(a.unshift(l),C=!0),a[a.length-1]!==d&&(a.push(d),u=!0),a.forEach(function(b,E){var y,x,R,j=b,V=a[E+1],T,Ut,jt,Ft,se,Lt,ce,le=n.mode===Q.Steps;for(le&&(y=M.xNumSteps[E]),y||(y=V-j),V===void 0&&(V=j),y=Math.max(y,1e-7),x=j;x<=V;x=o(x,y)){for(T=M.toStepping(x),Ut=T-S,se=Ut/(n.density||1),Lt=Math.round(se),ce=Ut/Lt,R=1;R<=Lt;R+=1)jt=S+R*ce,c[jt.toFixed(5)]=[M.fromStepping(jt),0];Ft=a.indexOf(x)>-1?H.LargeValue:le?H.SmallValue:H.NoValue,!E&&C&&x!==V&&(Ft=0),x===V&&u||(c[T.toFixed(5)]=[x,Ft]),S=T}}),c}function on(n,o,a){var c,l,d=tt.createElement("div"),C=(c={},c[H.None]="",c[H.NoValue]=t.cssClasses.valueNormal,c[H.LargeValue]=t.cssClasses.valueLarge,c[H.SmallValue]=t.cssClasses.valueSub,c),u=(l={},l[H.None]="",l[H.NoValue]=t.cssClasses.markerNormal,l[H.LargeValue]=t.cssClasses.markerLarge,l[H.SmallValue]=t.cssClasses.markerSub,l),S=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],b=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];F(d,t.cssClasses.pips),F(d,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical);function E(x,R){var j=R===t.cssClasses.value,V=j?S:b,T=j?C:u;return R+" "+V[t.ort]+" "+T[x]}function y(x,R,j){if(j=o?o(R,j):j,j!==H.None){var V=K(d,!1);V.className=E(j,t.cssClasses.marker),V.style[t.style]=x+"%",j>H.NoValue&&(V=K(d,!1),V.className=E(j,t.cssClasses.value),V.setAttribute("data-value",String(R)),V.style[t.style]=x+"%",V.innerHTML=String(a.to(R)))}}return Object.keys(n).forEach(function(x){y(x,n[x][0],n[x][1])}),d}function At(){U&&(Te(U),U=null)}function Rt(n){At();var o=nn(n),a=n.filter,c=n.format||{to:function(l){return String(Math.round(l))}};return U=f.appendChild(on(o,a,c)),U}function Zt(){var n=O.getBoundingClientRect(),o="offset"+["Width","Height"][t.ort];return t.ort===0?n.width||O[o]:n.height||O[o]}function J(n,o,a,c){var l=function(C){var u=an(C,c.pageOffset,c.target||o);if(!u||Xt()&&!c.doNotReject||yn(f,t.cssClasses.tap)&&!c.doNotReject||n===r.start&&u.buttons!==void 0&&u.buttons>1||c.hover&&u.buttons)return!1;p||u.preventDefault(),u.calcPoint=u.points[t.ort],a(u,c)},d=[];return n.split(" ").forEach(function(C){o.addEventListener(C,l,p?{passive:!0}:!1),d.push([C,l])}),d}function an(n,o,a){var c=n.type.indexOf("touch")===0,l=n.type.indexOf("mouse")===0,d=n.type.indexOf("pointer")===0,C=0,u=0;if(n.type.indexOf("MSPointer")===0&&(d=!0),n.type==="mousedown"&&!n.buttons&&!n.touches)return!1;if(c){var S=function(y){var x=y.target;return x===a||a.contains(x)||n.composed&&n.composedPath().shift()===a};if(n.type==="touchstart"){var b=Array.prototype.filter.call(n.touches,S);if(b.length>1)return!1;C=b[0].pageX,u=b[0].pageY}else{var E=Array.prototype.find.call(n.changedTouches,S);if(!E)return!1;C=E.pageX,u=E.pageY}}return o=o||He(tt),(l||d)&&(C=n.clientX+o.x,u=n.clientY+o.y),n.pageOffset=o,n.points=[C,u],n.cursor=l||d,n}function Qt(n){var o=n-wn(O,t.ort),a=o*100/Zt();return a=Fe(a),t.dir?100-a:a}function rn(n){var o=100,a=!1;return v.forEach(function(c,l){if(!yt(l)){var d=w[l],C=Math.abs(d-n),u=C===100&&o===100,S=C<o,b=C<=o&&n>d;(S||b||u)&&(a=l,o=C)}}),a}function sn(n,o){n.type==="mouseout"&&n.target.nodeName==="HTML"&&n.relatedTarget===null&&Dt(n,o)}function cn(n,o){if(navigator.appVersion.indexOf("MSIE 9")===-1&&n.buttons===0&&o.buttonsProperty!==0)return Dt(n,o);var a=(t.dir?-1:1)*(n.calcPoint-o.startCalcPoint),c=a*100/o.baseSize;ee(a>0,c,o.locations,o.handleNumbers,o.connect)}function Dt(n,o){o.handle&&(xt(o.handle,t.cssClasses.active),wt-=1),o.listeners.forEach(function(a){dt.removeEventListener(a[0],a[1])}),wt===0&&(xt(f,t.cssClasses.drag),Tt(),n.cursor&&(gt.style.cursor="",gt.removeEventListener("selectstart",Ue))),t.events.smoothSteps&&(o.handleNumbers.forEach(function(a){Z(a,w[a],!0,!0,!1,!1)}),o.handleNumbers.forEach(function(a){k("update",a)})),o.handleNumbers.forEach(function(a){k("change",a),k("set",a),k("end",a)})}function It(n,o){if(!o.handleNumbers.some(yt)){var a;if(o.handleNumbers.length===1){var c=v[o.handleNumbers[0]];a=c.children[0],wt+=1,F(a,t.cssClasses.active)}n.stopPropagation();var l=[],d=J(r.move,dt,cn,{target:n.target,handle:a,connect:o.connect,listeners:l,startCalcPoint:n.calcPoint,baseSize:Zt(),pageOffset:n.pageOffset,handleNumbers:o.handleNumbers,buttonsProperty:n.buttons,locations:w.slice()}),C=J(r.end,dt,Dt,{target:n.target,handle:a,listeners:l,doNotReject:!0,handleNumbers:o.handleNumbers}),u=J("mouseout",dt,sn,{target:n.target,handle:a,listeners:l,doNotReject:!0,handleNumbers:o.handleNumbers});l.push.apply(l,d.concat(C,u)),n.cursor&&(gt.style.cursor=getComputedStyle(n.target).cursor,v.length>1&&F(f,t.cssClasses.drag),gt.addEventListener("selectstart",Ue,!1)),o.handleNumbers.forEach(function(S){k("start",S)})}}function ln(n){n.stopPropagation();var o=Qt(n.calcPoint),a=rn(o);a!==!1&&(t.events.snap||je(f,t.cssClasses.tap,t.animationDuration),Z(a,o,!0,!0),Tt(),k("slide",a,!0),k("update",a,!0),t.events.snap?It(n,{handleNumbers:[a]}):(k("change",a,!0),k("set",a,!0)))}function dn(n){var o=Qt(n.calcPoint),a=M.getStep(o),c=M.fromStepping(a);Object.keys(q).forEach(function(l){l.split(".")[0]==="hover"&&q[l].forEach(function(d){d.call(ft,c)})})}function gn(n,o){if(Xt()||yt(o))return!1;var a=["Left","Right"],c=["Down","Up"],l=["PageDown","PageUp"],d=["Home","End"];t.dir&&!t.ort?a.reverse():t.ort&&!t.dir&&(c.reverse(),l.reverse());var C=n.key.replace("Arrow",""),u=C===l[0],S=C===l[1],b=C===c[0]||C===a[0]||u,E=C===c[1]||C===a[1]||S,y=C===d[0],x=C===d[1];if(!b&&!E&&!y&&!x)return!0;n.preventDefault();var R;if(E||b){var j=b?0:1,V=ae(o),T=V[j];if(T===null)return!1;T===!1&&(T=M.getDefaultStep(w[o],b,t.keyboardDefaultStep)),S||u?T*=t.keyboardPageMultiplier:T*=t.keyboardMultiplier,T=Math.max(T,1e-7),T=(b?-1:1)*T,R=W[o]+T}else x?R=t.spectrum.xVal[t.spectrum.xVal.length-1]:R=t.spectrum.xVal[0];return Z(o,M.toStepping(R),!0,!0),k("slide",o),k("update",o),k("change",o),k("set",o),!1}function te(n){n.fixed||v.forEach(function(o,a){J(r.start,o.children[0],It,{handleNumbers:[a]})}),n.tap&&J(r.start,O,ln,{}),n.hover&&J(r.move,O,dn,{hover:!0}),n.drag&&D.forEach(function(o,a){if(!(o===!1||a===0||a===D.length-1)){var c=v[a-1],l=v[a],d=[o],C=[c,l],u=[a-1,a];F(o,t.cssClasses.draggable),n.fixed&&(d.push(c.children[0]),d.push(l.children[0])),n.dragAll&&(C=v,u=L),d.forEach(function(S){J(r.start,S,It,{handles:C,handleNumbers:u,connect:o})})}})}function Vt(n,o){q[n]=q[n]||[],q[n].push(o),n.split(".")[0]==="update"&&v.forEach(function(a,c){k("update",c)})}function pn(n){return n===Y.aria||n===Y.tooltips}function rt(n){var o=n&&n.split(".")[0],a=o?n.substring(o.length):n;Object.keys(q).forEach(function(c){var l=c.split(".")[0],d=c.substring(l.length);(!o||o===l)&&(!a||a===d)&&(!pn(d)||a===d)&&delete q[c]})}function k(n,o,a){Object.keys(q).forEach(function(c){var l=c.split(".")[0];n===l&&q[c].forEach(function(d){d.call(ft,W.map(t.format.to),o,W.slice(),a||!1,w.slice(),ft)})})}function pt(n,o,a,c,l,d,C){var u;return v.length>1&&!t.events.unconstrained&&(c&&o>0&&(u=M.getAbsoluteDistance(n[o-1],t.margin,!1),a=Math.max(a,u)),l&&o<v.length-1&&(u=M.getAbsoluteDistance(n[o+1],t.margin,!0),a=Math.min(a,u))),v.length>1&&t.limit&&(c&&o>0&&(u=M.getAbsoluteDistance(n[o-1],t.limit,!1),a=Math.min(a,u)),l&&o<v.length-1&&(u=M.getAbsoluteDistance(n[o+1],t.limit,!0),a=Math.max(a,u))),t.padding&&(o===0&&(u=M.getAbsoluteDistance(0,t.padding[0],!1),a=Math.max(a,u)),o===v.length-1&&(u=M.getAbsoluteDistance(100,t.padding[1],!0),a=Math.min(a,u))),C||(a=M.getStep(a)),a=Fe(a),a===n[o]&&!d?!1:a}function zt(n,o){var a=t.ort;return(a?o:n)+", "+(a?n:o)}function ee(n,o,a,c,l){var d=a.slice(),C=c[0],u=t.events.smoothSteps,S=[!n,n],b=[n,!n];c=c.slice(),n&&c.reverse(),c.length>1?c.forEach(function(y,x){var R=pt(d,y,d[y]+o,S[x],b[x],!1,u);R===!1?o=0:(o=R-d[y],d[y]=R)}):S=b=[!0];var E=!1;c.forEach(function(y,x){E=Z(y,a[y]+o,S[x],b[x],!1,u)||E}),E&&(c.forEach(function(y){k("update",y),k("slide",y)}),l!=null&&k("drag",C))}function ne(n,o){return t.dir?100-n-o:n}function un(n,o){w[n]=o,W[n]=M.fromStepping(o);var a=ne(o,0)-Ke,c="translate("+zt(a+"%","0")+")";if(v[n].style[t.transformRule]=c,t.events.invertConnects&&w.length>1){var l=w.every(function(d,C,u){return C===0||d>=u[C-1]});if(at!==!l){vn();return}}st(n),st(n+1),at&&(st(n-1),st(n+2))}function Tt(){L.forEach(function(n){var o=w[n]>50?-1:1,a=3+(v.length+o*n);v[n].style.zIndex=String(a)})}function Z(n,o,a,c,l,d){return l||(o=pt(w,n,o,a,c,!1,d)),o===!1?!1:(un(n,o),!0)}function st(n){if(D[n]){var o=w.slice();at&&o.sort(function(u,S){return u-S});var a=0,c=100;n!==0&&(a=o[n-1]),n!==D.length-1&&(c=o[n]);var l=c-a,d="translate("+zt(ne(a,l)+"%","0")+")",C="scale("+zt(l/100,"1")+")";D[n].style[t.transformRule]=d+" "+C}}function ie(n,o){return n===null||n===!1||n===void 0||(typeof n=="number"&&(n=String(n)),n=t.format.from(n),n!==!1&&(n=M.toStepping(n)),n===!1||isNaN(n))?w[o]:n}function ut(n,o,a){var c=bt(n),l=w[0]===void 0;o=o===void 0?!0:o,t.animate&&!l&&je(f,t.cssClasses.tap,t.animationDuration),L.forEach(function(u){Z(u,ie(c[u],u),!0,!1,a)});var d=L.length===1?0:1;if(l&&M.hasNoSize()&&(a=!0,w[0]=0,L.length>1)){var C=100/(L.length-1);L.forEach(function(u){w[u]=u*C})}for(;d<L.length;++d)L.forEach(function(u){Z(u,w[u],!0,!0,a)});Tt(),L.forEach(function(u){k("update",u),c[u]!==null&&o&&k("set",u)})}function fn(n){ut(t.start,n)}function hn(n,o,a,c){if(n=Number(n),!(n>=0&&n<L.length))throw new Error("noUiSlider: invalid handle number, got: "+n);Z(n,ie(o,n),!0,!0,c),k("update",n),a&&k("set",n)}function oe(n){if(n===void 0&&(n=!1),n)return W.length===1?W[0]:W.slice(0);var o=W.map(t.format.to);return o.length===1?o[0]:o}function mn(){for(rt(Y.aria),rt(Y.tooltips),Object.keys(t.cssClasses).forEach(function(n){xt(f,t.cssClasses[n])});f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider}function ae(n){var o=w[n],a=M.getNearbySteps(o),c=W[n],l=a.thisStep.step,d=null;if(t.snap)return[c-a.stepBefore.startValue||null,a.stepAfter.startValue-c||null];l!==!1&&c+l>a.stepAfter.startValue&&(l=a.stepAfter.startValue-c),c>a.thisStep.startValue?d=a.thisStep.step:a.stepBefore.step===!1?d=!1:d=c-a.stepBefore.highestStep,o===100?l=null:o===0&&(d=null);var C=M.countStepDecimals();return l!==null&&l!==!1&&(l=Number(l.toFixed(C))),d!==null&&d!==!1&&(d=Number(d.toFixed(C))),[d,l]}function Cn(){return L.map(ae)}function _n(n,o){var a=oe(),c=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];c.forEach(function(d){n[d]!==void 0&&(i[d]=n[d])});var l=qe(i);c.forEach(function(d){n[d]!==void 0&&(t[d]=l[d])}),M=l.spectrum,t.margin=l.margin,t.limit=l.limit,t.padding=l.padding,t.pips?Rt(t.pips):At(),t.tooltips?Yt():kt(),w=[],ut(Wt(n.start)?n.start:a,o),n.connect&&re()}function re(){for(;P.firstChild;)P.removeChild(P.firstChild);for(var n=0;n<=t.handles;n++)D[n]=Et(P,t.connect[n]),st(n);te({drag:t.events.drag,fixed:!0})}function vn(){at=!at,$e(t,t.connect.map(function(n){return!n})),re()}function Pn(){O=Ye(f),Xe(t.connect,O),te(t.events),ut(t.start),t.pips&&Rt(t.pips),t.tooltips&&Yt(),tn()}Pn();var ft={destroy:mn,steps:Cn,on:Vt,off:rt,get:oe,set:ut,setHandle:hn,reset:fn,disable:Ze,enable:Qe,__moveHandles:function(n,o,a){ee(n,o,w,a)},options:i,updateOptions:_n,target:f,removePips:At,removeTooltips:kt,getPositions:function(){return w.slice()},getTooltips:function(){return X},getOrigins:function(){return v},pips:Rt};return ft}function ri(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=qe(t),r=ai(e,i,t);return e.noUiSlider=r,r}var Gt={__spectrum:Ne,cssClasses:Be,create:ri};var si=()=>[0,1,2];function ci(e,t){e&1&&(g(0,"mat-icon"),m(1,"check"),h())}function li(e,t){if(e&1&&(g(0,"span"),m(1),h()),e&2){let i=z().$implicit;_(),G(i+1)}}function di(e,t){if(e&1&&(g(0,"div",9)(1,"div",10),N(2,ci,2,0,"mat-icon",11)(3,li,2,1,"span",11),h(),g(4,"div",12),m(5),h()()),e&2){let i=t.$implicit,r=z();pe("active",r.isStepActive(i))("complete",r.isStepComplete(i)),_(2),A("ngIf",r.isStepComplete(i)),_(),A("ngIf",!r.isStepComplete(i)),_(2),G(r.getStepLabel(i))}}function gi(e,t){if(e&1&&(g(0,"div",21)(1,"div",22),I(2,"div",23),g(3,"span",24),m(4),h()(),g(5,"div",25),m(6),h()()),e&2){let i=t.$implicit;_(2),B("background-color",i.color),_(2),G(i.className),_(2),G(i.imageCount)}}function pi(e,t){if(e&1){let i=_t();g(0,"div",13)(1,"h3"),m(2,"Image selection"),h(),g(3,"div",14)(4,"mat-icon"),m(5,"info"),h(),g(6,"p"),m(7," By default, all "),g(8,"strong"),m(9,"approved"),h(),m(10," with "),g(11,"strong"),m(12,"no split assigned"),h(),m(13," images will be selected for auto splitting. "),h()(),g(14,"div",15)(15,"mat-checkbox",16),ot("change",function(){et(i);let s=z();return nt(s.onIncludeAssignedChange())}),$t("ngModelChange",function(s){et(i);let p=z();return Bt(p.includeAssigned,s)||(p.includeAssigned=s),nt(s)}),m(16," Include assigned train/dev/test media to reassigned "),h()(),g(17,"div",17)(18,"h4"),m(19,"Total number of images to split"),h(),g(20,"div",18),m(21),h()(),g(22,"div",17)(23,"h4"),m(24,"Classes"),h(),g(25,"div",19),N(26,gi,7,4,"div",20),h()()()}if(e&2){let i=z();_(15),Nt("ngModel",i.includeAssigned),_(6),G(i.totalImagesToSplit),_(5),A("ngForOf",i.classStats)}}function ui(e,t){if(e&1&&(g(0,"div",56)(1,"div",57),I(2,"span"),g(3,"span",58),m(4,"train / dev / test (%)"),h()(),g(5,"div",59)(6,"span",60),m(7,"Global"),h(),I(8,"div",61),g(9,"span",62),m(10),h()()()),e&2){let i=z(2);_(10),Ht("",i.trainRatio,"/",i.devRatio,"/",i.testRatio,"")}}function fi(e,t){if(e&1&&(g(0,"div",59)(1,"span",60),I(2,"span",64),m(3),h(),I(4,"div",65),g(5,"span",62),m(6),h()()),e&2){let i,r=t.$implicit,s=z(3);_(2),B("background-color",r.color),_(),vt(" ",r.className," "),_(),A("id","class-slider-"+r.classId),_(2),Ht(" ",(i=s.classRatios.get(r.classId))==null?null:i.train,"/",(i=s.classRatios.get(r.classId))==null?null:i.dev,"/",(i=s.classRatios.get(r.classId))==null?null:i.test," ")}}function hi(e,t){if(e&1&&(g(0,"div",56)(1,"div",57),I(2,"span"),g(3,"span",58),m(4,"train / dev / test (%)"),h()(),N(5,fi,7,7,"div",63),h()),e&2){let i=z(2);_(5),A("ngForOf",i.classStats)}}function mi(e,t){if(e&1&&(g(0,"div",51)(1,"span",52),m(2),h(),g(3,"div",53),I(4,"div",66)(5,"div",67)(6,"div",68),h()()),e&2){let i,r,s,p=t.$implicit,f=z(2);_(2),G(p.className),_(2),B("width",((i=f.classRatios.get(p.classId))==null?null:i.train)||f.trainRatio,"%"),_(),B("width",((r=f.classRatios.get(p.classId))==null?null:r.dev)||f.devRatio,"%"),_(),B("width",((s=f.classRatios.get(p.classId))==null?null:s.test)||f.testRatio,"%")}}function Ci(e,t){if(e&1&&(mt(0),I(1,"div",69),Ct()),e&2){let i=t.$implicit,r=z(2);_(),B("background-color",i.color)("width",r.getClassPercentInSplit(i.classId,"train"),"%")}}function _i(e,t){if(e&1&&(mt(0),I(1,"div",69),Ct()),e&2){let i=t.$implicit,r=z(2);_(),B("background-color",i.color)("width",r.getClassPercentInSplit(i.classId,"dev"),"%")}}function vi(e,t){if(e&1&&(mt(0),I(1,"div",69),Ct()),e&2){let i=t.$implicit,r=z(2);_(),B("background-color",i.color)("width",r.getClassPercentInSplit(i.classId,"test"),"%")}}function Pi(e,t){if(e&1&&(g(0,"div",38),I(1,"span",70),g(2,"span",40),m(3),h()()),e&2){let i=t.$implicit;_(),B("background-color",i.color),_(2),G(i.className)}}function Mi(e,t){if(e&1){let i=_t();g(0,"div",13)(1,"h3"),m(2,"Set your target defect split distribution"),h(),g(3,"div",15)(4,"mat-checkbox",16),ot("change",function(){et(i);let s=z();return nt(s.onAdjustAllTogetherChange())}),$t("ngModelChange",function(s){et(i);let p=z();return Bt(p.adjustAllTogether,s)||(p.adjustAllTogether=s),nt(s)}),m(5," Adjust value for all defect types together "),h()(),N(6,ui,11,3,"div",26)(7,hi,6,1,"div",26),g(8,"div",27)(9,"h4"),m(10,"Result Preview"),h(),g(11,"div",28)(12,"div",29)(13,"div",30)(14,"span",31),m(15,"number of images in each split"),h(),g(16,"mat-icon",32),m(17,"help_outline "),h()(),g(18,"div",33)(19,"div",34)(20,"div",35)(21,"span",18),m(22),h(),g(23,"span",36),m(24,"images"),h()()()(),g(25,"div",37)(26,"div",38),I(27,"span",39),g(28,"span",40),m(29,"train"),h(),g(30,"span",41),m(31),h()(),g(32,"div",38),I(33,"span",42),g(34,"span",40),m(35,"dev"),h(),g(36,"span",41),m(37),h()(),g(38,"div",38),I(39,"span",43),g(40,"span",40),m(41,"test"),h(),g(42,"span",41),m(43),h()()()(),g(44,"div",44)(45,"div",45)(46,"div",30)(47,"span",31),m(48,"defect / split distribution"),h(),g(49,"mat-icon",46),m(50,"help_outline "),h()(),g(51,"div",47),m(52," average deviation from target: "),g(53,"strong"),m(54),fe(55,"number"),h()(),g(56,"div",48),N(57,mi,7,7,"div",49),h(),g(58,"div",37)(59,"div",38),I(60,"span",43),g(61,"span",40),m(62,"train"),h()(),g(63,"div",38),I(64,"span",42),g(65,"span",40),m(66,"dev"),h()(),g(67,"div",38),I(68,"span",39),g(69,"span",40),m(70,"test"),h()()()(),g(71,"div",45)(72,"div",30)(73,"span",31),m(74,"split / defect distribution"),h(),g(75,"mat-icon",50),m(76,"help_outline "),h()(),g(77,"div",48)(78,"div",51)(79,"span",52),m(80,"train"),h(),g(81,"div",53),N(82,Ci,2,4,"ng-container",54),h()(),g(83,"div",51)(84,"span",52),m(85,"dev"),h(),g(86,"div",53),N(87,_i,2,4,"ng-container",54),h()(),g(88,"div",51)(89,"span",52),m(90,"test"),h(),g(91,"div",53),N(92,vi,2,4,"ng-container",54),h()()(),g(93,"div",37),N(94,Pi,4,3,"div",55),h()()()()()()}if(e&2){let i=z();_(4),Nt("ngModel",i.adjustAllTogether),_(2),A("ngIf",i.adjustAllTogether),_(),A("ngIf",!i.adjustAllTogether),_(12),B("background","conic-gradient(#c8e6c9 0% "+i.trainRatio+"%, #81c784 "+i.trainRatio+"% "+(i.trainRatio+i.devRatio)+"%, #4caf50 "+(i.trainRatio+i.devRatio)+"% 100%)"),_(3),G(i.totalImagesToSplit),_(9),Pt("",i.previewTrainCount," (",i.trainRatio,"%)"),_(6),Pt("",i.previewDevCount," (",i.devRatio,"%)"),_(6),Pt("",i.previewTestCount," (",i.testRatio,"%)"),_(11),vt("",he(55,18,i.averageDeviation,"1.2-2"),"%"),_(3),A("ngForOf",i.classStats),_(25),A("ngForOf",i.classStats),_(5),A("ngForOf",i.classStats),_(5),A("ngForOf",i.classStats),_(2),A("ngForOf",i.classStats)}}function Oi(e,t){e&1&&(g(0,"div",71),I(1,"mat-spinner",72),h())}function xi(e,t){if(e&1){let i=_t();g(0,"button",7),ot("click",function(){et(i);let s=z();return nt(s.onBack())}),m(1," Back "),h()}if(e&2){let i=z();A("disabled",i.loading)}}var $i=(()=>{class e{constructor(i,r,s,p,f){this.dialogRef=i,this.data=r,this.snackBar=s,this.autoSplitService=p,this.cdr=f,this.currentStep=0,this.includeAssigned=!1,this.totalImagesToSplit=0,this.classStats=[],this.adjustAllTogether=!0,this.trainRatio=70,this.devRatio=20,this.testRatio=10,this.classRatios=new Map,this.classSliders=new Map,this.loading=!1,this.previewTrainCount=0,this.previewDevCount=0,this.previewTestCount=0,this.averageDeviation=0,this.isInitializing=!1}ngOnInit(){this.loadImageStats()}ngAfterViewInit(){}ngOnDestroy(){this.globalSlider&&this.globalSlider.destroy(),this.classSliders.forEach(i=>i.destroy())}loadImageStats(){this.loading=!0,this.autoSplitService.getAutoSplitStats(this.data.projectId,this.includeAssigned).subscribe({next:i=>{this.classStats=i.classStats,this.totalImagesToSplit=i.totalImagesToSplit,this.classStats.forEach(r=>{this.classRatios.set(r.classId,{train:this.trainRatio,dev:this.devRatio,test:this.testRatio})}),this.loading=!1},error:i=>{console.error("Error loading auto-split stats:",i),this.snackBar.open("Failed to load statistics","Close",{duration:3e3}),this.loading=!1}})}onIncludeAssignedChange(){this.loadImageStats()}onNext(){if(this.currentStep===0){if(this.totalImagesToSplit===0){this.snackBar.open("No images available for splitting","Close",{duration:3e3});return}this.currentStep=1,setTimeout(()=>this.initializeSliders(),300)}else this.currentStep===1&&this.assignSplit()}onBack(){this.currentStep>0&&this.currentStep--}onAdjustAllTogetherChange(){this.adjustAllTogether&&this.classStats.forEach(i=>{this.classRatios.set(i.classId,{train:this.trainRatio,dev:this.devRatio,test:this.testRatio})}),setTimeout(()=>this.initializeSliders(),300)}initializeSliders(){this.adjustAllTogether?this.initializeGlobalSlider():this.initializeClassSliders(),this.updateCharts()}initializeGlobalSlider(){let i=document.getElementById("global-slider");if(console.log("Initializing global slider, element:",i),console.log("Initial values:",this.trainRatio,this.devRatio,this.testRatio),!i){console.error("Global slider element not found!");return}if(this.globalSlider&&this.globalSlider.destroy(),this.isInitializing=!0,Gt.create(i,{start:[this.trainRatio,this.trainRatio+this.devRatio],connect:[!0,!0,!0],range:{min:0,max:100},step:1,tooltips:!1,format:{to:r=>Math.round(r),from:r=>Number(r)}}),console.log("Slider created with values:",[this.trainRatio,this.trainRatio+this.devRatio]),this.globalSlider=i.noUiSlider,this.globalSlider){let r=i.querySelectorAll(".noUi-handle");console.log("Number of handles found:",r.length),console.log("Slider get values:",this.globalSlider.get())}this.globalSlider&&this.globalSlider.on("update",r=>{if(this.isInitializing){this.isInitializing=!1;return}let s=Number(r[0]),p=Number(r[1]);this.trainRatio=Math.round(s),this.devRatio=Math.round(p-s),this.testRatio=Math.round(100-p),console.log("Slider updated:",this.trainRatio,this.devRatio,this.testRatio),this.classStats.forEach(f=>{this.classRatios.set(f.classId,{train:this.trainRatio,dev:this.devRatio,test:this.testRatio})}),this.updateCharts(),this.cdr.detectChanges()})}initializeClassSliders(){this.classSliders.forEach(i=>i.destroy()),this.classSliders.clear(),this.classStats.forEach(i=>{let r=document.getElementById(`class-slider-${i.classId}`);if(!r)return;let s=this.classRatios.get(i.classId);Gt.create(r,{start:[s.train,s.train+s.dev],connect:[!0,!0,!0],range:{min:0,max:100},step:1,tooltips:!1,format:{to:f=>Math.round(f),from:f=>Number(f)}});let p=r.noUiSlider;this.classSliders.set(i.classId,p),p.on("update",f=>{let O=Number(f[0]),P=Number(f[1]);this.classRatios.set(i.classId,{train:Math.round(O),dev:Math.round(P-O),test:Math.round(100-P)}),this.updateCharts(),this.cdr.detectChanges()})})}assignSplit(){this.loading=!0;let i={};this.classRatios.forEach((s,p)=>{i[p]=s});let r={projectId:this.data.projectId,includeAssigned:this.includeAssigned,adjustAllTogether:this.adjustAllTogether,trainRatio:this.trainRatio,devRatio:this.devRatio,testRatio:this.testRatio,classRatios:i};this.autoSplitService.assignSplits(r).subscribe({next:s=>{this.loading=!1,this.snackBar.open(`Successfully updated ${s} image(s) with new split assignments`,"Close",{duration:5e3,panelClass:["success-snackbar"]}),this.dialogRef.close(!0)},error:s=>{console.error("Error assigning splits:",s),this.loading=!1,this.snackBar.open("Failed to assign splits. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onClose(){this.dialogRef.close()}getStepLabel(i){switch(i){case 0:return"Select images";case 1:return"Set split distribution";case 2:return"Done";default:return""}}isStepComplete(i){return this.currentStep>i}isStepActive(i){return this.currentStep===i}updateCharts(){let i=this.totalImagesToSplit;this.previewTrainCount=Math.round(i*this.trainRatio/100);let r=i-this.previewTrainCount;this.previewDevCount=Math.round(r*this.devRatio/(this.devRatio+this.testRatio)),this.previewTestCount=i-this.previewTrainCount-this.previewDevCount;let s=0;this.classStats.forEach(p=>{let f=this.classRatios.get(p.classId);f&&(s+=Math.abs(f.train-this.trainRatio),s+=Math.abs(f.dev-this.devRatio),s+=Math.abs(f.test-this.testRatio))}),this.averageDeviation=this.classStats.length>0?s/(this.classStats.length*3):0,this.cdr.detectChanges()}getClassPercentInSplit(i,r){let s=this.classStats.find(D=>D.classId===i);if(!s)return 0;let p=this.classRatios.get(i),f=s.imageCount,O=0,P=0;switch(r){case"train":O=p?.train||this.trainRatio,P=this.previewTrainCount;break;case"dev":O=p?.dev||this.devRatio,P=this.previewDevCount;break;case"test":O=p?.test||this.testRatio,P=this.previewTestCount;break}let v=Math.round(f*O/100);return P>0?v/P*100:0}static{this.\u0275fac=function(r){return new(r||e)(it(Se),it(be),it(xe),it(ze),it(me))}}static{this.\u0275cmp=ge({type:e,selectors:[["app-auto-split-dialog"]],standalone:!1,decls:13,vars:9,consts:[[1,"auto-split-dialog"],[1,"stepper-header"],["class","step",3,"active","complete",4,"ngFor","ngForOf"],["class","step-content",4,"ngIf"],["class","loading-overlay",4,"ngIf"],["align","end"],["mat-button","",3,"disabled","click",4,"ngIf"],["mat-button","",3,"click","disabled"],["color","primary","mat-raised-button","",3,"click","disabled"],[1,"step"],[1,"step-number"],[4,"ngIf"],[1,"step-label"],[1,"step-content"],[1,"info-box"],[1,"checkbox-field"],[3,"change","ngModelChange","ngModel"],[1,"stats-section"],[1,"total-count"],[1,"class-stats"],["class","class-stat-item",4,"ngFor","ngForOf"],[1,"class-stat-item"],[1,"class-info"],[1,"class-color"],[1,"class-name"],[1,"class-count"],["class","ratio-section",4,"ngIf"],[1,"preview-section"],[1,"charts-container"],[1,"chart-card","donut-chart-card"],[1,"chart-header"],[1,"chart-title"],["matTooltip","Shows the distribution of images across train, dev, and test splits",1,"help-icon"],[1,"donut-chart-container"],[1,"donut-chart"],[1,"donut-hole"],[1,"total-label"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-color",2,"background-color","#c8e6c9"],[1,"legend-label"],[1,"legend-value"],[1,"legend-color",2,"background-color","#81c784"],[1,"legend-color",2,"background-color","#4caf50"],[1,"right-charts"],[1,"chart-card","bar-chart-card"],["matTooltip","Shows how each defect class is distributed across splits",1,"help-icon"],[1,"chart-subtitle"],[1,"bar-chart-container"],["class","bar-row",4,"ngFor","ngForOf"],["matTooltip","Shows the composition of each split by defect class",1,"help-icon"],[1,"bar-row"],[1,"bar-label"],[1,"stacked-bar"],[4,"ngFor","ngForOf"],["class","legend-item",4,"ngFor","ngForOf"],[1,"ratio-section"],[1,"ratio-header-row"],[1,"header-label"],[1,"slider-row"],[1,"slider-label"],["id","global-slider",1,"nouislider"],[1,"ratio-display"],["class","slider-row",4,"ngFor","ngForOf"],[1,"class-color-dot"],[1,"nouislider",3,"id"],[1,"bar-segment","train"],[1,"bar-segment","dev"],[1,"bar-segment","test"],[1,"bar-segment"],[1,"legend-color"],[1,"loading-overlay"],["diameter","40"]],template:function(r,s){r&1&&(g(0,"div",0)(1,"div",1),N(2,di,6,7,"div",2),h(),g(3,"mat-dialog-content"),N(4,pi,27,3,"div",3)(5,Mi,95,21,"div",3)(6,Oi,2,0,"div",4),h(),g(7,"mat-dialog-actions",5),N(8,xi,2,1,"button",6),g(9,"button",7),ot("click",function(){return s.onClose()}),m(10,"Cancel"),h(),g(11,"button",8),ot("click",function(){return s.onNext()}),m(12),h()()()),r&2&&(_(2),A("ngForOf",ue(8,si)),_(2),A("ngIf",s.currentStep===0),_(),A("ngIf",s.currentStep===1),_(),A("ngIf",s.loading),_(2),A("ngIf",s.currentStep>0),_(),A("disabled",s.loading),_(2),A("disabled",s.loading),_(),vt(" ",s.currentStep===1?"Assign split":"Next"," "))},dependencies:[Ce,_e,Re,De,Oe,Ae,ye,ke,Ee,we,Ie,ve],styles:['.auto-split-dialog[_ngcontent-%COMP%]{width:900px;max-width:90vw;display:flex;flex-direction:column;overflow:hidden}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:24px;border-bottom:1px solid #e0e0e0;background-color:#fafafa}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;position:relative}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;top:20px;left:60%;right:-40%;height:2px;background-color:#e0e0e0;z-index:0}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step.complete[_ngcontent-%COMP%]:not(:last-child):after{background-color:#4caf50}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#e0e0e0;color:#666;display:flex;align-items:center;justify-content:center;font-weight:500;margin-bottom:8px;z-index:1;position:relative}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step.complete[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-size:14px;color:#666;text-align:center}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#2196f3;font-weight:500}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;max-height:70vh;position:relative}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:500}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:16px 0 12px;font-size:16px;font-weight:500;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background-color:#e3f2fd;border-left:4px solid #2196f3;border-radius:4px;margin-bottom:20px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2196f3;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1565c0;line-height:1.5}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .checkbox-field[_ngcontent-%COMP%]{margin:16px 0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin:24px 0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#2196f3;margin-top:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:12px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]   .class-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background-color:#f5f5f5;border-radius:4px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]   .class-stat-item[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]   .class-stat-item[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]   .class-color[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:4px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]   .class-stat-item[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]   .class-name[_ngcontent-%COMP%]{font-weight:500}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .class-stats[_ngcontent-%COMP%]   .class-stat-item[_ngcontent-%COMP%]   .class-count[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#666}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]{margin:16px 0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .ratio-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;padding-right:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .ratio-header-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{width:100px;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .ratio-header-row[_ngcontent-%COMP%]   .header-label[_ngcontent-%COMP%]{margin-left:auto;font-size:12px;color:#666;font-style:italic}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 0;border-bottom:1px solid #f0f0f0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{width:100px;flex-shrink:0;font-size:14px;font-weight:500;color:#333;display:flex;align-items:center;gap:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]   .class-color-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]   .nouislider[_ngcontent-%COMP%]{flex:1;height:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .ratio-section[_ngcontent-%COMP%]   .slider-row[_ngcontent-%COMP%]   .ratio-display[_ngcontent-%COMP%]{width:80px;flex-shrink:0;text-align:right;font-size:14px;font-weight:500;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{margin-top:32px;padding:24px;background-color:#f5f5f5;border-radius:4px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]{display:flex;gap:24px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;box-shadow:0 1px 3px #0000001a}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#999;cursor:help}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:12px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]{flex:0 0 280px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;margin:0 auto}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;position:relative}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-hole[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;border-radius:50%;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-hole[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-hole[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:12px;color:#666}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-center-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-center-text[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:600;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .donut-chart-container[_ngcontent-%COMP%]   .donut-center-text[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{margin-top:16px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend.horizontal[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend.horizontal[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{padding:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:12px;color:#333}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .donut-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-size:13px;color:#666}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .right-charts[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:16px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{width:60px;font-size:13px;color:#333;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]{flex:1;height:20px;display:flex;border-radius:4px;overflow:hidden;background:#f0f0f0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .bar-segment[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .bar-segment.train[_ngcontent-%COMP%]{background-color:#4caf50}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .bar-segment.dev[_ngcontent-%COMP%]{background-color:#81c784}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .bar-row[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .bar-segment.test[_ngcontent-%COMP%]{background-color:#c8e6c9}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px;padding-top:8px;border-top:1px solid #f0f0f0;justify-content:flex-end}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:2px;flex-shrink:0}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .charts-container[_ngcontent-%COMP%]   .bar-chart-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:11px;color:#666;white-space:nowrap}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;z-index:10}.auto-split-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0}@media (max-width: 768px){.auto-split-dialog[_ngcontent-%COMP%]{width:100%;max-width:100vw}.auto-split-dialog[_ngcontent-%COMP%]   .stepper-header[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-size:12px}}  .nouislider .noUi-handle{border:3px solid #2196f3!important;border-radius:50%!important;background:#fff!important;box-shadow:0 2px 6px #0000004d!important;width:24px!important;height:24px!important;top:-8px!important;cursor:pointer!important;outline:none!important;z-index:10!important;display:block!important;visibility:visible!important;opacity:1!important}  .nouislider .noUi-handle:first-of-type{border-color:#4caf50!important;background:#e8f5e9!important;z-index:11!important}  .nouislider .noUi-handle:last-of-type{border-color:#2196f3!important;background:#e3f2fd!important;z-index:12!important}  .nouislider .noUi-handle:before,   .nouislider .noUi-handle:after{display:none!important}  .nouislider .noUi-handle:hover{cursor:grab!important;box-shadow:0 3px 8px #0006!important;transform:scale(1.1)}  .nouislider .noUi-handle:active{cursor:grabbing!important;box-shadow:0 2px 4px #00000080!important}  .nouislider .noUi-horizontal{height:8px}  .nouislider .noUi-horizontal .noUi-handle{width:24px;height:24px;top:-8px}']})}}return e})();var Yi=(()=>{class e{constructor(i){this.http=i,this.apiUrl=`${Pe.server}api/landingai/training`}startTraining(i){return this.http.post(`${this.apiUrl}/start`,i)}getTrainingStatus(i){return this.http.get(`${this.apiUrl}/${i}/status`)}getSnapshots(i){let r=new Mt().set("projectId",i.toString());return this.http.get(`${this.apiUrl}/snapshots`,{params:r}).pipe(de(s=>s.map(p=>({id:p.id,name:p.name,createdAt:p.createdAt,imageCount:p.imageCount}))))}static{this.\u0275fac=function(r){return new(r||e)(ct(Ot))}}static{this.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{$i as a,Yi as b};
