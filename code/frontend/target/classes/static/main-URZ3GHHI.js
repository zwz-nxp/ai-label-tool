import{a as li}from"./chunk-DNOPPQAV.js";import{b as jl}from"./chunk-AEZOZC6Z.js";import{b as Ga,c as Ya,d as Qa}from"./chunk-PRQOG5TK.js";import{b as Fe}from"./chunk-VB7LVLZV.js";import{a as Fl,b as Ul,c as Bl,d as zl}from"./chunk-NRMGPXUI.js";import{$b as Jr,A as pl,Ac as Xl,B as fl,Bc as Jl,Cc as si,D as yl,Dc as em,E as _l,Ec as tm,Fc as rm,G as bl,Ga as Sl,Gc as im,H as vl,Hc as nm,I as Qr,Ic as om,Jc as sm,Kc as ze,Lc as so,Mc as am,Nc as lm,Oc as ao,Pb as Dl,Pc as ai,Qb as Ge,Qc as mm,Rc as cm,S as xl,Sc as dm,T as wl,Tc as um,U as El,Ub as Nl,Uc as pm,Vb as Zr,Vc as fm,Wc as hm,Xb as nr,Xc as gm,Yb as Xr,Zb as no,ac as P,b as Lr,bc as Ie,cd as ym,d as ba,e as V,ec as Wl,f as vt,fc as oo,g as Br,h as Ca,i as We,ic as lt,j as to,jc as ti,kc as or,l as Vr,lb as Tl,lc as Kl,m as qr,mb as Ml,mc as Gl,n as Ha,nb as Cl,nc as re,o as St,oc as Q,p as Mt,pc as Dt,pd as _m,q as Wa,qc as ri,r as Yr,rc as sr,s as ro,sc as ar,sd as bm,t as It,tc as Yl,uc as ii,v as ll,vb as Il,vc as lr,w as ml,wc as ni,x as cl,xc as oi,y as dl,yc as Ql,z as ul,zc as Zl}from"./chunk-BAOJ77MB.js";import{$ as Ws,$a as me,$b as da,A as Re,Aa as O,Ae as Ja,B as Ir,Bb as _t,Cb as oa,Cc as Ma,D as Fs,Da as de,Db as sa,Dd as Ua,Df as Rl,E as Us,Ea as _e,Eb as aa,Ee as Kr,F as Bs,Fa as Js,Fb as ue,Fc as at,Ff as kl,Ha as ea,Hb as la,Hf as Ll,I as zs,Ia as z,If as ei,J as js,Jb as Or,Jf as Hl,K as Hs,Ka as x,Kf as Vl,L as Vs,Lb as Pr,Le as Gr,Lf as ql,Ma as ta,Mf as $l,N as Qn,O as Dr,Ob as bt,Oe as el,Pb as Le,Pd as Ke,Pe as tl,Q as qs,Qd as Ba,Qe as rl,R as $s,Rc as Ia,Rd as wt,S as B,Sc as Da,Se as il,Td as jr,Te as nl,U as $,Ue as ol,V as ye,Va as u,Vd as za,Ve as sl,W as Jt,Wa as p,Wc as Aa,Wd as Hr,X as j,Xa as ee,Xd as Et,Y as ce,Ya as gt,Yd as ja,Za as yt,Zb as ma,Zc as Na,Zd as Va,Ze as al,_b as ca,_c as Oa,_d as qa,a as Cs,ac as ua,ae as Tt,b as Kn,bb as W,bc as pa,be as $a,bf as io,ca as X,cb as A,cc as fa,ce as Ct,cf as hl,d as Is,da as J,dc as ha,de as Ka,df as gl,e as Ds,ec as ga,f as As,fc as Rr,ga as Ar,gb as rr,gc as ya,gd as Pa,ge as Za,h as Ns,hc as Zn,ib as ra,j as Os,ja as ve,jb as ia,jc as ir,ka as ke,kb as na,kc as $e,l as Gn,la as Ks,lb as te,lc as kr,le as $r,m as Ps,ma as Gs,mb as y,mc as _a,nb as oe,nc as Fr,o as Yn,ob as K,oc as va,od as zr,p as Rs,pa as Ys,pb as Nr,pe as Wr,q as it,qa as er,r as ks,rc as Xn,rd as eo,rf as Al,sa as Qs,sc as Ur,ta as tr,tb as nt,tc as xa,td as xe,ub as ot,uc as wa,ud as Ra,vb as st,vc as Ea,vd as ka,w as Ls,wa as g,wc as Jn,wd as La,wf as Ol,xc as Sa,xd as Fa,ya as Zs,yb as Be,yc as Ta,yf as Pl,z as Xt,za as Xs,zc as xt,ze as Xa}from"./chunk-NJA2VFCC.js";import{a as Ce,b as Qt,d as Ms,g as Zt}from"./chunk-TSRGIXR5.js";function Dp(r,t){r&1&&ee(0,"app-spinner")}function Ap(r,t){if(r&1&&(u(0,"table")(1,"thead")(2,"th",16)(3,"b"),y(4),p()()(),u(5,"tr")(6,"td",17),y(7,"Version Name:"),p(),u(8,"td"),y(9),p()(),u(10,"tr")(11,"td",17),y(12,"Version Number:"),p(),u(13,"td"),y(14),p()(),u(15,"tr")(16,"td",17),y(17,"Build Date:"),p(),u(18,"td"),y(19),_t(20,"slice"),p()(),u(21,"tr")(22,"td",17),y(23,"Node:"),p(),u(24,"td"),y(25),p()()()),r&2){let e=t.$implicit,i=t.index,n=A(2);g(4),oe(n.tableTitles[i]),g(5),oe(e.name),g(5),oe(e.commitHashShort),g(5),K(" ",aa(20,5,e.buildDate,0,10)," "),g(6),oe(e.node)}}function Np(r,t){if(r&1&&(u(0,"div",14),z(1,Ap,26,9,"table",15),p()),r&2){let e=A();g(),x("ngForOf",e.versionInfo)}}function Op(r,t){if(r&1){let e=me();gt(0),u(1,"button",18),W("click",function(){X(e);let n=A();return J(n.copyMessage())}),y(2," Copy Details "),p(),u(3,"button",19),W("click",function(){X(e);let n=A();return J(n.switchToFirstTab())}),y(4,"Back"),p(),yt()}}function Pp(r,t){if(r&1){let e=me();gt(0),u(1,"button",19),W("click",function(){X(e);let n=A();return J(n.close())}),y(2,"Close"),p(),yt()}}var Sm=(()=>{class r extends to{constructor(){super(...arguments),this.versionInfo=[],this.mostRecentApplicationVersion="",this.currentDate=new Date,this.loading=!0,this.databaseName="",this.databaseUrl="",this.tableTitles=["Services","Capacity Statement","Interface","IE-MDM API-Server"]}ngOnInit(){this.getIEMDMVersionInfo()}ngOnDestroy(){this.versionInfoSubscription!=null&&this.versionInfoSubscription.unsubscribe()}copyMessage(){navigator.clipboard.writeText(this.generateDebugMessage())}getIEMDMVersionInfo(){this.versionInfoSubscription=this.dataService.getIEMDMVersionInfo().subscribe(e=>{this.versionInfo=e,this.loading=!1,this.databaseName=this.versionInfo[0].databaseName,this.databaseUrl=this.versionInfo[0].databaseUrl,this.mostRecentApplicationVersion=this.versionInfo[0].version})}generateDebugMessage(){let e=window.location.href,i="PROD";e.indexOf("localhost")>-1?i="LH":e.indexOf(".dev1")>-1?i="DEV1":e.indexOf(".dev2")>-1?i="DEV2":e.indexOf(".dev")>-1?i="DEV":e.indexOf(".qa1")>-1?i="QA1":e.indexOf(".qa")>-1&&(i="QA");let n=`Environment: ${i}
Database: ${this.databaseName} (${this.databaseUrl})

`;return this.versionInfo.forEach(o=>{let s="name: "+o.name+`
`,a="build date: "+o.buildDate+`
`,m="commit: "+o.commitHashShort+`
`,l="version: "+o.version+`
`,h="node: "+o.node+`

`;n=n.concat(s,a,m,l,h)}),n.toString()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ar(r)))(n||r)}})()}static{this.\u0275cmp=de({type:r,selectors:[["app-about"]],standalone:!1,features:[ea],decls:27,vars:8,consts:[["content",""],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],["cdkDragHandle","","color","primary",1,"justify-between"],["mat-icon-button","",1,"ml-2",3,"click"],[1,"w-[600px]"],[3,"selectedIndexChange","selectedIndex"],["label","Version"],[1,"px-5","pb-6","pt-5"],["height","512","ngSrc","assets/ApplicationLogoMonocolor.png","width","512",1,"mx-auto","mb-2","size-44"],[1,"text-center"],["label","Details"],[4,"ngIf","ngIfElse"],["align","end"],[4,"ngIf"],[1,"grid","grid-cols-2","gap-2","p-4"],[4,"ngFor","ngForOf"],["colspan","100%"],[1,"w-px","whitespace-nowrap","pr-2"],["mat-stroked-button","","matTooltip","Copy the system information to your clipboard.",3,"click"],["mat-stroked-button","",3,"click"]],template:function(i,n){if(i&1){let o=me();u(0,"div",1)(1,"mat-toolbar",2)(2,"h2"),y(3,"About"),p(),u(4,"button",3),W("click",function(){return X(o),J(n.close())}),u(5,"mat-icon"),y(6,"close"),p()()(),u(7,"div",4)(8,"mat-tab-group",5),st("selectedIndexChange",function(a){return X(o),ot(n.tabIndex,a)||(n.tabIndex=a),J(a)}),u(9,"mat-tab",6)(10,"div",7),ee(11,"img",8),u(12,"div",9)(13,"p")(14,"b"),y(15,"Industrial Engineering Master Data Management"),p()(),u(16,"p"),y(17),p(),u(18,"p"),y(19),p()()()(),u(20,"mat-tab",10),z(21,Dp,1,0,"app-spinner",11)(22,Np,2,1,"ng-template",null,0,ue),p()()(),u(24,"mat-dialog-actions",12),z(25,Op,5,0,"ng-container",13)(26,Pp,3,0,"ng-container",13),p()()}if(i&2){let o=te(23);g(8),nt("selectedIndex",n.tabIndex),g(9),Nr(" Version: ",n.mostRecentApplicationVersion," \xA9 2018 - ",n.currentDate.getFullYear()," NXP "),g(2),K("Database: ",n.databaseName,""),g(2),x("ngIf",n.loading)("ngIfElse",o),g(4),x("ngIf",n.tabIndex>0),g(),x("ngIf",n.tabIndex<1)}},dependencies:[bt,Le,qr,Vr,St,fa,Tt,xe,zr,Mt,Ct,Et,Ga,Ya,da],encapsulation:2})}}return r})();function Lp(r,t){if(r&1&&(u(0,"p",8),y(1),p()),r&2){let e=A();g(),K(" ",e.errorMessage," ")}}function Fp(r,t){r&1&&ee(0,"mat-spinner",9)}var Mm=(()=>{class r{constructor(e,i,n){this.dialogRef=e,this.http=i,this.wbi="",this.loading=!1,this.errorMessage="",this.apiUrl=n.ServerWithApiUrl+"users/switch"}onWbiChange(){this.errorMessage=""}confirm(){let e=this.wbi.trim();if(!e)return;this.loading=!0,this.errorMessage="";let i=new ya().set("wbi",e);this.http.post(this.apiUrl,null,{params:i,responseType:"text"}).subscribe({next:()=>{this.loading=!1,this.dialogRef.close(!0)},error:n=>{this.loading=!1,this.errorMessage=n.status===404?`User '${e}' not found in user management`:"An error occurred. Please try again."}})}cancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(i){return new(i||r)(O(wt),O($e),O(V))}}static{this.\u0275cmp=de({type:r,selectors:[["app-switch-user-dialog"]],standalone:!1,decls:14,vars:5,consts:[["mat-dialog-title",""],["appearance","fill",1,"w-full"],["autocomplete","off","matInput","","placeholder","e.g. nxf12345",3,"keyup.enter","ngModelChange","ngModel"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["align","end"],["mat-button","",3,"click","disabled"],["color","primary","mat-raised-button","",3,"click","disabled"],["class","mr-1 inline-block","diameter","18",4,"ngIf"],[1,"mt-1","text-sm","text-red-600"],["diameter","18",1,"mr-1","inline-block"]],template:function(i,n){i&1&&(u(0,"h2",0),y(1,"Switch User"),p(),u(2,"mat-dialog-content")(3,"mat-form-field",1)(4,"mat-label"),y(5,"User ID (WBI)"),p(),u(6,"input",2),W("keyup.enter",function(){return n.confirm()})("ngModelChange",function(){return n.onWbiChange()}),st("ngModelChange",function(s){return ot(n.wbi,s)||(n.wbi=s),s}),p()(),z(7,Lp,2,1,"p",3),p(),u(8,"mat-dialog-actions",4)(9,"button",5),W("click",function(){return n.cancel()}),y(10,"Cancel"),p(),u(11,"button",6),W("click",function(){return n.confirm()}),z(12,Fp,1,0,"mat-spinner",7),y(13," Switch "),p()()),i&2&&(g(6),nt("ngModel",n.wbi),g(),x("ngIf",n.errorMessage),g(2),x("disabled",n.loading),g(2),x("disabled",!n.wbi.trim()||n.loading),g(),x("ngIf",n.loading))},dependencies:[Le,Za,$r,Wr,xe,tl,Gr,Kr,za,Et,Hr,Va],encapsulation:2})}}return r})();var mo=class{constructor(t,e){this.source=t,t.initialize&&t.initialize(e)}subscribe(t){this.sub=this.source.onInterrupt.subscribe(t)}unsubscribe(){this.sub.unsubscribe(),this.sub=null}resume(){this.source.attach()}pause(){this.source.detach()}},cr=class{constructor(){this.idValue=new Date,this.idlingValue=!1}id(t){if(t!==void 0){if(!t)throw new Error("A value must be specified for the ID.");this.idValue=t}return this.idValue}idling(t){return t!==void 0&&(this.idlingValue=t),this.idlingValue}now(){return new Date}isExpired(){let t=this.last();return t!=null&&t<=this.now()}},co=class{constructor(){this.storageMap={}}get length(){return Object.keys(this.storageMap).length}clear(){this.storageMap={}}getItem(t){return typeof this.storageMap[t]<"u"?this.storageMap[t]:null}key(t){return Object.keys(this.storageMap)[t]||null}removeItem(t){this.storageMap[t]=void 0}setItem(t,e){this.storageMap[t]=e}},Im=(()=>{class r{constructor(){this.storage=this.getStorage()}getStorage(){try{let e=localStorage;return e.setItem("ng2IdleStorage",""),e.removeItem("ng2IdleStorage"),e}catch{return new co}}getItem(e){return this.storage.getItem("ng2Idle."+e)}removeItem(e){this.storage.removeItem("ng2Idle."+e)}setItem(e,i){this.storage.setItem("ng2Idle."+e,i)}_wrapped(){return this.storage}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})(),uo=(()=>{class r extends cr{constructor(e){super(),this.localStorage=e,this.idleName="main"}last(e){return e!==void 0&&this.setExpiry(e),this.getExpiry()}idling(e){return e!==void 0&&this.setIdling(e),this.getIdling()}getIdleName(){return this.idleName}setIdleName(e){e&&(this.idleName=e)}getExpiry(){let e=this.localStorage.getItem(this.idleName+".expiry");return e?new Date(parseInt(e,10)):null}setExpiry(e){e?this.localStorage.setItem(this.idleName+".expiry",e.getTime().toString()):this.localStorage.removeItem(this.idleName+".expiry")}getIdling(){let e=this.localStorage.getItem(this.idleName+".idling");return e?e==="true":!1}setIdling(e){e?this.localStorage.setItem(this.idleName+".idling",e.toString()):this.localStorage.setItem(this.idleName+".idling","false")}static{this.\u0275fac=function(i){return new(i||r)(j(Im))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})(),At=class{},di=function(r){return r[r.disabled=0]="disabled",r[r.idle=1]="idle",r[r.notIdle=2]="notIdle",r}(di||{}),dr=(()=>{class r{constructor(e,i,n,o){this.expiry=e,this.zone=i,this.platformId=o,this.idle=20*60,this.timeoutVal=30,this.autoResume=di.idle,this.interrupts=new Array,this.running=!1,this.keepaliveEnabled=!1,this.onIdleStart=new ve,this.onIdleEnd=new ve,this.onTimeoutWarning=new ve,this.onTimeout=new ve,this.onInterrupt=new ve,n&&(this.keepaliveSvc=n,this.keepaliveEnabled=!0),this.setIdling(!1)}setIdleName(e){if(this.expiry instanceof uo)this.expiry.setIdleName(e);else throw new Error("Cannot set expiry key name because no LocalStorageExpiry has been provided.")}getKeepaliveEnabled(){return this.keepaliveEnabled}setKeepaliveEnabled(e){if(!this.keepaliveSvc)throw new Error("Cannot enable keepalive integration because no KeepaliveSvc has been provided.");return this.keepaliveEnabled=e}getTimeout(){return this.timeoutVal}setTimeout(e){if(e===!1)this.timeoutVal=0;else if(typeof e=="number"&&e>=0)this.timeoutVal=e;else throw new Error("'seconds' can only be 'false' or a positive number.");return this.timeoutVal}getIdle(){return this.idle}setIdle(e){if(e<=0)throw new Error("'seconds' must be greater zero");return this.idle=e}getAutoResume(){return this.autoResume}setAutoResume(e){return this.autoResume=e}setInterrupts(e){this.clearInterrupts();let i=this;for(let n of e){let o={platformId:this.platformId},s=new mo(n,o);s.subscribe(a=>{i.interrupt(a.force,a.innerArgs)}),this.interrupts.push(s)}return this.interrupts}getInterrupts(){return this.interrupts}clearInterrupts(){for(let e of this.interrupts)e.pause(),e.unsubscribe();this.interrupts.length=0}isRunning(){return this.running}isIdling(){return this.idling}watch(e){this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle");let i=this.timeoutVal?this.timeoutVal:0;if(!e){let o=new Date(this.expiry.now().getTime()+(this.idle+i)*1e3);this.expiry.last(o)}this.idling&&this.toggleState(),this.running||(this.startKeepalive(),this.toggleInterrupts(!0)),this.running=!0;let n=()=>{this.zone.run(()=>{this.getExpiryDiff(i)>0?(this.safeClearInterval("idleHandle"),this.setIdleIntervalOutsideOfZone(n,1e3)):this.toggleState()})};this.setIdleIntervalOutsideOfZone(n,1e3)}setIdleIntervalOutsideOfZone(e,i){this.zone.runOutsideAngular(()=>{this.idleHandle=setInterval(e,i)})}stop(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!1),this.running=!1,this.expiry.last(null)}timeout(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!0),this.running=!1,this.countdown=0,this.onTimeout.emit(null)}interrupt(e,i){if(this.running){if(this.timeoutVal&&this.expiry.isExpired()){this.timeout();return}this.onInterrupt.emit(i),(e===!0||this.autoResume===di.idle||this.autoResume===di.notIdle&&!this.expiry.idling())&&this.watch(e)}}setIdling(e){this.idling=e,this.expiry.idling(e)}toggleState(){this.setIdling(!this.idling),this.idling?(this.onIdleStart.emit(null),this.stopKeepalive(),this.timeoutVal>0&&(this.countdown=this.timeoutVal,this.doCountdown(),this.setTimeoutIntervalOutsideZone(()=>{this.doCountdownInZone()},1e3))):(this.toggleInterrupts(!0),this.onIdleEnd.emit(null),this.startKeepalive()),this.safeClearInterval("idleHandle")}setTimeoutIntervalOutsideZone(e,i){this.zone.runOutsideAngular(()=>{this.timeoutHandle=setInterval(()=>{e()},i)})}toggleInterrupts(e){for(let i of this.interrupts)e?i.resume():i.pause()}getExpiryDiff(e){let i=this.expiry.now();return(this.expiry.last()||i).getTime()-i.getTime()-e*1e3}doCountdownInZone(){this.zone.run(()=>{this.doCountdown()})}doCountdown(){let e=this.getExpiryDiff(this.timeoutVal);if(e>0){this.safeClearInterval("timeoutHandle"),this.interrupt(!0);return}if(!this.idling)return;if(this.countdown<=0){this.timeout();return}this.onTimeoutWarning.emit(this.countdown);let i=(this.timeoutVal-1)*1e3+e;this.countdown=Math.round(i/1e3)}safeClearInterval(e){let i=this[e];i!==null&&typeof i<"u"&&(clearInterval(this[e]),this[e]=null)}startKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||(this.running&&this.keepaliveSvc.ping(),this.keepaliveSvc.start())}stopKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||this.keepaliveSvc.stop()}ngOnDestroy(){this.stop(),this.clearInterrupts()}static{this.\u0275fac=function(i){return new(i||r)(j(cr),j(ke),j(At,8),j(Ys,8))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})(),po=class{constructor(t,e,i=!1){this.source=t,this.innerArgs=e,this.force=i}},fo=class{constructor(t,e){this.attachFn=t,this.detachFn=e,this.isAttached=!1,this.onInterrupt=new ve}attach(){if(Zone.current.get("isAngularZone")===!0){Zone.current.parent.run(()=>this.attach());return}!this.isAttached&&this.attachFn&&this.attachFn(this),this.isAttached=!0}detach(){this.isAttached&&this.detachFn&&this.detachFn(this),this.isAttached=!1}},Cm=500,ui=class extends fo{constructor(t,e,i){super(null,null),this.target=t,this.events=e,this.opts=i,this.eventSubscription=new Cs,typeof this.opts=="number"&&(this.opts={throttleDelay:this.opts,passive:!1}),this.opts=this.opts||{passive:!1,throttleDelay:Cm},(this.opts.throttleDelay===void 0||this.opts.throttleDelay===null)&&(this.opts.throttleDelay=Cm),this.throttleDelay=this.opts.throttleDelay,this.passive=!!this.opts.passive}initialize(t){if(t?.platformId&&pa(t.platformId))return;let e=typeof this.target=="function"?this.target():this.target,i=this.passive?{passive:!0}:null,n=this.events.split(" ").map(s=>Ls(e,s,i));this.eventSrc=Xt(...n),this.eventSrc=this.eventSrc.pipe(Re(s=>!this.filterEvent(s))),this.throttleDelay>0&&(this.eventSrc=this.eventSrc.pipe(qs(this.throttleDelay)));let o=s=>this.onInterrupt.emit(new po(this,s));this.attachFn=()=>this.eventSubscription=this.eventSrc.subscribe(o),this.detachFn=()=>this.eventSubscription.unsubscribe()}filterEvent(t){return!1}get options(){return{passive:this.passive,throttleDelay:this.throttleDelay}}},ho=class extends ui{constructor(t,e){super(()=>document.documentElement,t,e)}filterEvent(t){return!!(t.type==="mousemove"&&(t.originalEvent&&t.originalEvent.movementX===0&&t.originalEvent.movementY===0||t.movementX!==void 0&&!t.movementX||!t.movementY))}},go=class extends ui{constructor(t,e){super(()=>window,t,e)}},yo=class extends go{constructor(t=500){super("storage",t)}filterEvent(t){return!(t.key&&t.key.indexOf("ng2Idle.")>=0&&t.key.indexOf(".expiry")>=0)}};var Dm=(()=>{class r{static forRoot(){return{ngModule:r,providers:[uo,{provide:cr,useExisting:uo},dr]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=_e({type:r})}static{this.\u0275inj=ye({providers:[Im]})}}return r})();function Up(r){return[new ho("mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll",r),new yo(r)]}var Am=Up();var pi=(()=>{class r extends At{constructor(e,i){super(),this.http=e,this.zone=i,this.pingInterval=10*60,this.onPing=new ve,this.onPingResponse=new ve}request(e){return typeof e=="string"?this.pingRequest=new Zn("GET",e):e instanceof Zn?this.pingRequest=e:e===null&&(this.pingRequest=null),this.pingRequest}interval(e){if(!isNaN(e)&&e>0)this.pingInterval=e;else if(!isNaN(e)&&e<=0)throw new Error("Interval value must be greater than zero.");return this.pingInterval}ping(){this.onPing.emit(null),this.pingRequest&&this.http.request(this.pingRequest).subscribe(e=>{this.onPingResponse.emit(e)},e=>{this.onPingResponse.emit(e)})}start(){this.stop(),this.zone.runOutsideAngular(()=>{this.pingHandle=setInterval(()=>{this.zone.run(()=>{this.ping()})},this.pingInterval*1e3)})}stop(){this.hasPingHandle()&&(clearInterval(this.pingHandle),this.pingHandle=null)}ngOnDestroy(){this.stop()}isRunning(){return this.hasPingHandle()}hasPingHandle(){return this.pingHandle!==null&&typeof this.pingHandle<"u"}static{this.\u0275fac=function(i){return new(i||r)(j($e),j(ke))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();var Om=(()=>{class r{static forRoot(){return{ngModule:r,providers:[pi,{provide:At,useExisting:pi}]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=_e({type:r})}static{this.\u0275inj=ye({imports:[Dm.forRoot()]})}}return r})();var Nt=(()=>{class r{constructor(){this.idleChange=new ve}emitIdleChangeEvent(e){this.idleChange.emit(e)}getIdleEventEmitter(){return this.idleChange}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();function zp(r,t){r&1&&(u(0,"div")(1,"a",6),y(2,"OK"),p()())}function jp(r,t){if(r&1){let e=me();u(0,"button",7),W("click",function(){X(e);let n=A();return J(n.closeDialog())}),y(1,"Continue"),p()}}var Rm=(()=>{class r{constructor(e,i,n,o){this.idleService=i,this.dialogRef=n,this.ref=o,this.countdown=90,this.timedOut=!1,this.dialogTitle="Session Idle Warning",e.onTimeoutWarning.subscribe(()=>{this.startTimer()}),e.onIdleEnd.subscribe(()=>{this.resetTimer()}),e.onTimeout.subscribe(()=>{this.dialogTitle="Session Timed Out",this.timedOut=!0})}get idleState(){return this.timedOut?"Maximum idle time of 2 hours reached. You are signed out for security reasons. Press OK to sign in again.":`It looks like you have been idle for a while. For security reasons, your session has a maximum duration of 2 hours and will time out due to inactivity in ${this.countdown} minutes.`}closeDialog(){this.idleChanged(),this.stopTimer(),this.dialogRef.close()}startTimer(){this.interval||(this.interval=setInterval(()=>{this.countdown>0?this.countdown--:this.stopTimer(),this.ref.detectChanges()},6e4))}stopTimer(){clearInterval(this.interval),this.interval=void 0}resetTimer(){this.stopTimer(),this.countdown=120,this.startTimer()}idleChanged(){this.idleService.emitIdleChangeEvent(!1)}static{this.\u0275fac=function(i){return new(i||r)(O(dr),O(Nt),O(wt),O(la))}}static{this.\u0275cmp=de({type:r,selectors:[["app-idle-timeout"]],standalone:!1,decls:11,vars:4,consts:[["idleWarning",""],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane"],["cdkDragHandle","","color","primary"],[1,"max-w-md"],["align","center"],[4,"ngIf","ngIfElse"],["href","/","mat-stroked-button",""],["mat-stroked-button","",3,"click"]],template:function(i,n){if(i&1&&(u(0,"div",1)(1,"mat-toolbar",2)(2,"h2"),y(3),p()(),u(4,"mat-dialog-content")(5,"p",3),y(6),p()(),u(7,"mat-dialog-actions",4),z(8,zp,3,0,"div",5)(9,jp,2,0,"ng-template",null,0,ue),p()()),i&2){let o=te(10);g(3),oe(n.dialogTitle),g(3),oe(n.idleState),g(2),x("ngIf",n.timedOut)("ngIfElse",o)}},dependencies:[Le,qr,Vr,Ra,xe,Mt,Et,Hr],encapsulation:2})}}return r})();var Hp=typeof global=="object"&&global&&global.Object===Object&&global,fi=Hp;var Vp=typeof self=="object"&&self&&self.Object===Object&&self,qp=fi||Vp||Function("return this")(),ae=qp;var $p=ae.Symbol,we=$p;var km=Object.prototype,Wp=km.hasOwnProperty,Kp=km.toString,ur=we?we.toStringTag:void 0;function Gp(r){var t=Wp.call(r,ur),e=r[ur];try{r[ur]=void 0;var i=!0}catch{}var n=Kp.call(r);return i&&(t?r[ur]=e:delete r[ur]),n}var Lm=Gp;var Yp=Object.prototype,Qp=Yp.toString;function Zp(r){return Qp.call(r)}var Fm=Zp;var Xp="[object Null]",Jp="[object Undefined]",Um=we?we.toStringTag:void 0;function ef(r){return r==null?r===void 0?Jp:Xp:Um&&Um in Object(r)?Lm(r):Fm(r)}var De=ef;function tf(r){return r!=null&&typeof r=="object"}var Ae=tf;var rf="[object Symbol]";function nf(r){return typeof r=="symbol"||Ae(r)&&De(r)==rf}var Ot=nf;function of(r,t){for(var e=-1,i=r==null?0:r.length,n=Array(i);++e<i;)n[e]=t(r[e],e,r);return n}var Bm=of;var sf=Array.isArray,ie=sf;var af=1/0,zm=we?we.prototype:void 0,jm=zm?zm.toString:void 0;function Hm(r){if(typeof r=="string")return r;if(ie(r))return Bm(r,Hm)+"";if(Ot(r))return jm?jm.call(r):"";var t=r+"";return t=="0"&&1/r==-af?"-0":t}var Vm=Hm;function lf(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var Pt=lf;function mf(r){return r}var qm=mf;var cf="[object AsyncFunction]",df="[object Function]",uf="[object GeneratorFunction]",pf="[object Proxy]";function ff(r){if(!Pt(r))return!1;var t=De(r);return t==df||t==uf||t==cf||t==pf}var hi=ff;var hf=ae["__core-js_shared__"],gi=hf;var $m=function(){var r=/[^.]+$/.exec(gi&&gi.keys&&gi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function gf(r){return!!$m&&$m in r}var Wm=gf;var yf=Function.prototype,_f=yf.toString;function bf(r){if(r!=null){try{return _f.call(r)}catch{}try{return r+""}catch{}}return""}var je=bf;var vf=/[\\^$.*+?()[\]{}|]/g,xf=/^\[object .+?Constructor\]$/,wf=Function.prototype,Ef=Object.prototype,Sf=wf.toString,Tf=Ef.hasOwnProperty,Mf=RegExp("^"+Sf.call(Tf).replace(vf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cf(r){if(!Pt(r)||Wm(r))return!1;var t=hi(r)?Mf:xf;return t.test(je(r))}var Km=Cf;function If(r,t){return r?.[t]}var Gm=If;function Df(r,t){var e=Gm(r,t);return Km(e)?e:void 0}var pe=Df;var Af=pe(ae,"WeakMap"),yi=Af;var Nf=function(){try{var r=pe(Object,"defineProperty");return r({},"",{}),r}catch{}}(),_o=Nf;var Of=9007199254740991,Pf=/^(?:0|[1-9]\d*)$/;function Rf(r,t){var e=typeof r;return t=t??Of,!!t&&(e=="number"||e!="symbol"&&Pf.test(r))&&r>-1&&r%1==0&&r<t}var _i=Rf;function kf(r,t,e){t=="__proto__"&&_o?_o(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}var Ym=kf;function Lf(r,t){return r===t||r!==r&&t!==t}var bi=Lf;var Ff=9007199254740991;function Uf(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Ff}var Rt=Uf;function Bf(r){return r!=null&&Rt(r.length)&&!hi(r)}var vi=Bf;var zf=Object.prototype;function jf(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||zf;return r===e}var Qm=jf;function Hf(r,t){for(var e=-1,i=Array(r);++e<r;)i[e]=t(e);return i}var Zm=Hf;var Vf="[object Arguments]";function qf(r){return Ae(r)&&De(r)==Vf}var bo=qf;var Xm=Object.prototype,$f=Xm.hasOwnProperty,Wf=Xm.propertyIsEnumerable,Kf=bo(function(){return arguments}())?bo:function(r){return Ae(r)&&$f.call(r,"callee")&&!Wf.call(r,"callee")},xi=Kf;function Gf(){return!1}var Jm=Gf;var rc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ec=rc&&typeof module=="object"&&module&&!module.nodeType&&module,Yf=ec&&ec.exports===rc,tc=Yf?ae.Buffer:void 0,Qf=tc?tc.isBuffer:void 0,Zf=Qf||Jm,pr=Zf;var Xf="[object Arguments]",Jf="[object Array]",eh="[object Boolean]",th="[object Date]",rh="[object Error]",ih="[object Function]",nh="[object Map]",oh="[object Number]",sh="[object Object]",ah="[object RegExp]",lh="[object Set]",mh="[object String]",ch="[object WeakMap]",dh="[object ArrayBuffer]",uh="[object DataView]",ph="[object Float32Array]",fh="[object Float64Array]",hh="[object Int8Array]",gh="[object Int16Array]",yh="[object Int32Array]",_h="[object Uint8Array]",bh="[object Uint8ClampedArray]",vh="[object Uint16Array]",xh="[object Uint32Array]",G={};G[ph]=G[fh]=G[hh]=G[gh]=G[yh]=G[_h]=G[bh]=G[vh]=G[xh]=!0;G[Xf]=G[Jf]=G[dh]=G[eh]=G[uh]=G[th]=G[rh]=G[ih]=G[nh]=G[oh]=G[sh]=G[ah]=G[lh]=G[mh]=G[ch]=!1;function wh(r){return Ae(r)&&Rt(r.length)&&!!G[De(r)]}var ic=wh;function Eh(r){return function(t){return r(t)}}var nc=Eh;var oc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fr=oc&&typeof module=="object"&&module&&!module.nodeType&&module,Sh=fr&&fr.exports===oc,vo=Sh&&fi.process,Th=function(){try{var r=fr&&fr.require&&fr.require("util").types;return r||vo&&vo.binding&&vo.binding("util")}catch{}}(),xo=Th;var sc=xo&&xo.isTypedArray,Mh=sc?nc(sc):ic,wi=Mh;var Ch=Object.prototype,Ih=Ch.hasOwnProperty;function Dh(r,t){var e=ie(r),i=!e&&xi(r),n=!e&&!i&&pr(r),o=!e&&!i&&!n&&wi(r),s=e||i||n||o,a=s?Zm(r.length,String):[],m=a.length;for(var l in r)(t||Ih.call(r,l))&&!(s&&(l=="length"||n&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_i(l,m)))&&a.push(l);return a}var ac=Dh;function Ah(r,t){return function(e){return r(t(e))}}var lc=Ah;var Nh=lc(Object.keys,Object),mc=Nh;var Oh=Object.prototype,Ph=Oh.hasOwnProperty;function Rh(r){if(!Qm(r))return mc(r);var t=[];for(var e in Object(r))Ph.call(r,e)&&e!="constructor"&&t.push(e);return t}var cc=Rh;function kh(r){return vi(r)?ac(r):cc(r)}var kt=kh;var Lh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fh=/^\w*$/;function Uh(r,t){if(ie(r))return!1;var e=typeof r;return e=="number"||e=="symbol"||e=="boolean"||r==null||Ot(r)?!0:Fh.test(r)||!Lh.test(r)||t!=null&&r in Object(t)}var Lt=Uh;var Bh=pe(Object,"create"),He=Bh;function zh(){this.__data__=He?He(null):{},this.size=0}var dc=zh;function jh(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var uc=jh;var Hh="__lodash_hash_undefined__",Vh=Object.prototype,qh=Vh.hasOwnProperty;function $h(r){var t=this.__data__;if(He){var e=t[r];return e===Hh?void 0:e}return qh.call(t,r)?t[r]:void 0}var pc=$h;var Wh=Object.prototype,Kh=Wh.hasOwnProperty;function Gh(r){var t=this.__data__;return He?t[r]!==void 0:Kh.call(t,r)}var fc=Gh;var Yh="__lodash_hash_undefined__";function Qh(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=He&&t===void 0?Yh:t,this}var hc=Qh;function Ft(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Ft.prototype.clear=dc;Ft.prototype.delete=uc;Ft.prototype.get=pc;Ft.prototype.has=fc;Ft.prototype.set=hc;var wo=Ft;function Zh(){this.__data__=[],this.size=0}var gc=Zh;function Xh(r,t){for(var e=r.length;e--;)if(bi(r[e][0],t))return e;return-1}var Ye=Xh;var Jh=Array.prototype,eg=Jh.splice;function tg(r){var t=this.__data__,e=Ye(t,r);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():eg.call(t,e,1),--this.size,!0}var yc=tg;function rg(r){var t=this.__data__,e=Ye(t,r);return e<0?void 0:t[e][1]}var _c=rg;function ig(r){return Ye(this.__data__,r)>-1}var bc=ig;function ng(r,t){var e=this.__data__,i=Ye(e,r);return i<0?(++this.size,e.push([r,t])):e[i][1]=t,this}var vc=ng;function Ut(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Ut.prototype.clear=gc;Ut.prototype.delete=yc;Ut.prototype.get=_c;Ut.prototype.has=bc;Ut.prototype.set=vc;var Qe=Ut;var og=pe(ae,"Map"),Ze=og;function sg(){this.size=0,this.__data__={hash:new wo,map:new(Ze||Qe),string:new wo}}var xc=sg;function ag(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}var wc=ag;function lg(r,t){var e=r.__data__;return wc(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Xe=lg;function mg(r){var t=Xe(this,r).delete(r);return this.size-=t?1:0,t}var Ec=mg;function cg(r){return Xe(this,r).get(r)}var Sc=cg;function dg(r){return Xe(this,r).has(r)}var Tc=dg;function ug(r,t){var e=Xe(this,r),i=e.size;return e.set(r,t),this.size+=e.size==i?0:1,this}var Mc=ug;function Bt(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Bt.prototype.clear=xc;Bt.prototype.delete=Ec;Bt.prototype.get=Sc;Bt.prototype.has=Tc;Bt.prototype.set=Mc;var mt=Bt;var pg="Expected a function";function Eo(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError(pg);var e=function(){var i=arguments,n=t?t.apply(this,i):i[0],o=e.cache;if(o.has(n))return o.get(n);var s=r.apply(this,i);return e.cache=o.set(n,s)||o,s};return e.cache=new(Eo.Cache||mt),e}Eo.Cache=mt;var Cc=Eo;var fg=500;function hg(r){var t=Cc(r,function(i){return e.size===fg&&e.clear(),i}),e=t.cache;return t}var Ic=hg;var gg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yg=/\\(\\)?/g,_g=Ic(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(gg,function(e,i,n,o){t.push(n?o.replace(yg,"$1"):i||e)}),t}),Dc=_g;function bg(r){return r==null?"":Vm(r)}var Ac=bg;function vg(r,t){return ie(r)?r:Lt(r,t)?[r]:Dc(Ac(r))}var Ei=vg;var xg=1/0;function wg(r){if(typeof r=="string"||Ot(r))return r;var t=r+"";return t=="0"&&1/r==-xg?"-0":t}var Je=wg;function Eg(r,t){t=Ei(t,r);for(var e=0,i=t.length;r!=null&&e<i;)r=r[Je(t[e++])];return e&&e==i?r:void 0}var Si=Eg;function Sg(r,t,e){var i=r==null?void 0:Si(r,t);return i===void 0?e:i}var Nc=Sg;function Tg(r,t){for(var e=-1,i=t.length,n=r.length;++e<i;)r[n+e]=t[e];return r}var Oc=Tg;function Mg(){this.__data__=new Qe,this.size=0}var Pc=Mg;function Cg(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}var Rc=Cg;function Ig(r){return this.__data__.get(r)}var kc=Ig;function Dg(r){return this.__data__.has(r)}var Lc=Dg;var Ag=200;function Ng(r,t){var e=this.__data__;if(e instanceof Qe){var i=e.__data__;if(!Ze||i.length<Ag-1)return i.push([r,t]),this.size=++e.size,this;e=this.__data__=new mt(i)}return e.set(r,t),this.size=e.size,this}var Fc=Ng;function zt(r){var t=this.__data__=new Qe(r);this.size=t.size}zt.prototype.clear=Pc;zt.prototype.delete=Rc;zt.prototype.get=kc;zt.prototype.has=Lc;zt.prototype.set=Fc;var jt=zt;function Og(r,t){for(var e=-1,i=r==null?0:r.length,n=0,o=[];++e<i;){var s=r[e];t(s,e,r)&&(o[n++]=s)}return o}var Uc=Og;function Pg(){return[]}var Bc=Pg;var Rg=Object.prototype,kg=Rg.propertyIsEnumerable,zc=Object.getOwnPropertySymbols,Lg=zc?function(r){return r==null?[]:(r=Object(r),Uc(zc(r),function(t){return kg.call(r,t)}))}:Bc,jc=Lg;function Fg(r,t,e){var i=t(r);return ie(r)?i:Oc(i,e(r))}var Hc=Fg;function Ug(r){return Hc(r,kt,jc)}var So=Ug;var Bg=pe(ae,"DataView"),Ti=Bg;var zg=pe(ae,"Promise"),Mi=zg;var jg=pe(ae,"Set"),Ci=jg;var Vc="[object Map]",Hg="[object Object]",qc="[object Promise]",$c="[object Set]",Wc="[object WeakMap]",Kc="[object DataView]",Vg=je(Ti),qg=je(Ze),$g=je(Mi),Wg=je(Ci),Kg=je(yi),ct=De;(Ti&&ct(new Ti(new ArrayBuffer(1)))!=Kc||Ze&&ct(new Ze)!=Vc||Mi&&ct(Mi.resolve())!=qc||Ci&&ct(new Ci)!=$c||yi&&ct(new yi)!=Wc)&&(ct=function(r){var t=De(r),e=t==Hg?r.constructor:void 0,i=e?je(e):"";if(i)switch(i){case Vg:return Kc;case qg:return Vc;case $g:return qc;case Wg:return $c;case Kg:return Wc}return t});var To=ct;var Gg=ae.Uint8Array,Mo=Gg;var Yg="__lodash_hash_undefined__";function Qg(r){return this.__data__.set(r,Yg),this}var Gc=Qg;function Zg(r){return this.__data__.has(r)}var Yc=Zg;function Ii(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new mt;++t<e;)this.add(r[t])}Ii.prototype.add=Ii.prototype.push=Gc;Ii.prototype.has=Yc;var Qc=Ii;function Xg(r,t){for(var e=-1,i=r==null?0:r.length;++e<i;)if(t(r[e],e,r))return!0;return!1}var Zc=Xg;function Jg(r,t){return r.has(t)}var Xc=Jg;var e0=1,t0=2;function r0(r,t,e,i,n,o){var s=e&e0,a=r.length,m=t.length;if(a!=m&&!(s&&m>a))return!1;var l=o.get(r),h=o.get(t);if(l&&h)return l==t&&h==r;var c=-1,_=!0,b=e&t0?new Qc:void 0;for(o.set(r,t),o.set(t,r);++c<a;){var f=r[c],d=t[c];if(i)var v=s?i(d,f,c,t,r,o):i(f,d,c,r,t,o);if(v!==void 0){if(v)continue;_=!1;break}if(b){if(!Zc(t,function(S,I){if(!Xc(b,I)&&(f===S||n(f,S,e,i,o)))return b.push(I)})){_=!1;break}}else if(!(f===d||n(f,d,e,i,o))){_=!1;break}}return o.delete(r),o.delete(t),_}var Di=r0;function i0(r){var t=-1,e=Array(r.size);return r.forEach(function(i,n){e[++t]=[n,i]}),e}var Jc=i0;function n0(r){var t=-1,e=Array(r.size);return r.forEach(function(i){e[++t]=i}),e}var ed=n0;var o0=1,s0=2,a0="[object Boolean]",l0="[object Date]",m0="[object Error]",c0="[object Map]",d0="[object Number]",u0="[object RegExp]",p0="[object Set]",f0="[object String]",h0="[object Symbol]",g0="[object ArrayBuffer]",y0="[object DataView]",td=we?we.prototype:void 0,Co=td?td.valueOf:void 0;function _0(r,t,e,i,n,o,s){switch(e){case y0:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case g0:return!(r.byteLength!=t.byteLength||!o(new Mo(r),new Mo(t)));case a0:case l0:case d0:return bi(+r,+t);case m0:return r.name==t.name&&r.message==t.message;case u0:case f0:return r==t+"";case c0:var a=Jc;case p0:var m=i&o0;if(a||(a=ed),r.size!=t.size&&!m)return!1;var l=s.get(r);if(l)return l==t;i|=s0,s.set(r,t);var h=Di(a(r),a(t),i,n,o,s);return s.delete(r),h;case h0:if(Co)return Co.call(r)==Co.call(t)}return!1}var rd=_0;var b0=1,v0=Object.prototype,x0=v0.hasOwnProperty;function w0(r,t,e,i,n,o){var s=e&b0,a=So(r),m=a.length,l=So(t),h=l.length;if(m!=h&&!s)return!1;for(var c=m;c--;){var _=a[c];if(!(s?_ in t:x0.call(t,_)))return!1}var b=o.get(r),f=o.get(t);if(b&&f)return b==t&&f==r;var d=!0;o.set(r,t),o.set(t,r);for(var v=s;++c<m;){_=a[c];var S=r[_],I=t[_];if(i)var R=s?i(I,S,_,t,r,o):i(S,I,_,r,t,o);if(!(R===void 0?S===I||n(S,I,e,i,o):R)){d=!1;break}v||(v=_=="constructor")}if(d&&!v){var M=r.constructor,N=t.constructor;M!=N&&"constructor"in r&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof N=="function"&&N instanceof N)&&(d=!1)}return o.delete(r),o.delete(t),d}var id=w0;var E0=1,nd="[object Arguments]",od="[object Array]",Ai="[object Object]",S0=Object.prototype,sd=S0.hasOwnProperty;function T0(r,t,e,i,n,o){var s=ie(r),a=ie(t),m=s?od:To(r),l=a?od:To(t);m=m==nd?Ai:m,l=l==nd?Ai:l;var h=m==Ai,c=l==Ai,_=m==l;if(_&&pr(r)){if(!pr(t))return!1;s=!0,h=!1}if(_&&!h)return o||(o=new jt),s||wi(r)?Di(r,t,e,i,n,o):rd(r,t,m,e,i,n,o);if(!(e&E0)){var b=h&&sd.call(r,"__wrapped__"),f=c&&sd.call(t,"__wrapped__");if(b||f){var d=b?r.value():r,v=f?t.value():t;return o||(o=new jt),n(d,v,e,i,o)}}return _?(o||(o=new jt),id(r,t,e,i,n,o)):!1}var ad=T0;function ld(r,t,e,i,n){return r===t?!0:r==null||t==null||!Ae(r)&&!Ae(t)?r!==r&&t!==t:ad(r,t,e,i,ld,n)}var Ni=ld;var M0=1,C0=2;function I0(r,t,e,i){var n=e.length,o=n,s=!i;if(r==null)return!o;for(r=Object(r);n--;){var a=e[n];if(s&&a[2]?a[1]!==r[a[0]]:!(a[0]in r))return!1}for(;++n<o;){a=e[n];var m=a[0],l=r[m],h=a[1];if(s&&a[2]){if(l===void 0&&!(m in r))return!1}else{var c=new jt;if(i)var _=i(l,h,m,r,t,c);if(!(_===void 0?Ni(h,l,M0|C0,i,c):_))return!1}}return!0}var md=I0;function D0(r){return r===r&&!Pt(r)}var Oi=D0;function A0(r){for(var t=kt(r),e=t.length;e--;){var i=t[e],n=r[i];t[e]=[i,n,Oi(n)]}return t}var cd=A0;function N0(r,t){return function(e){return e==null?!1:e[r]===t&&(t!==void 0||r in Object(e))}}var Pi=N0;function O0(r){var t=cd(r);return t.length==1&&t[0][2]?Pi(t[0][0],t[0][1]):function(e){return e===r||md(e,r,t)}}var dd=O0;function P0(r,t){return r!=null&&t in Object(r)}var ud=P0;function R0(r,t,e){t=Ei(t,r);for(var i=-1,n=t.length,o=!1;++i<n;){var s=Je(t[i]);if(!(o=r!=null&&e(r,s)))break;r=r[s]}return o||++i!=n?o:(n=r==null?0:r.length,!!n&&Rt(n)&&_i(s,n)&&(ie(r)||xi(r)))}var pd=R0;function k0(r,t){return r!=null&&pd(r,t,ud)}var fd=k0;var L0=1,F0=2;function U0(r,t){return Lt(r)&&Oi(t)?Pi(Je(r),t):function(e){var i=Nc(e,r);return i===void 0&&i===t?fd(e,r):Ni(t,i,L0|F0)}}var hd=U0;function B0(r){return function(t){return t?.[r]}}var gd=B0;function z0(r){return function(t){return Si(t,r)}}var yd=z0;function j0(r){return Lt(r)?gd(Je(r)):yd(r)}var _d=j0;function H0(r){return typeof r=="function"?r:r==null?qm:typeof r=="object"?ie(r)?hd(r[0],r[1]):dd(r):_d(r)}var bd=H0;function V0(r,t,e,i){for(var n=-1,o=r==null?0:r.length;++n<o;){var s=r[n];t(i,s,e(s),r)}return i}var vd=V0;function q0(r){return function(t,e,i){for(var n=-1,o=Object(t),s=i(t),a=s.length;a--;){var m=s[r?a:++n];if(e(o[m],m,o)===!1)break}return t}}var xd=q0;var $0=xd(),wd=$0;function W0(r,t){return r&&wd(r,t,kt)}var Ed=W0;function K0(r,t){return function(e,i){if(e==null)return e;if(!vi(e))return r(e,i);for(var n=e.length,o=t?n:-1,s=Object(e);(t?o--:++o<n)&&i(s[o],o,s)!==!1;);return e}}var Sd=K0;var G0=Sd(Ed),Td=G0;function Y0(r,t,e,i){return Td(r,function(n,o,s){t(i,n,e(n),s)}),i}var Md=Y0;function Q0(r,t){return function(e,i){var n=ie(e)?vd:Md,o=t?t():{};return n(e,r,bd(i,2),o)}}var Cd=Q0;var Z0=Object.prototype,X0=Z0.hasOwnProperty,J0=Cd(function(r,t,e){X0.call(r,e)?r[e].push(t):Ym(r,e,[t])}),hr=J0;var Id="mat-badge-content",ey=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=de({type:r,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return r})(),Dd=(()=>{class r{_ngZone=ce(ke);_elementRef=ce(Gs);_ariaDescriber=ce(Pa);_renderer=ce(Xs);_animationMode=ce(er,{optional:!0});_idGenerator=ce(Oa);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=ce(Aa);_document=ce(Pr);constructor(){let e=ce(Ia);e.load(ey),e.load(Da)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(Id),this._animationMode==="NoopAnimations"&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){let i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Id}`);for(let i of Array.from(e))i!==this._badgeElement&&i.remove()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=Js({type:r,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,n){i&2&&ta("mat-badge-overlap",n.overlap)("mat-badge-above",n.isAbove())("mat-badge-below",!n.isAbove())("mat-badge-before",!n.isAfter())("mat-badge-after",n.isAfter())("mat-badge-small",n.size==="small")("mat-badge-medium",n.size==="medium")("mat-badge-large",n.size==="large")("mat-badge-hidden",n.hidden||!n.content)("mat-badge-disabled",n.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",Or],disabled:[2,"matBadgeDisabled","disabled",Or],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",Or]}})}return r})(),Ad=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=_e({type:r});static \u0275inj=ye({imports:[Na,eo,eo]})}return r})();var sy=()=>["/landingai/projects"],ay=()=>["/landingai/model-params"],ly=()=>["/profile/my-profile"],my=()=>["/profile/worklist"],cy=()=>["/settings/user-management"],dy=()=>["/admin/sites"],uy=()=>["/settings/sys-admin-tools"],py=()=>["/settings/scheduled-jobs"];function fy(r,t){r&1&&(u(0,"div"),ee(1,"app-spinner"),p())}function hy(r,t){if(r&1&&(u(0,"h1",35),y(1),p()),r&2){let e=A(3);g(),K(" ",e.topTitle," ")}}function gy(r,t){if(r&1&&(u(0,"h1",37),y(1),p()),r&2){let e=A(4);g(),K(" ",e.topTitle," ")}}function yy(r,t){if(r&1&&z(0,gy,2,1,"h1",36),r&2){let e=A(3);x("ngIf",!e.isProd)}}function _y(r,t){if(r&1){let e=me();u(0,"button",39),W("click",function(){let n=X(e).$implicit,o=A(5);return J(o.changeLocation(n))}),y(1),p()}if(r&2){let e=t.$implicit;g(),K(" ",e.acronym," ")}}function by(r,t){if(r&1&&(gt(0),z(1,_y,2,1,"button",38),yt()),r&2){let e=A().$implicit;g(),x("ngForOf",e.value)}}function vy(r,t){if(r&1){let e=me();u(0,"button",39),W("click",function(){let n=X(e).$implicit,o=A(5);return J(o.changeLocation(n))}),y(1),p()}if(r&2){let e=t.$implicit;g(),K(" ",e.acronym," ")}}function xy(r,t){if(r&1&&(u(0,"button",40),y(1),p(),u(2,"mat-menu",null,8),z(4,vy,2,1,"button",38),p()),r&2){let e=te(3),i=A().$implicit;x("matMenuTriggerFor",e),g(),K(" ",i.key," "),g(3),x("ngForOf",i.value)}}function wy(r,t){if(r&1&&(gt(0),z(1,by,2,1,"ng-container",9)(2,xy,5,3,"ng-template",null,7,ue),yt()),r&2){let e=t.$implicit,i=te(3);g(),x("ngIf",e.key.length===0)("ngIfElse",i)}}function Ey(r,t){r&1&&(u(0,"button",18),y(1," User Management "),p()),r&2&&x("routerLink",Be(1,cy))}function Sy(r,t){r&1&&(u(0,"button",18),y(1," Sites "),p()),r&2&&x("routerLink",Be(1,dy))}function Ty(r,t){r&1&&(u(0,"button",18),y(1," Sys-Admin tools "),p()),r&2&&x("routerLink",Be(1,uy))}function My(r,t){r&1&&(u(0,"button",18),y(1," Scheduled Jobs "),p()),r&2&&x("routerLink",Be(1,py))}function Cy(r,t){if(r&1&&(u(0,"button",41),ee(1,"img",42),p()),r&2){let e=A(3);rr("matTooltip","Logged in as ",e.currentUser.name,""),g(),x("src",e.profilePictureLink,tr)}}function Iy(r,t){if(r&1){let e=me();u(0,"button",43),W("click",function(){X(e);let n=A(3);return J(n.openNotificationsDialog())}),ee(1,"img",42),p()}if(r&2){let e=A(3);rr("matTooltip","Logged in as ",e.currentUser.name,""),x("matBadge",e.notificationCount),g(),x("src",e.profilePictureLink,tr)}}function Dy(r,t){if(r&1){let e=me();u(0,"button",29),W("click",function(){X(e);let n=A(3);return J(n.openSwitchUserDialog())}),y(1," Switch User "),p()}}function Ay(r,t){if(r&1){let e=me();u(0,"div",11)(1,"mat-toolbar",12)(2,"div",13)(3,"a",14),ee(4,"img",15),p(),u(5,"button",16),y(6," Owl Vision ADC "),u(7,"mat-icon",17),y(8,"arrow_drop_down"),p()(),u(9,"mat-menu",null,2)(11,"button",18),y(12," Project List "),p(),u(13,"button",18),y(14," Model Param Config "),p()()(),u(15,"div",19),z(16,hy,2,1,"h1",20)(17,yy,1,1,"ng-template",null,3,ue),u(19,"button",21)(20,"div",22)(21,"p",23),y(22),p(),u(23,"mat-icon",24),y(24,"arrow_drop_down"),p()()(),u(25,"mat-menu",null,4),z(27,wy,4,2,"ng-container",25),_t(28,"keyvalue"),p()(),u(29,"div",26)(30,"button",27)(31,"mat-icon"),y(32,"settings"),p()(),u(33,"mat-menu",null,5),z(35,Ey,2,2,"button",28)(36,Sy,2,2,"button",28)(37,Ty,2,2,"button",28)(38,My,2,2,"button",28),u(39,"button",29),W("click",function(){X(e);let n=A(2);return J(n.openAbout())}),y(40,"About"),p()(),z(41,Cy,2,3,"button",30)(42,Iy,2,4,"button",31),u(43,"mat-menu",null,6)(45,"button",18),y(46," Profile "),p(),u(47,"button",18),y(48," Worklist "),p(),z(49,Dy,2,0,"button",32),p(),u(50,"button",33)(51,"div"),y(52),p()()()(),u(53,"div",34),ee(54,"router-outlet"),p()()}if(r&2){let e=te(10),i=te(18),n=te(26),o=te(34),s=te(44),a=A(2);g(5),x("matMenuTriggerFor",e),g(6),x("routerLink",Be(22,sy)),g(2),x("routerLink",Be(23,ay)),g(3),x("ngIf",a.isProd)("ngIfElse",i),g(3),x("matMenuTriggerFor",n),g(3),K(" ",a.selectedLocation.acronym," "),g(5),x("ngForOf",oa(28,20,a.locationMenuMap)),g(3),x("matMenuTriggerFor",o),g(5),x("ngIf",a.isUserAdmin),g(),x("ngIf",a.isAdmin),g(),x("ngIf",a.isAdmin),g(),x("ngIf",a.isAdmin),g(3),x("ngIf",a.showProfileBadge),g(),x("ngIf",!a.showProfileBadge),g(3),x("routerLink",Be(24,ly)),g(2),x("routerLink",Be(25,my)),g(2),x("ngIf",!a.isProd),g(),x("matMenuTriggerFor",s),g(2),oe(a.currentUser.name)}}function Ny(r,t){r&1&&(u(0,"div",44)(1,"div",45),y(2," Warning "),p(),ee(3,"img",46),u(4,"div",47),y(5," Your browser does not fully support the application,"),ee(6,"br"),y(7," please use Chrome or Edge which you can download here: "),p(),u(8,"div",48)(9,"a",49),y(10,"Download Chrome"),p()()())}function Oy(r,t){if(r&1&&z(0,Ay,55,26,"div",10)(1,Ny,11,0,"ng-template",null,1,ue),r&2){let e=te(2),i=A();x("ngIf",i.isSupportedBrowser)("ngIfElse",e)}}var Pd=(()=>{class r{constructor(e,i,n,o,s,a,m,l,h,c,_,b){this._configuration=e,this.idleService=i,this.idle=n,this.keepalive=o,this.dataService=s,this.rxStompService=a,this.dataUpdateService=m,this.authorizationService=l,this.router=h,this.dialogService=c,this.snackBar=_,this.store=b,this.currentUser=new ba,this.selectedLocation=new Lr,this.locationMenuMap={},this.notifications=[],this.isSupportedBrowser=!0,this.idleDialogActive=!1,this.initialized=!1,this.locationInitialized=!1,this.socketDisconnected=!1,this.isReadOnlyMode=!1,this.isInitialLocationSetup=!0,this.store.dispatch(ml()),this.currentUser$=this.store.select(Br),this.allLocations$=this.store.select(hl),ks([this.currentUser$,this.allLocations$,this.store.select(Ca)]).pipe(Re(([f,d])=>!!f?.wbi&&d.length>0),zs(([f,d,v],[S,I,R])=>f?.wbi===S?.wbi&&d.length===I.length&&v.length===R.length)).subscribe(([f,d])=>{if(this.currentUser=f,this.populateLocationMenuMap(d),!this.locationInitialized){this.locationInitialized=!0;let v=this.currentUser.primaryLocation;v&&v.id!==0&&(this.selectedLocation=v,this.store.dispatch(io({location:v})),this.isInitialLocationSetup=!1)}}),this.store.select(Qr).subscribe(f=>this.isReadOnlyMode=f),this.store.select(Cl).subscribe(f=>{!this.initialized&&!f&&(this.initialized=!0)}),this.profilePictureLink=e.ServerWithApiUrl+"users/profilepicture",this.setUpIdleTimeoutWindow(),this.rxStompService.connectionState$.subscribe(f=>{f===ro.CLOSED&&!this.socketDisconnected?(at.displayErrorMsg(this.snackBar,"There seems to be a connection issue, please check your network and refresh this page."),this.socketDisconnected=!0):f===ro.OPEN&&(this.socketDisconnected=!1)})}get isAdmin(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,Fe.ADMINISTRATOR_SYSTEM)}get isUserAdmin(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,Fe.ADMINISTRATOR_USER)}get isSitePlanningManager(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(this.selectedLocation.id,Fe.MANAGER_PLANNING_SITE)}get isSitePlanningFlagSteward(){return this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(this.selectedLocation.id,Fe.SITE_PLANNING_FLAG_STEWARD)}get notificationCount(){let e=V.NotificationCount.toString();return V.NotificationCount>V.MaxNotifications&&(e=V.MaxNotifications.toString()+"+"),e}get isProd(){return this.url.startsWith("https://nww.ie-mdm.nxp.com/")}get topTitle(){let e="Owl Vision ADC";return this.url.indexOf("localhost")>-1?e+=" LH":this.url.indexOf(".dev")>-1?e+=" DEV":this.url.indexOf(".qa")>-1&&(e+=" QA"),this.isReadOnlyMode&&(e+=" (read-only)"),e}get showProfileBadge(){return V.NotificationCount<1}ngOnInit(){this.setIsSupportedBrowser(),this.url=window.location.href,this.idleSubscription=this.idleService.getIdleEventEmitter().subscribe(e=>this.idleDialogActive=e),this.retrieveNotifications(),V.IsProduction=this.url.startsWith("https://nww.ie-mdm.nxp.com/"),this.profilePictureLink=this._configuration.ServerWithApiUrl+"users/profilepicture",this.configurePageBasedOnEnvironment(),this.watchForUpdates()}changeLocation(e){this.selectedLocation=e,this.store.dispatch(io({location:e})),this.isInitialLocationSetup||this.router.navigate(["/"])}openAbout(){this.dialogService.open(Sm,{disableClose:!0})}openSwitchUserDialog(){this.dialogService.open(Mm,{width:"360px",disableClose:!1}).afterClosed().subscribe(i=>{i&&window.location.reload()})}ngOnDestroy(){this.unreadNotificationsSubscription!=null&&this.unreadNotificationsSubscription.unsubscribe()}refreshUserRights(){window.location.href="/"}openNotificationsDialog(){this.dialogService.open(Zr)}setUpIdleTimeoutWindow(){this.idle.setIdle(60*30),this.idle.setTimeout(60*120),this.idle.setInterrupts(Am),this.idle.onIdleStart.subscribe(()=>{this.idleDialogActive||(this.openTimeout(),this.idleDialogActive=!0)}),this.idle.onIdleEnd.subscribe(()=>{this.reset()}),this.keepalive.interval(60),this.keepalive.onPing.subscribe(()=>{this.lastPing=new Date,this.dataService.getIEMDMVersionInfo().subscribe({next:()=>{},error:()=>{this.idleDialogActive||(this.openTimeout(),this.idleDialogActive=!0)}})}),this.reset()}reset(){this.idle.watch()}setIsSupportedBrowser(){let e=window.navigator.userAgent;e.indexOf("Edg")>-1?this.isSupportedBrowser=!0:this.isSupportedBrowser=e.indexOf("Chrome")>-1}watchForUpdates(){this.dataUpdateService.updateEmitter.subscribe(e=>{e.updatedType==Yr.APPROVAL&&this.retrieveNotifications()})}retrieveNotifications(){this.unreadNotificationsSubscription=this.dataService.getHomePageCount().subscribe(e=>{V.NotificationCount=e.unreadNotificationCount,V.PendingApprovalCount=e.approvalCount,V.RequestCount=e.requestCount,V.MaxNotifications=e.maxNotifications})}openTimeout(){return this.dialogService.open(Rm,{disableClose:!0})}populateLocationMenuMap(e){let i=this.filterLocationsForCurrentUser(e);this.locationMenuMap=hr(i,n=>n.menuGrouping??"")}filterLocationsForCurrentUser(e){let i=e.filter(a=>a.id!==0),n=new Set,o=!1;if(this.authorizationService.doesCurrentUserHaveRoleForCurrentLocation(0,Fe.ADMINISTRATOR_SYSTEM)){let a=this.authorizationService.getLinkedLocationAcronymsForRole(Fe.ADMINISTRATOR_SYSTEM);a.has("*")?o=!0:a.forEach(m=>n.add(m))}if(!o){let a=this.authorizationService.getLinkedLocationAcronymsForRole(Fe.ADC_ENGINEER);a.size>0&&(a.has("*")?o=!0:a.forEach(m=>n.add(m)))}return o?i:n.size===0?[]:i.filter(a=>n.has(a.acronym)||n.has(a.sapCode))}configurePageBasedOnEnvironment(){if(!V.IsProduction){let e=document.querySelector('link[rel="icon"]');e&&(e.href="assets/favicon1.ico"),document.title=this.topTitle}}static{this.\u0275fac=function(i){return new(i||r)(O(V),O(Nt),O(dr),O(pi),O(vt),O(It),O(Ge),O(We),O(nl),O(jr),O(Ke),O(xt))}}static{this.\u0275cmp=de({type:r,selectors:[["app-root"]],standalone:!1,decls:3,vars:2,consts:[["pageContent",""],["unsupportedBrowser",""],["owlVisionMenu","matMenu"],["notProduction",""],["locations","matMenu"],["settings","matMenu"],["profile","matMenu"],["otherMenuItems",""],["sub_menu","matMenu"],[4,"ngIf","ngIfElse"],["class","flex h-screen w-screen flex-col overflow-hidden",4,"ngIf","ngIfElse"],[1,"flex","h-screen","w-screen","flex-col","overflow-hidden"],["color","primary",1,"green-header","gap-1"],[1,"flex","flex-1","items-center","justify-start","gap-1"],["href","/"],["alt","White NXP logo","src","assets/nxp-logo-white.png",1,"mr-2","h-[50px]","w-[70px]"],["mat-button","",1,"landingai-nav-button","adc-button",3,"matMenuTriggerFor"],[1,"ml-1"],["mat-menu-item","",3,"routerLink"],[1,"mx-2","flex","items-center","gap-2"],["class","title-badge",4,"ngIf","ngIfElse"],["aria-haspopup","true","aria-labelledby","Select location","mat-stroked-button","","matTooltip","Select a location",1,"!p-0","!pl-2",3,"matMenuTriggerFor"],[1,"flex","items-center"],[1,"m-0"],[1,"mb-0.5","ml-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-1","items-center","justify-end"],["mat-icon-button","","matTooltip","Settings",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink",4,"ngIf"],["mat-menu-item","",3,"click"],["class","user-button mr-2 !p-1","mat-icon-button","",3,"matTooltip",4,"ngIf"],["class","user-button mr-2 !p-1","mat-icon-button","","matBadgeColor","warn","matBadgePosition","after","matBadgeSize","small",3,"matBadge","matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"matMenuTriggerFor"],[1,"relative","h-[calc(100vh-64px)]","w-full","overflow-y-auto"],[1,"title-badge"],["class","title-badge bg-orange-300 p-1 text-black",4,"ngIf"],[1,"title-badge","bg-orange-300","p-1","text-black"],["class","!min-h-0","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"!min-h-0",3,"click"],["mat-menu-item","",1,"!min-h-0",3,"matMenuTriggerFor"],["mat-icon-button","",1,"user-button","mr-2","!p-1",3,"matTooltip"],["alt","User's profile picture","onerror","src = './assets/person.png'",1,"!h-10","!w-10","rounded-full",3,"src"],["mat-icon-button","","matBadgeColor","warn","matBadgePosition","after","matBadgeSize","small",1,"user-button","mr-2","!p-1",3,"click","matBadge","matTooltip"],[1,"m-auto","flex","h-full","w-3/5","flex-col","items-center","justify-center","bg-neutral-400","px-0","py-24"],["data-content","404",1,"text-7xl","font-bold","text-red-600"],["alt","logo","src","assets/factory.svg",1,"mt-3","size-[100px]"],[1,"mt-3","text-xl","font-bold","text-white"],[1,"m-3","rounded","bg-red-600","p-3","font-bold","uppercase","no-underline"],["href","https://www.google.com/chrome/",1,"text-white"]],template:function(i,n){if(i&1&&z(0,fy,2,0,"div",9)(1,Oy,3,2,"ng-template",null,0,ue),i&2){let o=te(2);x("ngIf",!n.initialized)("ngIfElse",o)}},dependencies:[bt,Le,il,ol,St,Tt,xe,zr,Dd,Ul,Fl,Bl,Mt,Ct,ma],encapsulation:2})}}return r})();var Rd=(()=>{class r{constructor(e,i,n,o,s,a,m){this.dialogService=e,this.dataService=i,this.authorizationService=n,this.dataUpdateService=o,this.config=s,this.snackBar=a,this.store=m,this.location=new Lr,this.threeWeeksHTML="",this.hasSysWarnings=!1,this.displayColumns=["roleName","forSites","forSapCodes"],this.au=new Jr,this.isLoading=!1,this.currentDate=new Date,this.store.select(gl).subscribe(l=>{l&&(this.location=l,this.getThreeWeeksHTML())})}ngOnInit(){this.setMonths(),this.notificationSysWarnCheck()}getThreeWeeksHTML(){this.threeWeeksSubscription=this.dataService.get3WeeksForLocation(this.location.id).subscribe(e=>{e.length?this.threeWeeksHTML=e:this.threeWeeksHTML="There are no weekly updates available."})}notificationSysWarnCheck(){this.dataService.hasNotificationSystemWarnings().subscribe(e=>this.hasSysWarnings=e)}openNotificationsModal(){this.dialogService.open(Zr)}notificationCount(){let e=V.NotificationCount;return this.isNotificationCountOverLimit()&&(e=V.MaxNotifications),e}isNotificationCountOverLimit(){return V.NotificationCount>V.MaxNotifications}approvalCount(){return V.PendingApprovalCount}ngOnDestroy(){this.au.closeSubscriptions([this.currentUserSubscription,this.threeWeeksSubscription,this.requestsSubscription])}setMonths(){let e=this.currentDate.getUTCFullYear(),i=this.currentDate.getUTCMonth();this.currentMonthDate=new Date(e,i,7);let n=e,o=i+1;o>11&&(n++,o=0),this.nextMonthDate=new Date(n,o,7)}static{this.\u0275fac=function(i){return new(i||r)(O(jr),O(vt),O(We),O(Ge),O(V),O(Ke),O(xt))}}static{this.\u0275cmp=de({type:r,selectors:[["app-home-dashboard"]],standalone:!1,decls:20,vars:4,consts:[[1,"relative","flex","h-full","flex-col","overflow-auto","bg-blue-50","px-2","pb-2","lg:px-4","2xl:max-h-full","2xl:px-8"],[1,"flex","flex-wrap","gap-x-4"],[1,"m-3","font-medium","text-home-blue"],[1,"m-4","flex","flex-wrap","justify-around","divide-x"],[1,"flex","h-[200px]","w-[250px]","flex-col","items-center","justify-around","p-4"],[1,"mb-4","flex","flex-col","items-center"],[1,"text-4xl"],[1,"text-neutral-600"],["mat-raised-button","",1,"w-full",3,"click","color"],[1,"flex","flex-col","2xl:overflow-auto"],[1,"overflow-auto"],[1,"p-4",3,"innerHTML"]],template:function(i,n){i&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"h5",2),y(4,"Your Alerts"),p(),u(5,"mat-card")(6,"div",3)(7,"div",4)(8,"div",5)(9,"p",6),y(10),p(),u(11,"p",7),y(12,"Notifications"),p()(),u(13,"button",8),W("click",function(){return n.openNotificationsModal()}),y(14," See Notifications "),p()()()()()(),u(15,"div",9)(16,"h5",2),y(17,"Your Weekly Overview"),p(),u(18,"mat-card",10),ee(19,"div",11),p()()()),i&2&&(g(10),Nr(" ",n.notificationCount(),"",n.isNotificationCountOverLimit()?"+":""," "),g(3),x("color",n.hasSysWarnings?"warn":"primary"),g(6),x("innerHTML",n.threeWeeksHTML,Qs))},dependencies:[xe,ei],styles:["[_nghost-%COMP%]     ol, [_nghost-%COMP%]     ul{padding-left:2rem}[_nghost-%COMP%]     ol{list-style-type:decimal}[_nghost-%COMP%]     ul{list-style-type:disc}"]})}}return r})();function kd(r){return new B(3e3,!1)}function Ry(){return new B(3100,!1)}function ky(){return new B(3101,!1)}function Ly(r){return new B(3001,!1)}function Fy(r){return new B(3003,!1)}function Uy(r){return new B(3004,!1)}function Fd(r,t){return new B(3005,!1)}function Ud(){return new B(3006,!1)}function Bd(){return new B(3007,!1)}function zd(r,t){return new B(3008,!1)}function jd(r){return new B(3002,!1)}function Hd(r,t,e,i,n){return new B(3010,!1)}function Vd(){return new B(3011,!1)}function qd(){return new B(3012,!1)}function $d(){return new B(3200,!1)}function Wd(){return new B(3202,!1)}function Kd(){return new B(3013,!1)}function Gd(r){return new B(3014,!1)}function Yd(r){return new B(3015,!1)}function Qd(r){return new B(3016,!1)}function Zd(r,t){return new B(3404,!1)}function By(r){return new B(3502,!1)}function Xd(r){return new B(3503,!1)}function Jd(){return new B(3300,!1)}function eu(r){return new B(3504,!1)}function tu(r){return new B(3301,!1)}function ru(r,t){return new B(3302,!1)}function iu(r){return new B(3303,!1)}function nu(r,t){return new B(3400,!1)}function ou(r){return new B(3401,!1)}function su(r){return new B(3402,!1)}function au(r,t){return new B(3505,!1)}function Ve(r){switch(r.length){case 0:return new lt;case 1:return r[0];default:return new ti(r)}}function Po(r,t,e=new Map,i=new Map){let n=[],o=[],s=-1,a=null;if(t.forEach(m=>{let l=m.get("offset"),h=l==s,c=h&&a||new Map;m.forEach((_,b)=>{let f=b,d=_;if(b!=="offset")switch(f=r.normalizePropertyName(f,n),d){case or:d=e.get(b);break;case Ie:d=i.get(b);break;default:d=r.normalizeStyleValue(b,f,d,n);break}c.set(f,d)}),h||o.push(c),a=c,s=l}),n.length)throw By(n);return o}function Ri(r,t,e,i){switch(t){case"start":r.onStart(()=>i(e&&Ao(e,"start",r)));break;case"done":r.onDone(()=>i(e&&Ao(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&Ao(e,"destroy",r)));break}}function Ao(r,t,e){let i=e.totalTime,n=!!e.disabled,o=ki(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,i??r.totalTime,n),s=r._data;return s!=null&&(o._data=s),o}function ki(r,t,e,i,n="",o=0,s){return{element:r,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:o,disabled:!!s}}function fe(r,t,e){let i=r.get(t);return i||r.set(t,i=e),i}function Ro(r){let t=r.indexOf(":"),e=r.substring(1,t),i=r.slice(t+1);return[e,i]}var zy=typeof document>"u"?null:document.documentElement;function Li(r){let t=r.parentNode||r.host||null;return t===zy?null:t}function jy(r){return r.substring(1,6)=="ebkit"}var dt=null,Ld=!1;function lu(r){dt||(dt=Hy()||{},Ld=dt.style?"WebkitAppearance"in dt.style:!1);let t=!0;return dt.style&&!jy(r)&&(t=r in dt.style,!t&&Ld&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in dt.style)),t}function Hy(){return typeof document<"u"?document.body:null}function ko(r,t){for(;t;){if(t===r)return!0;t=Li(t)}return!1}function Lo(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let i=r.querySelector(t);return i?[i]:[]}var Vy=1e3,Fo="{{",qy="}}",Uo="ng-enter",Fi="ng-leave",gr="ng-trigger",yr=".ng-trigger",Bo="ng-animating",Ui=".ng-animating";function Ue(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:No(parseFloat(t[1]),t[2])}function No(r,t){switch(t){case"s":return r*Vy;default:return r}}function _r(r,t,e){return r.hasOwnProperty("duration")?r:$y(r,t,e)}function $y(r,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,s="";if(typeof r=="string"){let a=r.match(i);if(a===null)return t.push(kd(r)),{duration:0,delay:0,easing:""};n=No(parseFloat(a[1]),a[2]);let m=a[3];m!=null&&(o=No(parseFloat(m),a[4]));let l=a[5];l&&(s=l)}else n=r;if(!e){let a=!1,m=t.length;n<0&&(t.push(Ry()),a=!0),o<0&&(t.push(ky()),a=!0),a&&t.splice(m,0,kd(r))}return{duration:n,delay:o,easing:s}}function mu(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function Ne(r,t,e){t.forEach((i,n)=>{let o=Bi(n);e&&!e.has(n)&&e.set(n,r.style[o]),r.style[o]=i})}function et(r,t){t.forEach((e,i)=>{let n=Bi(i);r.style[n]=""})}function Ht(r){return Array.isArray(r)?r.length==1?r[0]:Wl(r):r}function cu(r,t,e){let i=t.params||{},n=zo(r);n.length&&n.forEach(o=>{i.hasOwnProperty(o)||e.push(Ly(o))})}var Oo=new RegExp(`${Fo}\\s*(.+?)\\s*${qy}`,"g");function zo(r){let t=[];if(typeof r=="string"){let e;for(;e=Oo.exec(r);)t.push(e[1]);Oo.lastIndex=0}return t}function Vt(r,t,e){let i=`${r}`,n=i.replace(Oo,(o,s)=>{let a=t[s];return a==null&&(e.push(Fy(s)),a=""),a.toString()});return n==i?r:n}var Wy=/-+([a-z0-9])/g;function Bi(r){return r.replace(Wy,(...t)=>t[1].toUpperCase())}function du(r,t){return r===0||t===0}function uu(r,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((o,s)=>{i.has(s)||n.push(s),i.set(s,o)}),n.length)for(let o=1;o<t.length;o++){let s=t[o];n.forEach(a=>s.set(a,zi(r,a)))}}return t}function he(r,t,e){switch(t.type){case P.Trigger:return r.visitTrigger(t,e);case P.State:return r.visitState(t,e);case P.Transition:return r.visitTransition(t,e);case P.Sequence:return r.visitSequence(t,e);case P.Group:return r.visitGroup(t,e);case P.Animate:return r.visitAnimate(t,e);case P.Keyframes:return r.visitKeyframes(t,e);case P.Style:return r.visitStyle(t,e);case P.Reference:return r.visitReference(t,e);case P.AnimateChild:return r.visitAnimateChild(t,e);case P.AnimateRef:return r.visitAnimateRef(t,e);case P.Query:return r.visitQuery(t,e);case P.Stagger:return r.visitStagger(t,e);default:throw Uy(t.type)}}function zi(r,t){return window.getComputedStyle(r)[t]}var is=(()=>{class r{validateStyleProperty(e){return lu(e)}containsElement(e,i){return ko(e,i)}getParentElement(e){return Li(e)}query(e,i,n){return Lo(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,o,s,a=[],m){return new lt(n,o)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=$({token:r,factory:r.\u0275fac})}return r})(),pt=class{static NOOP=new is},ft=class{};var Ky=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),$i=class extends ft{normalizePropertyName(t,e){return Bi(t)}normalizeStyleValue(t,e,i,n){let o="",s=i.toString().trim();if(Ky.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(Fd(t,i))}return s+o}};var Wi="*";function Gy(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(i=>Yy(i,e,t)):e.push(r),e}function Yy(r,t,e){if(r[0]==":"){let m=Qy(r,e);if(typeof m=="function"){t.push(m);return}r=m}let i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Yd(r)),t;let n=i[1],o=i[2],s=i[3];t.push(pu(n,s));let a=n==Wi&&s==Wi;o[0]=="<"&&!a&&t.push(pu(s,n))}function Qy(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(Qd(r)),"* => *"}}var ji=new Set(["true","1"]),Hi=new Set(["false","0"]);function pu(r,t){let e=ji.has(r)||Hi.has(r),i=ji.has(t)||Hi.has(t);return(n,o)=>{let s=r==Wi||r==n,a=t==Wi||t==o;return!s&&e&&typeof n=="boolean"&&(s=n?ji.has(r):Hi.has(r)),!a&&i&&typeof o=="boolean"&&(a=o?ji.has(t):Hi.has(t)),s&&a}}var Eu=":self",Zy=new RegExp(`s*${Eu}s*,?`,"g");function Su(r,t,e,i){return new Wo(r).build(t,e,i)}var fu="",Wo=class{_driver;constructor(t){this._driver=t}build(t,e,i){let n=new Ko(e);return this._resetContextStyleTimingState(n),he(this,Ht(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=fu,t.collectedStyles=new Map,t.collectedStyles.set(fu,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Ud()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==P.State){let m=a,l=m.name;l.toString().split(/\s*,\s*/).forEach(h=>{m.name=h,o.push(this.visitState(m,e))}),m.name=l}else if(a.type==P.Transition){let m=this.visitTransition(a,e);i+=m.queryCount,n+=m.depCount,s.push(m)}else e.errors.push(Bd())}),{type:P.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:n,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=n||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(m=>{zo(m).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&e.errors.push(zd(t.name,[...o.values()]))}return{type:P.State,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=he(this,Ht(t.animation),e),n=Gy(t.expr,e.errors);return{type:P.Transition,matchers:n,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ut(t.options)}}visitSequence(t,e){return{type:P.Sequence,steps:t.steps.map(i=>he(this,i,e)),options:ut(t.options)}}visitGroup(t,e){let i=e.currentTime,n=0,o=t.steps.map(s=>{e.currentTime=i;let a=he(this,s,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:P.Group,steps:o,options:ut(t.options)}}visitAnimate(t,e){let i=t_(t.timings,e.errors);e.currentAnimateTimings=i;let n,o=t.styles?t.styles:oo({});if(o.type==P.Keyframes)n=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=oo(l)}e.currentTime+=i.duration+i.delay;let m=this.visitStyle(s,e);m.isEmptyStep=a,n=m}return e.currentAnimateTimings=null,{type:P.Animate,timings:i,style:n,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===Ie?i.push(a):e.errors.push(jd(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let m of a.values())if(m.toString().indexOf(Fo)>=0){o=!0;break}}}),{type:P.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,m)=>{let l=e.collectedStyles.get(e.currentQuerySelector),h=l.get(m),c=!0;h&&(o!=n&&o>=h.startTime&&n<=h.endTime&&(e.errors.push(Hd(m,h.startTime,h.endTime,o,n)),c=!1),o=h.startTime),c&&l.set(m,{startTime:o,endTime:n}),e.options&&cu(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:P.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Vd()),i;let n=1,o=0,s=[],a=!1,m=!1,l=0,h=t.steps.map(S=>{let I=this._makeStyleAst(S,e),R=I.offset!=null?I.offset:e_(I.styles),M=0;return R!=null&&(o++,M=I.offset=R),m=m||M<0||M>1,a=a||M<l,l=M,s.push(M),I});m&&e.errors.push(qd()),a&&e.errors.push($d());let c=t.steps.length,_=0;o>0&&o<c?e.errors.push(Wd()):o==0&&(_=n/(c-1));let b=c-1,f=e.currentTime,d=e.currentAnimateTimings,v=d.duration;return h.forEach((S,I)=>{let R=_>0?I==b?1:_*I:s[I],M=R*v;e.currentTime=f+d.delay+M,d.duration=M,this._validateStyleAst(S,e),S.offset=R,i.styles.push(S)}),i}visitReference(t,e){return{type:P.Reference,animation:he(this,Ht(t.animation),e),options:ut(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:P.AnimateChild,options:ut(t.options)}}visitAnimateRef(t,e){return{type:P.AnimateRef,animation:this.visitReference(t.animation,e),options:ut(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=Xy(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,fe(e.collectedStyles,e.currentQuerySelector,new Map);let a=he(this,Ht(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:P.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ut(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Kd());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:_r(t.timings,e.errors,!0);return{type:P.Stagger,animation:he(this,Ht(t.animation),e),timings:i,options:null}}};function Xy(r){let t=!!r.split(/\s*,\s*/).find(e=>e==Eu);return t&&(r=r.replace(Zy,"")),r=r.replace(/@\*/g,yr).replace(/@\w+/g,e=>yr+"-"+e.slice(1)).replace(/:animating/g,Ui),[r,t]}function Jy(r){return r?Ce({},r):null}var Ko=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function e_(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function t_(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=_r(r,t).duration;return jo(o,0,"")}let e=r;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=jo(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=_r(e,t);return jo(n.duration,n.delay,n.easing)}function ut(r){return r?(r=Ce({},r),r.params&&(r.params=Jy(r.params))):r={},r}function jo(r,t,e){return{duration:r,delay:t,easing:e}}function ns(r,t,e,i,n,o,s=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:o,totalTime:n+o,easing:s,subTimeline:a}}var vr=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},r_=1,i_=":enter",n_=new RegExp(i_,"g"),o_=":leave",s_=new RegExp(o_,"g");function Tu(r,t,e,i,n,o=new Map,s=new Map,a,m,l=[]){return new Go().buildKeyframes(r,t,e,i,n,o,s,a,m,l)}var Go=class{buildKeyframes(t,e,i,n,o,s,a,m,l,h=[]){l=l||new vr;let c=new Yo(t,e,l,n,o,h,[]);c.options=m;let _=m.delay?Ue(m.delay):0;c.currentTimeline.delayNextStep(_),c.currentTimeline.setStyles([s],null,c.errors,m),he(this,i,c);let b=c.timelines.filter(f=>f.containsAnimation());if(b.length&&a.size){let f;for(let d=b.length-1;d>=0;d--){let v=b[d];if(v.element===e){f=v;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,c.errors,m)}return b.length?b.map(f=>f.buildKeyframes()):[ns(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let n=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let n of t){let o=n?.delay;if(o){let s=typeof o=="number"?o:Ue(Vt(o,n?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Ue(i.duration):null,a=i.delay!=null?Ue(i.delay):null;return s!==0&&t.forEach(m=>{let l=e.appendInstructionToTimeline(m,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),he(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,n=e,o=t.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==P.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ki);let s=Ue(o.delay);n.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>he(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],n=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ue(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),he(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,n=e.params?Vt(i,e.params,e.errors):i;return _r(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());let o=t.style;o.type==P.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,n=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(m=>{let l=m.offset||0;a.forwardTime(l*o),a.setStyles(m.styles,m.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,n=t.options||{},o=n.delay?Ue(n.delay):0;o&&(e.previousNode.type===P.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ki);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let m=null;a.forEach((l,h)=>{e.currentQueryIndex=h;let c=e.createSubContext(t.options,l);o&&c.delayNextStep(o),l===e.element&&(m=c.currentTimeline),he(this,t.animation,c),c.currentTimeline.applyStylesToKeyframe();let _=c.currentTimeline.currentTime;s=Math.max(s,_)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,n=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),m=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=a-m;break;case"full":m=i.currentStaggerTime;break}let h=e.currentTimeline;m&&h.delayNextStep(m);let c=h.currentTime;he(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-c+(n.startTime-i.currentTimeline.startTime)}},Ki={},Yo=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ki;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,n,o,s,a,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=m||new Gi(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,n=this.options;i.duration!=null&&(n.duration=Ue(i.duration)),i.delay!=null&&(n.delay=Ue(i.delay));let o=i.params;if(o){let s=n.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Vt(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){let n=e||this.element,o=new r(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ki,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Qo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,o,s){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(n_,"."+this._enterClassName),t=t.replace(s_,"."+this._leaveClassName);let m=i!=1,l=this._driver.query(this.element,t,m);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(Gd(e)),a}},Gi=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=r_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ie),this._currentKeyframe.set(e,Ie);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},s=a_(t,this._globalTimelineStyles);for(let[a,m]of s){let l=Vt(m,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ie),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,m)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,c)=>{h===or?t.add(c):h===Ie&&e.add(c)}),i||l.set("offset",m/this.duration),n.push(l)});let o=[...t.values()],s=[...e.values()];if(i){let a=n[0],m=new Map(a);a.set("offset",0),m.set("offset",1),n=[a,m]}return ns(this.element,n,o,s,this.duration,this.startTime,this.easing,!1)}},Qo=class extends Gi{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,n,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,m=new Map(t[0]);m.set("offset",0),o.push(m);let l=new Map(t[0]);l.set("offset",hu(a)),o.push(l);let h=t.length-1;for(let c=1;c<=h;c++){let _=new Map(t[c]),b=_.get("offset"),f=e+b*i;_.set("offset",hu(f/s)),o.push(_)}i=s,e=0,n="",t=o}return ns(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}};function hu(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function a_(r,t){let e=new Map,i;return r.forEach(n=>{if(n==="*"){i??=t.keys();for(let o of i)e.set(o,Ie)}else for(let[o,s]of n)e.set(o,s)}),e}function gu(r,t,e,i,n,o,s,a,m,l,h,c,_){return{type:0,element:r,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:m,preStyleProps:l,postStyleProps:h,totalTime:c,errors:_}}var Ho={},Yi=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return l_(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,o,s,a,m,l,h){let c=[],_=this.ast.options&&this.ast.options.params||Ho,b=a&&a.params||Ho,f=this.buildStyles(i,b,c),d=m&&m.params||Ho,v=this.buildStyles(n,d,c),S=new Set,I=new Map,R=new Map,M=n==="void",N={params:Mu(d,_),delay:this.ast.options?.delay},F=h?[]:Tu(t,e,this.ast.animation,o,s,f,v,N,l,c),Y=0;return F.forEach(q=>{Y=Math.max(q.duration+q.delay,Y)}),c.length?gu(e,this._triggerName,i,n,M,f,v,[],[],I,R,Y,c):(F.forEach(q=>{let Me=q.element,ht=fe(I,Me,new Set);q.preStyleProps.forEach(tt=>ht.add(tt));let ws=fe(R,Me,new Set);q.postStyleProps.forEach(tt=>ws.add(tt)),Me!==e&&S.add(Me)}),gu(e,this._triggerName,i,n,M,f,v,F,[...S.values()],I,R,Y))}};function l_(r,t,e,i,n){return r.some(o=>o(t,e,i,n))}function Mu(r,t){let e=Ce({},t);return Object.entries(r).forEach(([i,n])=>{n!=null&&(e[i]=n)}),e}var Zo=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,n=Mu(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Vt(s,n,e));let m=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,m,s,e),i.set(a,s)})}),i}};function m_(r,t,e){return new Xo(r,t,e)}var Xo=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new Zo(n.style,o,i))}),yu(this.states,"true","1"),yu(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new Yi(t,n,this.states))}),this.fallbackTransition=c_(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(s=>s.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function c_(r,t,e){let i=[(s,a)=>!0],n={type:P.Sequence,steps:[],options:null},o={type:P.Transition,animation:n,matchers:i,options:null,queryCount:0,depCount:0};return new Yi(r,o,t)}function yu(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var d_=new vr,Jo=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],n=[],o=Su(this._driver,e,i,n);if(i.length)throw Xd(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let n=t.element,o=Po(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let n=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Tu(this._driver,e,o,Uo,Fi,new Map,new Map,i,d_,n),s.forEach(h=>{let c=fe(a,h.element,new Map);h.postStyleProps.forEach(_=>c.set(_,null))})):(n.push(Jd()),s=[]),n.length)throw eu(n);a.forEach((h,c)=>{h.forEach((_,b)=>{h.set(b,this._driver.computeStyle(c,b,Ie))})});let m=s.map(h=>{let c=a.get(h.element);return this._buildPlayer(h,new Map,c)}),l=Ve(m);return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw tu(t);return e}listen(t,e,i,n){let o=ki(e,"","","");return Ri(this._getPlayer(t),i,o,n),()=>{}}command(t,e,i,n){if(i=="register"){this.register(t,n[0]);return}if(i=="create"){let s=n[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},_u="ng-animate-queued",u_=".ng-animate-queued",Vo="ng-animate-disabled",p_=".ng-animate-disabled",f_="ng-star-inserted",h_=".ng-star-inserted",g_=[],Cu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},y_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oe="__ng_removed",xr=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),n=i?t.value:t;if(this.value=b_(n),i){let o=t,{value:s}=o,a=Ms(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(n=>{i[n]==null&&(i[n]=e[n])})}}},br="void",qo=new xr(br),es=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ee(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw ru(i,e);if(i==null||i.length==0)throw iu(e);if(!v_(i))throw nu(i,e);let o=fe(this._elementListeners,t,[]),s={name:e,phase:i,callback:n};o.push(s);let a=fe(this._engine.statesByElement,t,new Map);return a.has(e)||(Ee(t,gr),Ee(t,gr+"-"+e),a.set(e,qo)),()=>{this._engine.afterFlush(()=>{let m=o.indexOf(s);m>=0&&o.splice(m,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ou(t);return e}trigger(t,e,i,n=!0){let o=this._getTrigger(e),s=new wr(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Ee(t,gr),Ee(t,gr+"-"+e),this._engine.statesByElement.set(t,a=new Map));let m=a.get(e),l=new xr(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&l.absorbOptions(m.options),a.set(e,l),m||(m=qo),!(l.value===br)&&m.value===l.value){if(!E_(m.params,l.params)){let d=[],v=o.matchStyles(m.value,m.params,d),S=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(()=>{et(t,v),Ne(t,S)})}return}let _=fe(this._engine.playersByElement,t,[]);_.forEach(d=>{d.namespaceId==this.id&&d.triggerName==e&&d.queued&&d.destroy()});let b=o.matchTransition(m.value,l.value,t,l.params),f=!1;if(!b){if(!n)return;b=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:m,toState:l,player:s,isFallbackTransition:f}),f||(Ee(t,_u),s.onStart(()=>{qt(t,_u)})),s.onDone(()=>{let d=this.players.indexOf(s);d>=0&&this.players.splice(d,1);let v=this._engine.playersByElement.get(t);if(v){let S=v.indexOf(s);S>=0&&v.splice(S,1)}}),this.players.push(s),_.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,yr,!0);i.forEach(n=>{if(n[Oe])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(s=>s.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((m,l)=>{if(s.set(l,m.value),this._triggers.has(l)){let h=this.trigger(t,l,br,n);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ve(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let n=new Set;e.forEach(o=>{let s=o.name;if(n.has(s))return;n.add(s);let m=this._triggers.get(s).fallbackTransition,l=i.get(s)||qo,h=new xr(br),c=new wr(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:m,fromState:l,toState:h,player:c,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)n=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Oe];(!o||o===Cu)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ee(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let n=i.player;if(n.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let m=ki(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,Ri(i.player,a.phase,m,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{let o=i.transition.ast.depCount,s=n.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ts=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new es(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let m=n.get(a);if(m){let l=i.indexOf(m);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let n of i.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,n){if(Vi(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!Vi(e))return;let o=e[Oe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ee(t,Vo)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qt(t,Vo))}removeNode(t,e,i){if(Vi(e)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,o){this.collectedLeaveElements.push(e),e[Oe]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,n,o){return Vi(e)?this._fetchNamespace(t).listen(e,i,n,o):()=>{}}_buildInstruction(t,e,i,n,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,yr,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ui,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ve(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Oe];if(e&&e.setForRemoval){if(t[Oe]=Cu,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Vo)&&this.markElementAsDisabled(t,!1),this.driver.query(t,p_,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let n=this.collectedEnterElements[i];Ee(n,f_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let n=this.collectedLeaveElements[i];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ve(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw su(t)}_flushAnimations(t,e){let i=new vr,n=[],o=new Map,s=[],a=new Map,m=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(E=>{h.add(E);let T=this.driver.query(E,u_,!0);for(let C=0;C<T.length;C++)h.add(T[C])});let c=this.bodyNode,_=Array.from(this.statesByElement.keys()),b=xu(_,this.collectedEnterElements),f=new Map,d=0;b.forEach((E,T)=>{let C=Uo+d++;f.set(T,C),E.forEach(U=>Ee(U,C))});let v=[],S=new Set,I=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){let T=this.collectedLeaveElements[E],C=T[Oe];C&&C.setForRemoval&&(v.push(T),S.add(T),C.hasAnimation?this.driver.query(T,h_,!0).forEach(U=>S.add(U)):I.add(T))}let R=new Map,M=xu(_,Array.from(S));M.forEach((E,T)=>{let C=Fi+d++;R.set(T,C),E.forEach(U=>Ee(U,C))}),t.push(()=>{b.forEach((E,T)=>{let C=f.get(T);E.forEach(U=>qt(U,C))}),M.forEach((E,T)=>{let C=R.get(T);E.forEach(U=>qt(U,C))}),v.forEach(E=>{this.processLeaveNode(E)})});let N=[],F=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(C=>{let U=C.player,ne=C.element;if(N.push(U),this.collectedEnterElements.length){let le=ne[Oe];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(C.triggerName)){let rt=le.previousTriggersValues.get(C.triggerName),be=this.statesByElement.get(C.element);if(be&&be.has(C.triggerName)){let Cr=be.get(C.triggerName);Cr.value=rt,be.set(C.triggerName,Cr)}}U.destroy();return}}let Pe=!c||!this.driver.containsElement(c,ne),ge=R.get(ne),qe=f.get(ne),Z=this._buildInstruction(C,i,qe,ge,Pe);if(Z.errors&&Z.errors.length){F.push(Z);return}if(Pe){U.onStart(()=>et(ne,Z.fromStyles)),U.onDestroy(()=>Ne(ne,Z.toStyles)),n.push(U);return}if(C.isFallbackTransition){U.onStart(()=>et(ne,Z.fromStyles)),U.onDestroy(()=>Ne(ne,Z.toStyles)),n.push(U);return}let Ts=[];Z.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||Ts.push(le)}),Z.timelines=Ts,i.append(ne,Z.timelines);let Cp={instruction:Z,player:U,element:ne};s.push(Cp),Z.queriedElements.forEach(le=>fe(a,le,[]).push(U)),Z.preStyleProps.forEach((le,rt)=>{if(le.size){let be=m.get(rt);be||m.set(rt,be=new Set),le.forEach((Cr,Wn)=>be.add(Wn))}}),Z.postStyleProps.forEach((le,rt)=>{let be=l.get(rt);be||l.set(rt,be=new Set),le.forEach((Cr,Wn)=>be.add(Wn))})});if(F.length){let E=[];F.forEach(T=>{E.push(au(T.triggerName,T.errors))}),N.forEach(T=>T.destroy()),this.reportError(E)}let Y=new Map,q=new Map;s.forEach(E=>{let T=E.element;i.has(T)&&(q.set(T,T),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,Y))}),n.forEach(E=>{let T=E.element;this._getPreviousPlayers(T,!1,E.namespaceId,E.triggerName,null).forEach(U=>{fe(Y,T,[]).push(U),U.destroy()})});let Me=v.filter(E=>wu(E,m,l)),ht=new Map;vu(ht,this.driver,I,l,Ie).forEach(E=>{wu(E,m,l)&&Me.push(E)});let tt=new Map;b.forEach((E,T)=>{vu(tt,this.driver,new Set(E),m,or)}),Me.forEach(E=>{let T=ht.get(E),C=tt.get(E);ht.set(E,new Map([...T?.entries()??[],...C?.entries()??[]]))});let $n=[],Es=[],Ss={};s.forEach(E=>{let{element:T,player:C,instruction:U}=E;if(i.has(T)){if(h.has(T)){C.onDestroy(()=>Ne(T,U.toStyles)),C.disabled=!0,C.overrideTotalTime(U.totalTime),n.push(C);return}let ne=Ss;if(q.size>1){let ge=T,qe=[];for(;ge=ge.parentNode;){let Z=q.get(ge);if(Z){ne=Z;break}qe.push(ge)}qe.forEach(Z=>q.set(Z,ne))}let Pe=this._buildAnimation(C.namespaceId,U,Y,o,tt,ht);if(C.setRealPlayer(Pe),ne===Ss)$n.push(C);else{let ge=this.playersByElement.get(ne);ge&&ge.length&&(C.parentPlayer=Ve(ge)),n.push(C)}}else et(T,U.fromStyles),C.onDestroy(()=>Ne(T,U.toStyles)),Es.push(C),h.has(T)&&n.push(C)}),Es.forEach(E=>{let T=o.get(E.element);if(T&&T.length){let C=Ve(T);E.setRealPlayer(C)}}),n.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<v.length;E++){let T=v[E],C=T[Oe];if(qt(T,Fi),C&&C.hasAnimation)continue;let U=[];if(a.size){let Pe=a.get(T);Pe&&Pe.length&&U.push(...Pe);let ge=this.driver.query(T,Ui,!0);for(let qe=0;qe<ge.length;qe++){let Z=a.get(ge[qe]);Z&&Z.length&&U.push(...Z)}}let ne=U.filter(Pe=>!Pe.destroyed);ne.length?x_(this,T,ne):this.processLeaveNode(T)}return v.length=0,$n.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let T=this.players.indexOf(E);this.players.splice(T,1)}),E.play()}),$n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let m=!o||o==br;a.forEach(l=>{l.queued||!m&&l.triggerName!=n||s.push(l)})}}return(i||n)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let n=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:n;for(let m of e.timelines){let l=m.element,h=l!==o,c=fe(i,l,[]);this._getPreviousPlayers(l,h,s,a,e.toState).forEach(b=>{let f=b.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),b.destroy(),c.push(b)})}et(o,e.fromStyles)}_buildAnimation(t,e,i,n,o,s){let a=e.triggerName,m=e.element,l=[],h=new Set,c=new Set,_=e.timelines.map(f=>{let d=f.element;h.add(d);let v=d[Oe];if(v&&v.removedBeforeQueried)return new lt(f.duration,f.delay);let S=d!==m,I=w_((i.get(d)||g_).map(Y=>Y.getRealPlayer())).filter(Y=>{let q=Y;return q.element?q.element===d:!1}),R=o.get(d),M=s.get(d),N=Po(this._normalizer,f.keyframes,R,M),F=this._buildPlayer(f,N,I);if(f.subTimeline&&n&&c.add(d),S){let Y=new wr(t,a,d);Y.setRealPlayer(F),l.push(Y)}return F});l.forEach(f=>{fe(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>__(this.playersByQueriedElement,f.element,f))}),h.forEach(f=>Ee(f,Bo));let b=Ve(_);return b.onDestroy(()=>{h.forEach(f=>qt(f,Bo)),Ne(m,e.toStyles)}),c.forEach(f=>{fe(n,f,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new lt(t.duration,t.delay)}},wr=class{namespaceId;triggerName;element;_player=new lt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>Ri(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function __(r,t,e){let i=r.get(t);if(i){if(i.length){let n=i.indexOf(e);i.splice(n,1)}i.length==0&&r.delete(t)}return i}function b_(r){return r??null}function Vi(r){return r&&r.nodeType===1}function v_(r){return r=="start"||r=="done"}function bu(r,t){let e=r.style.display;return r.style.display=t??"none",e}function vu(r,t,e,i,n){let o=[];e.forEach(m=>o.push(bu(m)));let s=[];i.forEach((m,l)=>{let h=new Map;m.forEach(c=>{let _=t.computeStyle(l,c,n);h.set(c,_),(!_||_.length==0)&&(l[Oe]=y_,s.push(l))}),r.set(l,h)});let a=0;return e.forEach(m=>bu(m,o[a++])),s}function xu(r,t){let e=new Map;if(r.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,n=new Set(t),o=new Map;function s(a){if(!a)return i;let m=o.get(a);if(m)return m;let l=a.parentNode;return e.has(l)?m=l:n.has(l)?m=i:m=s(l),o.set(a,m),m}return t.forEach(a=>{let m=s(a);m!==i&&e.get(m).push(a)}),e}function Ee(r,t){r.classList?.add(t)}function qt(r,t){r.classList?.remove(t)}function x_(r,t,e){Ve(e).onDone(()=>r.processLeaveNode(t))}function w_(r){let t=[];return Iu(r,t),t}function Iu(r,t){for(let e=0;e<r.length;e++){let i=r[e];i instanceof ti?Iu(i.players,t):t.push(i)}}function E_(r,t){let e=Object.keys(r),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}function wu(r,t,e){let i=e.get(r);if(!i)return!1;let n=t.get(r);return n?i.forEach(o=>n.add(o)):t.set(r,i),e.delete(r),!0}var $t=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new ts(t.body,e,i),this._timelineEngine=new Jo(t.body,e,i),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(t,e,i,n,o){let s=t+"-"+n,a=this._triggerCache[s];if(!a){let m=[],l=[],h=Su(this._driver,o,m,l);if(m.length)throw Zd(n,m);a=m_(n,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,n,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if(i.charAt(0)=="@"){let[o,s]=Ro(i),a=n;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,o){if(i.charAt(0)=="@"){let[s,a]=Ro(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,n,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function S_(r,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$o(t[0]),t.length>1&&(i=$o(t[t.length-1]))):t instanceof Map&&(e=$o(t)),e||i?new T_(r,e,i):null}var T_=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ne(this._element,this._initialStyles),this._endStyles&&(Ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(et(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(et(this._element,this._endStyles),this._endStyles=null),Ne(this._element,this._initialStyles),this._state=3)}}return r})();function $o(r){let t=null;return r.forEach((e,i)=>{M_(i)&&(t=t||new Map,t.set(i,e))}),t}function M_(r){return r==="display"||r==="position"}var Qi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{n!=="offset"&&t.set(n,this._finished?i:zi(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Zi=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ko(t,e)}getParentElement(t){return Li(t)}query(t,e,i){return Lo(t,e,i)}computeStyle(t,e,i){return zi(t,e)}animate(t,e,i,n,o,s=[]){let a=n==0?"both":"forwards",m={duration:i,delay:n,fill:a};o&&(m.easing=o);let l=new Map,h=s.filter(b=>b instanceof Qi);du(i,n)&&h.forEach(b=>{b.currentSnapshot.forEach((f,d)=>l.set(d,f))});let c=mu(e).map(b=>new Map(b));c=uu(t,c,l);let _=S_(t,c);return new Qi(t,c,m,_)}};var qi="@",Du="@.disabled",Xi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==qi&&e==Du?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,n){return this.delegate.listen(t,e,i,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},rs=class extends Xi{factory;constructor(t,e,i,n,o){super(e,i,n,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==qi?e.charAt(1)=="."&&e==Du?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,n){if(e.charAt(0)==qi){let o=C_(t),s=e.slice(1),a="";return s.charAt(0)!=qi&&([s,a]=I_(s)),this.engine.listen(this.namespaceId,o,s,a,m=>{let l=m._data||-1;this.factory.scheduleListenerCallback(l,i,m)})}return this.delegate.listen(t,e,i,n)}};function C_(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function I_(r){let t=r.indexOf("."),e=r.substring(0,t),i=r.slice(t+1);return[e,i]}var Ji=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(n,o)=>{o?.removeChild(null,n)}}createRenderer(t,e){let i="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let l=this._rendererCache,h=l.get(n);if(!h){let c=()=>l.delete(n);h=new Xi(i,n,this.engine,c),l.set(n,h)}return h}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return e.data.animation.forEach(a),new rs(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var A_=(()=>{class r extends $t{constructor(e,i,n){super(e,i,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||r)(j(Pr),j(pt),j(ft))};static \u0275prov=$({token:r,factory:r.\u0275fac})}return r})();function N_(){return new $i}function O_(r,t,e){return new Ji(r,t,e)}var Nu=[{provide:ft,useFactory:N_},{provide:$t,useClass:A_},{provide:Zs,useFactory:O_,deps:[ha,$t,ke]}],P_=[{provide:pt,useClass:is},{provide:er,useValue:"NoopAnimations"},...Nu],Au=[{provide:pt,useFactory:()=>new Zi},{provide:er,useFactory:()=>"BrowserAnimations"},...Nu],Ou=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?P_:Au}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=_e({type:r});static \u0275inj=ye({providers:Au,imports:[Rr]})}return r})();var Pu=(()=>{class r{constructor(e,i){this.http=e,this.metaData=new Is([]),this.api=i.ServerWithApiUrl,e.get(`${this.api}massUpload/metaData`).subscribe(n=>this.metaData.next(n))}getTemplateUrl(e){return`${this.api}massUpload/template/${e}`}getTemplatePrefilledUrl(e,i){let n=window.btoa(JSON.stringify(i));return`${this.api}massimport/template/${e}Prefilled/${n}`}verify(e,i){let n=new FormData;return n.append("file",e,e.name),this.http.post(`${this.api}massUpload/verify/${i}`,n)}load(e,i,n){let o=new FormData;return o.append("file",e,e.name),o.append("sendEmail",String(i)),this.http.post(`${this.api}massUpload/load/${n}`,o)}downloadResults(e,i,n){let o=new FormData;return o.append("file",e,e.name),o.append("responseString",JSON.stringify(i)),this.http.post(`${this.api}massUpload/results/${n}`,o,{responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||r)(j($e),j(V))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var en=class{constructor(){this.version=0,this.category=""}};function Ru(r,t){return ri(r,t*12)}function ku(r,t){let e=re(r);if(isNaN(e.getTime()))throw new RangeError("Invalid time value");let i=t?.format??"extended",n=t?.representation??"complete",o="",s="",a=i==="extended"?"-":"",m=i==="extended"?":":"";if(n!=="time"){let l=ze(e.getDate(),2),h=ze(e.getMonth()+1,2);o=`${ze(e.getFullYear(),4)}${a}${h}${a}${l}`}if(n!=="date"){let l=e.getTimezoneOffset();if(l!==0){let d=Math.abs(l),v=ze(Math.trunc(d/60),2),S=ze(d%60,2);s=`${l<0?"+":"-"}${v}:${S}`}else s="Z";let h=ze(e.getHours(),2),c=ze(e.getMinutes(),2),_=ze(e.getSeconds(),2),b=o===""?"":"T",f=[h,c,_].join(m);o=`${o}${b}${f}${s}`}return o}function Lu(){return Object.assign({},ii())}function Fu(r){let e=re(r).getDay();return e===0&&(e=7),e}function Uu(r){return re(r).getSeconds()}function Bu(r,t){let e=t instanceof Date?Q(t,0):new t(0);return e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),e.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e}var k_=10,tn=class{subPriority=0;validate(t,e){return!0}},rn=class extends tn{constructor(t,e,i,n,o){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=n,o&&(this.subPriority=o)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}},nn=class extends tn{priority=k_;subPriority=-1;set(t,e){return e.timestampIsSet?t:Q(t,Bu(t,Date))}};var w=class{run(t,e,i,n){let o=this.parse(t,e,i,n);return o?{setter:new rn(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,e,i){return!0}};var on=class extends w{priority=140;parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]};var L={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Se={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function H(r,t){return r&&{value:t(r.value),rest:r.rest}}function k(r,t){let e=t.match(r);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Te(r,t){let e=t.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};let i=e[1]==="+"?1:-1,n=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:i*(n*ar+o*sr+s*Yl),rest:t.slice(e[0].length)}}function sn(r){return k(L.anyDigitsSigned,r)}function D(r,t){switch(r){case 1:return k(L.singleDigit,t);case 2:return k(L.twoDigits,t);case 3:return k(L.threeDigits,t);case 4:return k(L.fourDigits,t);default:return k(new RegExp("^\\d{1,"+r+"}"),t)}}function Wt(r,t){switch(r){case 1:return k(L.singleDigitSigned,t);case 2:return k(L.twoDigitsSigned,t);case 3:return k(L.threeDigitsSigned,t);case 4:return k(L.fourDigitsSigned,t);default:return k(new RegExp("^-?\\d{1,"+r+"}"),t)}}function Kt(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function an(r,t){let e=t>0,i=e?t:1-t,n;if(i<=50)n=r||100;else{let o=i+50,s=Math.trunc(o/100)*100,a=r>=o%100;n=r+s-(a?100:0)}return e?n:1-n}function ln(r){return r%400===0||r%4===0&&r%100!==0}var mn=class extends w{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,i){let n=o=>({year:o,isTwoDigitYear:e==="yy"});switch(e){case"y":return H(D(4,t),n);case"yo":return H(i.ordinalNumber(t,{unit:"year"}),n);default:return H(D(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){let n=t.getFullYear();if(i.isTwoDigitYear){let s=an(i.year,n);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}let o=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}};var cn=class extends w{priority=130;parse(t,e,i){let n=o=>({year:o,isTwoDigitYear:e==="YY"});switch(e){case"Y":return H(D(4,t),n);case"Yo":return H(i.ordinalNumber(t,{unit:"year"}),n);default:return H(D(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,n){let o=om(t,n);if(i.isTwoDigitYear){let a=an(i.year,o);return t.setFullYear(a,0,n.firstWeekContainsDate),t.setHours(0,0,0,0),lr(t,n)}let s=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(s,0,n.firstWeekContainsDate),t.setHours(0,0,0,0),lr(t,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var dn=class extends w{priority=130;parse(t,e){return e==="R"?Wt(4,t):Wt(e.length,t)}set(t,e,i){let n=Q(t,0);return n.setFullYear(i,0,4),n.setHours(0,0,0,0),ni(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var un=class extends w{priority=130;parse(t,e){return e==="u"?Wt(4,t):Wt(e.length,t)}set(t,e,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var pn=class extends w{priority=120;parse(t,e,i){switch(e){case"Q":case"QQ":return D(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var fn=class extends w{priority=120;parse(t,e,i){switch(e){case"q":case"qq":return D(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var hn=class extends w{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,i){let n=o=>o-1;switch(e){case"M":return H(k(L.month,t),n);case"MM":return H(D(2,t),n);case"Mo":return H(i.ordinalNumber(t,{unit:"month"}),n);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}};var gn=class extends w{priority=110;parse(t,e,i){let n=o=>o-1;switch(e){case"L":return H(k(L.month,t),n);case"LL":return H(D(2,t),n);case"Lo":return H(i.ordinalNumber(t,{unit:"month"}),n);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function zu(r,t,e){let i=re(r),n=sm(i,e)-t;return i.setDate(i.getDate()-n*7),i}var yn=class extends w{priority=100;parse(t,e,i){switch(e){case"w":return k(L.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return D(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,n){return lr(zu(t,i,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function ju(r,t){let e=re(r),i=nm(e)-t;return e.setDate(e.getDate()-i*7),e}var _n=class extends w{priority=100;parse(t,e,i){switch(e){case"I":return k(L.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return D(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return ni(ju(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var L_=[31,28,31,30,31,30,31,31,30,31,30,31],F_=[31,29,31,30,31,30,31,31,30,31,30,31],bn=class extends w{priority=90;subPriority=1;parse(t,e,i){switch(e){case"d":return k(L.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return D(e.length,t)}}validate(t,e){let i=t.getFullYear(),n=ln(i),o=t.getMonth();return n?e>=1&&e<=F_[o]:e>=1&&e<=L_[o]}set(t,e,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var vn=class extends w{priority=90;subpriority=1;parse(t,e,i){switch(e){case"D":case"DD":return k(L.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return D(e.length,t)}}validate(t,e){let i=t.getFullYear();return ln(i)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function Gt(r,t,e){let i=ii(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=re(r),s=o.getDay(),m=(t%7+7)%7,l=7-n,h=t<0||t>6?t-(s+l)%7:(m+l)%7-(s+l)%7;return Dt(o,h)}var xn=class extends w{priority=90;parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return t=Gt(t,i,n),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]};var wn=class extends w{priority=90;parse(t,e,i,n){let o=s=>{let a=Math.floor((s-1)/7)*7;return(s+n.weekStartsOn+6)%7+a};switch(e){case"e":case"ee":return H(D(e.length,t),o);case"eo":return H(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return t=Gt(t,i,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var En=class extends w{priority=90;parse(t,e,i,n){let o=s=>{let a=Math.floor((s-1)/7)*7;return(s+n.weekStartsOn+6)%7+a};switch(e){case"c":case"cc":return H(D(e.length,t),o);case"co":return H(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return t=Gt(t,i,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function Hu(r,t){let e=re(r),i=Fu(e),n=t-i;return Dt(e,n)}var Sn=class extends w{priority=90;parse(t,e,i){let n=o=>o===0?7:o;switch(e){case"i":case"ii":return D(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return H(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n);case"iiiii":return H(i.day(t,{width:"narrow",context:"formatting"}),n);case"iiiiii":return H(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n);case"iiii":default:return H(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=Hu(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var Tn=class extends w{priority=80;parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(Kt(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]};var Mn=class extends w{priority=80;parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(Kt(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]};var Cn=class extends w{priority=80;parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(Kt(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]};var In=class extends w{priority=70;parse(t,e,i){switch(e){case"h":return k(L.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return D(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){let n=t.getHours()>=12;return n&&i<12?t.setHours(i+12,0,0,0):!n&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]};var Dn=class extends w{priority=70;parse(t,e,i){switch(e){case"H":return k(L.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return D(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]};var An=class extends w{priority=70;parse(t,e,i){switch(e){case"K":return k(L.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return D(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]};var Nn=class extends w{priority=70;parse(t,e,i){switch(e){case"k":return k(L.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return D(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){let n=i<=24?i%24:i;return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]};var On=class extends w{priority=60;parse(t,e,i){switch(e){case"m":return k(L.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return D(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]};var Pn=class extends w{priority=50;parse(t,e,i){switch(e){case"s":return k(L.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return D(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]};var Rn=class extends w{priority=30;parse(t,e){let i=n=>Math.trunc(n*Math.pow(10,-e.length+3));return H(D(e.length,t),i)}set(t,e,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]};var kn=class extends w{priority=10;parse(t,e){switch(e){case"X":return Te(Se.basicOptionalMinutes,t);case"XX":return Te(Se.basic,t);case"XXXX":return Te(Se.basicOptionalSeconds,t);case"XXXXX":return Te(Se.extendedOptionalSeconds,t);case"XXX":default:return Te(Se.extended,t)}}set(t,e,i){return e.timestampIsSet?t:Q(t,t.getTime()-oi(t)-i)}incompatibleTokens=["t","T","x"]};var Ln=class extends w{priority=10;parse(t,e){switch(e){case"x":return Te(Se.basicOptionalMinutes,t);case"xx":return Te(Se.basic,t);case"xxxx":return Te(Se.basicOptionalSeconds,t);case"xxxxx":return Te(Se.extendedOptionalSeconds,t);case"xxx":default:return Te(Se.extended,t)}}set(t,e,i){return e.timestampIsSet?t:Q(t,t.getTime()-oi(t)-i)}incompatibleTokens=["t","T","X"]};var Fn=class extends w{priority=40;parse(t){return sn(t)}set(t,e,i){return[Q(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var Un=class extends w{priority=20;parse(t){return sn(t)}set(t,e,i){return[Q(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"};var Vu={G:new on,y:new mn,Y:new cn,R:new dn,u:new un,Q:new pn,q:new fn,M:new hn,L:new gn,w:new yn,I:new _n,d:new bn,D:new vn,E:new xn,e:new wn,c:new En,i:new Sn,a:new Tn,b:new Mn,B:new Cn,h:new In,H:new Dn,K:new An,k:new Nn,m:new On,s:new Pn,S:new Rn,X:new kn,x:new Ln,t:new Fn,T:new Un};var U_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z_=/^'([^]*?)'?$/,j_=/''/g,H_=/\S/,V_=/[a-zA-Z]/;function qu(r,t,e,i){let n=Lu(),o=i?.locale??n.locale??im,s=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0;if(t==="")return r===""?re(e):Q(e,NaN);let m={firstWeekContainsDate:s,weekStartsOn:a,locale:o},l=[new nn],h=t.match(B_).map(d=>{let v=d[0];if(v in so){let S=so[v];return S(d,o.formatLong)}return d}).join("").match(U_),c=[];for(let d of h){!i?.useAdditionalWeekYearTokens&&lm(d)&&ao(d,t,r),!i?.useAdditionalDayOfYearTokens&&am(d)&&ao(d,t,r);let v=d[0],S=Vu[v];if(S){let{incompatibleTokens:I}=S;if(Array.isArray(I)){let M=c.find(N=>I.includes(N.token)||N.token===v);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${d}\` at the same time`)}else if(S.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${d}\` and any other token at the same time`);c.push({token:v,fullToken:d});let R=S.run(r,d,o.match,m);if(!R)return Q(e,NaN);l.push(R.setter),r=R.rest}else{if(v.match(V_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(d==="''"?d="'":v==="'"&&(d=q_(d)),r.indexOf(d)===0)r=r.slice(d.length);else return Q(e,NaN)}}if(r.length>0&&H_.test(r))return Q(e,NaN);let _=l.map(d=>d.priority).sort((d,v)=>v-d).filter((d,v,S)=>S.indexOf(d)===v).map(d=>l.filter(v=>v.priority===d).sort((v,S)=>S.subPriority-v.subPriority)).map(d=>d[0]),b=re(e);if(isNaN(b.getTime()))return Q(e,NaN);let f={};for(let d of _){if(!d.validate(b,m))return Q(e,NaN);let v=d.set(b,f,m);Array.isArray(v)?(b=v[0],Object.assign(f,v[1])):b=v}return Q(e,b)}function q_(r){return r.match(z_)[1].replace(j_,"'")}function ss(r,t){let e=t?.additionalDigits??2,i=G_(r),n;if(i.date){let m=Y_(i.date,e);n=Q_(m.restDateString,m.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);let o=n.getTime(),s=0,a;if(i.time&&(s=Z_(i.time),isNaN(s)))return new Date(NaN);if(i.timezone){if(a=X_(i.timezone),isNaN(a))return new Date(NaN)}else{let m=new Date(o+s),l=new Date(0);return l.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),l.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),l}return new Date(o+s+a)}var Bn={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,W_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function G_(r){let t={},e=r.split(Bn.dateTimeDelimiter),i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],Bn.timeZoneDelimiter.test(t.date)&&(t.date=r.split(Bn.timeZoneDelimiter)[0],i=r.substr(t.date.length,r.length))),i){let n=Bn.timezone.exec(i);n?(t.time=i.replace(n[1],""),t.timezone=n[1]):t.time=i}return t}function Y_(r,t){let e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=r.match(e);if(!i)return{year:NaN,restDateString:""};let n=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?n:o*100,restDateString:r.slice((i[1]||i[2]).length)}}function Q_(r,t){if(t===null)return new Date(NaN);let e=r.match($_);if(!e)return new Date(NaN);let i=!!e[4],n=Er(e[1]),o=Er(e[2])-1,s=Er(e[3]),a=Er(e[4]),m=Er(e[5])-1;if(i)return ib(t,a,m)?J_(t,a,m):new Date(NaN);{let l=new Date(0);return!tb(t,o,s)||!rb(t,n)?new Date(NaN):(l.setUTCFullYear(t,o,Math.max(n,s)),l)}}function Er(r){return r?parseInt(r):1}function Z_(r){let t=r.match(W_);if(!t)return NaN;let e=os(t[1]),i=os(t[2]),n=os(t[3]);return nb(e,i,n)?e*ar+i*sr+n*1e3:NaN}function os(r){return r&&parseFloat(r.replace(",","."))||0}function X_(r){if(r==="Z")return 0;let t=r.match(K_);if(!t)return 0;let e=t[1]==="+"?-1:1,i=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return ob(i,n)?e*(i*ar+n*sr):NaN}function J_(r,t,e){let i=new Date(0);i.setUTCFullYear(r,0,4);let n=i.getUTCDay()||7,o=(t-1)*7+e+1-n;return i.setUTCDate(i.getUTCDate()+o),i}var eb=[31,null,31,30,31,30,31,31,30,31,30,31];function $u(r){return r%400===0||r%4===0&&r%100!==0}function tb(r,t,e){return t>=0&&t<=11&&e>=1&&e<=(eb[t]||($u(r)?29:28))}function rb(r,t){return t>=1&&t<=($u(r)?366:365)}function ib(r,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function nb(r,t,e){return r===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&r>=0&&r<25}function ob(r,t){return t>=0&&t<=59}function Wu(r,t){let e=re(r);return isNaN(+e)?Q(r,NaN):(t.year!=null&&e.setFullYear(t.year),t.month!=null&&(e=gm(e,t.month)),t.date!=null&&e.setDate(t.date),t.hours!=null&&e.setHours(t.hours),t.minutes!=null&&e.setMinutes(t.minutes),t.seconds!=null&&e.setSeconds(t.seconds),t.milliseconds!=null&&e.setMilliseconds(t.milliseconds),e)}var sb=["uploadField"];function ab(r,t){if(r&1&&(u(0,"mat-option",30),y(1),p()),r&2){let e=t.$implicit;x("value",e),g(),K(" ",e.massUploadName," ")}}function lb(r,t){if(r&1&&(u(0,"mat-optgroup",28),z(1,ab,2,2,"mat-option",29),p()),r&2){let e=t.$implicit;x("label",e[0].category),g(),x("ngForOf",e)}}function mb(r,t){if(r&1){let e=me();u(0,"mat-form-field",25)(1,"mat-label"),y(2,"Select Mass Upload Type"),p(),u(3,"mat-select",26),W("selectionChange",function(){X(e);let n=A();return J(n.resetFields())}),st("ngModelChange",function(n){X(e);let o=A();return ot(o.selectedMassUpload,n)||(o.selectedMassUpload=n),J(n)}),z(4,lb,2,2,"mat-optgroup",27),p()()}if(r&2){let e=A();g(3),nt("ngModel",e.selectedMassUpload),g(),x("ngForOf",e.massUploadsByCategory)}}function cb(r,t){if(r&1&&(u(0,"p"),y(1),_t(2,"number"),p()),r&2){let e=A();g(),K(" Version ",sa(2,1,e.selectedMassUpload==null?null:e.selectedMassUpload.version,"1.2")," ")}}function db(r,t){if(r&1&&(u(0,"div",31),y(1),p()),r&2){let e=A();g(),oe(e.verifyError)}}function ub(r,t){if(r&1&&(u(0,"div",31),y(1),p()),r&2){let e=A();g(),oe(e.uploadError)}}function pb(r,t){if(r&1&&(u(0,"div")(1,"p",13),y(2,"Processing Mass Upload"),p(),ee(3,"mat-progress-bar",32),p()),r&2){let e=A();g(3),x("value",e.progressBarValue)}}function fb(r,t){r&1&&ee(0,"div")}function hb(r,t){if(r&1&&(u(0,"div",43)(1,"div",44),y(2),p(),u(3,"div",13),y(4),p()()),r&2){let e=A().$implicit;g(2),K(" ",e.excelRowNumber," "),g(2),K(" ",e.message," ")}}function gb(r,t){if(r&1&&(u(0,"div",13),y(1),p()),r&2){let e=A().$implicit;g(),K(" ",e.message," ")}}function yb(r,t){if(r&1&&(u(0,"div"),z(1,fb,1,0,"div",42)(2,hb,5,2,"ng-template",null,2,ue)(4,gb,2,1,"ng-template",null,3,ue),p()),r&2){let e=t.$implicit,i=te(3),n=te(5);g(),x("ngIf",e.excelRowNumber!==-1)("ngIfThen",i)("ngIfElse",n)}}function _b(r,t){r&1&&ee(0,"div")}function bb(r,t){if(r&1&&(u(0,"div",43)(1,"div",44),y(2),p(),u(3,"div",13),y(4),p()()),r&2){let e=A().$implicit;g(2),K(" ",e.excelRowNumber," "),g(2),K(" ",e.message," ")}}function vb(r,t){if(r&1&&(u(0,"div",13),y(1),p()),r&2){let e=A().$implicit;g(),K(" ",e.message," ")}}function xb(r,t){if(r&1&&(u(0,"div"),z(1,_b,1,0,"div",42)(2,bb,5,2,"ng-template",null,4,ue)(4,vb,2,1,"ng-template",null,5,ue),p()),r&2){let e=t.$implicit,i=te(3),n=te(5);g(),x("ngIf",e.excelRowNumber!==-1)("ngIfThen",i)("ngIfElse",n)}}function wb(r,t){if(r&1&&(u(0,"div")(1,"p"),y(2," Were not uploaded: "),u(3,"b"),y(4),p()(),z(5,xb,6,3,"div",41),p()),r&2){let e=A(2);g(4),oe(e.unuploadedObjects.length),g(),x("ngForOf",e.unuploadedObjects)}}function Eb(r,t){if(r&1){let e=me();u(0,"mat-card",33)(1,"mat-card-header",34)(2,"mat-card-title"),y(3,"Result"),p(),u(4,"button",35),W("click",function(){X(e);let n=A();return J(n.downloadMassUploadResults())}),u(5,"mat-icon"),y(6,"download"),p()()(),u(7,"mat-card-content",36)(8,"div",37)(9,"span",13),y(10),p(),u(11,"span",38),y(12),p(),u(13,"span",31),y(14),p(),u(15,"span",39),y(16),p()(),u(17,"div",40),z(18,yb,6,3,"div",41)(19,wb,6,2,"div",14),p()()()}if(r&2){let e=A();g(10),K("Total records processed: ",e.totalRecords,""),g(2),K("Successful: ",e.successCount,""),g(2),K("Errors: ",e.errorCount,""),g(2),K("Ignored: ",e.ignoreCount,""),g(2),x("ngForOf",e.errors),g(),x("ngIf",e.unuploadedObjects&&e.unuploadedObjects.length)}}function Sb(r,t){r&1&&ee(0,"app-spinner")}var Ku=(()=>{class r{constructor(e,i,n,o,s){this.snackBar=e,this.massUploadService=i,this.authorizationService=n,this.dataUpdateService=o,this.store=s,this.isUploadDisabled=!0,this.isLoadingResults=!1,this.isUploading=!1,this.sendEmail=!1,this.verifyError="",this.uploadError="",this.completeMassUploadResponse=null,this.totalRecords=0,this.successCount=0,this.errorCount=0,this.ignoreCount=0,this.progressBarValue=0,this.errors=[],this.unuploadedObjects=[],this.FORTY_MEGABYTES=4e7,this.isReadOnlyMode=!1,this.store.select(Br).subscribe(a=>{a&&(this.currentUser=a)}),this.store.select(Qr).subscribe(a=>this.isReadOnlyMode=a)}get downloadTemplateUrl(){return this.massUploadService.getTemplateUrl(this.selectedMassUpload?.type??"")}get isChooseFileDisabled(){let e="0";return this.selectedMassUpload?.massUploadName===void 0?!0:this.authorizationService.doesUserHaveRoleForSite(Fe.ADMINISTRATOR_SYSTEM,e)?!1:this.isReadOnlyMode}ngOnInit(){this.selectedMassUpload=new en,this.massUploadService.metaData.subscribe(e=>{e&&(this.massUploadsByCategory=Object.values(hr(e,i=>i.category)))}),this.updateSubscription=this.dataUpdateService.updateEmitter.subscribe(e=>{e.updatedType===Yr.MASS_UPLOAD_PROGRESS&&e.userWbi===this.currentUser.wbi&&(this.progressBarValue=e.updateData)})}ngOnDestroy(){this.updateSubscription?.unsubscribe()}setFile(e){return Zt(this,null,function*(){let i=e.target;if(this.isUploadDisabled=!0,this.isUploading=!1,this.resetResults(),i.files&&i.files.length>0){let n=i.files[0];if(n.size>this.FORTY_MEGABYTES)this.elementRef.nativeElement.value="",at.displayErrorMsg(this.snackBar,"File exceeds maximum limit of 40MB.");else{this.file=n,this.fileName=n.name,this.fileSize=n.size/1e3+" KB",this.fileDateModified=ai(new Date(n.lastModified),"yyyy-MM-dd HH:mm");let o=yield this.verify(this.file);o&&(this.recordsMetaData="Record(s) to be loaded: "+o?.recordsToBeLoaded+", ignored: "+o?.ignoreCount,this.totalRecords=o?.recordsToBeLoaded+o?.ignoreCount,o.errorCount===0&&o.recordsToBeLoaded>0?this.isUploadDisabled=!1:(this.completeMassUploadResponse=o,this.showMassUploadFeedback(this.completeMassUploadResponse)))}}})}upload(){return Zt(this,null,function*(){if(this.file)try{this.isUploadDisabled=!0,this.isUploading=!0,this.completeMassUploadResponse=yield this.load(this.file),this.completeMassUploadResponse&&this.showMassUploadFeedback(this.completeMassUploadResponse)}finally{this.isUploadDisabled=!1,this.isUploading=!1}})}resetFields(){this.elementRef.nativeElement.value="",this.verifyError="",this.uploadError="",this.file=void 0,this.fileName=void 0,this.fileSize=void 0,this.fileDateModified=void 0,this.recordsMetaData=void 0,this.isUploadDisabled=!0,this.isUploading=!1,this.resetResults()}resetResults(){this.completeMassUploadResponse=null,this.progressBarValue=0,this.successCount=0,this.errorCount=0,this.ignoreCount=0,this.errors=[],this.unuploadedObjects=[]}hasDelimiter(e){return e.indexOf(";;")>-1&&e.split(";;")[0]!=null}downloadMassUploadResults(){!this.completeMassUploadResponse||!this.file||this.massUploadService.downloadResults(this.file,this.completeMassUploadResponse,this.selectedMassUpload?.type??"").subscribe({next:e=>{let i="mass-upload-result.xlsx",n=window.URL.createObjectURL(e),o=document.createElement("a");o.href=n,o.download=i,o.click(),window.URL.revokeObjectURL(n)},error:()=>{at.displayServerErrorMsg(this.snackBar,"Failed to download mass upload results")}})}verify(e){return Zt(this,null,function*(){this.isLoadingResults=!0;let i=null;if(e!==void 0)try{i=yield Yn(this.massUploadService.verify(e,this.selectedMassUpload?.type??"")),this.verifyError=""}catch(n){n instanceof ir&&(n.url?n.status===403?this.verifyError=`You are not authorized to use mass upload ${this.selectedMassUpload?.massUploadName}`:n.status===500?this.verifyError="Something went wrong trying to process the request. Try again.":this.verifyError=n.error:this.verifyError=`Could not find the file ${e.name}.'+
            ' Possible causes: the file might have been moved or renamed.`)}finally{this.isLoadingResults=!1}return i})}load(e){return Zt(this,null,function*(){let i=null;if(e!==void 0){this.isLoadingResults=!0,this.uploadError="";try{i=yield Yn(this.massUploadService.load(e,this.sendEmail,this.selectedMassUpload?.type??""))}catch(n){n instanceof ir?n.url?n.status===500?this.uploadError="Something went wrong trying to process the request. Try again.":this.uploadError=n.message:this.uploadError=`Could not find the file ${this.file?.name}.'+ ' Possible causes: the file might have been moved or renamed.`:this.uploadError="Unknown error occurred"}finally{this.isLoadingResults=!1}}return i})}showMassUploadFeedback(e){this.successCount=e.successCount,this.errorCount=e.errorCount,this.ignoreCount=e.ignoreCount,e.errorMessages.forEach(i=>{this.errors.push(new Sr(this.getRowNumber(i),this.getErrorMessage(i)))}),e.warningMessages.forEach(i=>{this.errors.push(new Sr(this.getRowNumber(i),this.getErrorMessage(i)))}),e.excludedFromUploadList.forEach(i=>{this.unuploadedObjects.push(new Sr(this.getRowNumber(i),this.getErrorMessage(i)))})}getRowNumber(e){return this.hasDelimiter(e)?+e.split(";;")[0]:-1}getErrorMessage(e){return this.hasDelimiter(e)?e.split(";;")[1]:e}static{this.\u0275fac=function(i){return new(i||r)(O(Ke),O(Pu),O(We),O(Ge),O(xt))}}static{this.\u0275cmp=de({type:r,selectors:[["app-mass-upload"]],viewQuery:function(i,n){if(i&1&&ra(sb,5),i&2){let o;ia(o=na())&&(n.elementRef=o.first)}},standalone:!1,decls:52,vars:19,consts:[["fileUpload",""],["uploadField",""],["withExcelRowNumberBlock",""],["noExcelRowNumberBlock",""],["withExcelRowNumberNotUploadedBlock",""],["noExcelRowNumberNotUploadedBlock",""],[1,"flex","h-full","gap-4","p-4"],[1,"w-2/5"],[1,"mb-4"],[1,"!flex","flex-col","gap-4","overflow-auto"],["class","w-full","subscriptSizing","dynamic",4,"ngIf"],[1,"flex","items-center","gap-2"],["color","accent","download","","mat-mini-fab","",3,"disabled","href","matTooltip"],[1,"font-medium"],[4,"ngIf"],[1,"flex","flex-col","items-start","gap-4"],["color","primary","mat-raised-button","",3,"click","disabled"],["accept",".xlsx,.xlsm","hidden","","name","file-field","type","file",1,"file:",3,"change","click","disabled"],["class","text-red-500",4,"ngIf"],[1,"mb-2","text-2xl"],[1,"grid","grid-cols-[auto_1fr]","gap-x-3"],[1,"flex","items-center","gap-4"],[1,"-ml-3",3,"ngModelChange","ngModel"],["color","primary","mat-mini-fab","","matTooltip","Upload file",3,"click","disabled"],["class","w-3/5",4,"ngIf"],["subscriptSizing","dynamic",1,"w-full"],[3,"selectionChange","ngModelChange","ngModel"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-red-500"],["mode","determinate",1,"mt-4",3,"value"],[1,"w-3/5"],[1,"mb-4","flex","justify-between"],["color","accent","mat-mini-fab","","matTooltip","Download mass upload results",3,"click"],[1,"!flex","flex-col","overflow-auto"],[1,"mb-4","flex","gap-4"],[1,"text-prod-accent"],[1,"text-orange-400"],[1,"overflow-auto"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"flex"],[1,"min-w-28","font-medium"]],template:function(i,n){if(i&1){let o=me();u(0,"div",6)(1,"mat-card",7)(2,"mat-card-header",8)(3,"mat-card-title"),y(4,"Mass Upload"),p()(),u(5,"mat-card-content",9),z(6,mb,5,2,"mat-form-field",10),u(7,"div",11)(8,"a",12)(9,"mat-icon"),y(10,"download"),p()(),u(11,"h2",13),y(12,"Download template"),p(),z(13,cb,3,4,"p",14),p(),u(14,"div",15)(15,"div",null,0)(17,"button",16),W("click",function(){X(o);let a=te(20);return J(a.click())}),y(18," Choose file "),p()(),u(19,"input",17,1),W("change",function(a){return X(o),J(n.setFile(a))})("click",function(){return X(o),J(n.elementRef.nativeElement.value=null)}),p(),z(21,db,2,1,"div",18),p(),u(22,"div")(23,"h2",19),y(24,"Meta data"),p(),u(25,"div",20)(26,"div"),y(27,"File name"),p(),u(28,"div"),y(29),p(),u(30,"div"),y(31,"Size"),p(),u(32,"div"),y(33),p(),u(34,"div"),y(35,"Date modified"),p(),u(36,"div"),y(37),p(),u(38,"div"),y(39,"Records"),p(),u(40,"div"),y(41),p()()(),u(42,"div",21)(43,"mat-checkbox",22),st("ngModelChange",function(a){return X(o),ot(n.sendEmail,a)||(n.sendEmail=a),J(a)}),y(44," Send mass upload results by email "),p(),u(45,"button",23),W("click",function(){return X(o),J(n.upload())}),u(46,"mat-icon"),y(47,"upload"),p()()(),z(48,ub,2,1,"div",18)(49,pb,4,1,"div",14),p()(),z(50,Eb,20,6,"mat-card",24)(51,Sb,1,0,"app-spinner",14),p()}i&2&&(g(6),x("ngIf",n.massUploadsByCategory),g(2),rr("matTooltip","Download template '",n.selectedMassUpload==null?null:n.selectedMassUpload.massUploadName,"'"),x("disabled",(n.selectedMassUpload==null?null:n.selectedMassUpload.massUploadName)===void 0)("href",n.downloadTemplateUrl,tr),g(5),x("ngIf",n.selectedMassUpload==null?null:n.selectedMassUpload.massUploadName),g(4),x("disabled",n.isChooseFileDisabled),g(2),x("disabled",n.isChooseFileDisabled),g(2),x("ngIf",n.verifyError),g(8),oe(n.fileName),g(4),oe(n.fileSize),g(4),oe(n.fileDateModified),g(4),oe(n.recordsMetaData),g(2),nt("ngModel",n.sendEmail),g(2),x("disabled",n.isUploadDisabled),g(3),x("ngIf",n.uploadError),g(),x("ngIf",n.isUploading),g(),x("ngIf",n.completeMassUploadResponse),g(),x("ngIf",n.isLoadingResults))},dependencies:[bt,Le,$r,Wr,St,Tt,xe,La,ka,Gr,Kr,Rl,Pl,Ol,ei,Vl,ql,Hl,Ct,Kl,li,ca],encapsulation:2})}}return r})(),Sr=class{constructor(t,e){this.excelRowNumber=t,this.message=e}};var Tb={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},Mb={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gu={date:si({formats:Tb,defaultWidth:"full"}),time:si({formats:Mb,defaultWidth:"full"}),dateTime:si({formats:Cb,defaultWidth:"full"})};var Yu={code:"en-GB",formatDistance:Jl,formatLong:Gu,formatRelative:em,localize:tm,match:rm,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Qu={parse:{dateInput:"yyyy-MM-dd"},display:{dateInput:"yyyy-MM-dd",monthYearLabel:"MMMM yyyy",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM yyyy"}};var Ib=window.location.protocol=="https:"?"wss://":"ws://",Db=window.location.port=="4200"||window.location.port=="8080"?":8080":"",Zu={brokerURL:Ib+window.location.hostname+Db+"/socket",heartbeatIncoming:0,heartbeatOutgoing:2e3,reconnectDelay:500};function Xu(){let r=new It;return r.configure(Zu),r.activate(),r}var Ju=(()=>{class r{constructor(e){this.snackBar=e}intercept(e,i){return i.handle(e).pipe(Ir(n=>(n instanceof ir&&n.status===0&&at.displayErrorMsg(this.snackBar,"There seems to be a connection issue, please check your network and refresh this page."),Ps(()=>n))))}static{this.\u0275fac=function(i){return new(i||r)(j(Ke))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();var ep=(()=>{class r{intercept(e,i){let n=e.clone({withCredentials:!0});return i.handle(n)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();var Mr="PERFORM_ACTION",Ab="REFRESH",sp="RESET",ap="ROLLBACK",lp="COMMIT",mp="SWEEP",cp="TOGGLE_ACTION",Nb="SET_ACTIONS_ACTIVE",dp="JUMP_TO_STATE",up="JUMP_TO_ACTION",bs="IMPORT_STATE",pp="LOCK_CHANGES",fp="PAUSE_RECORDING",Yt=class{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=Mr,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},as=class{constructor(){this.type=Ab}},ls=class{constructor(t){this.timestamp=t,this.type=sp}},ms=class{constructor(t){this.timestamp=t,this.type=ap}},cs=class{constructor(t){this.timestamp=t,this.type=lp}},ds=class{constructor(){this.type=mp}},us=class{constructor(t){this.id=t,this.type=cp}};var ps=class{constructor(t){this.index=t,this.type=dp}},fs=class{constructor(t){this.actionId=t,this.type=up}},hs=class{constructor(t){this.nextLiftedState=t,this.type=bs}},gs=class{constructor(t){this.status=t,this.type=pp}},ys=class{constructor(t){this.status=t,this.type=fp}};var Vn=new Jt("@ngrx/store-devtools Options"),tp=new Jt("@ngrx/store-devtools Initial Config");function hp(){return null}var Ob="NgRx Store DevTools";function Pb(r){let t={maxAge:!1,monitor:hp,actionSanitizer:void 0,stateSanitizer:void 0,name:Ob,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof r=="function"?r():r,i=e.logOnly?{pause:!0,export:!0,test:!0}:!1,n=e.features||i||t.features;n.import===!0&&(n.import="custom");let o=Object.assign({},t,{features:n},e);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function rp(r,t){return r.filter(e=>t.indexOf(e)<0)}function gp(r){let{computedStates:t,currentStateIndex:e}=r;if(e>=t.length){let{state:n}=t[t.length-1];return n}let{state:i}=t[e];return i}function Tr(r){return new Yt(r,+Date.now())}function Rb(r,t){return Object.keys(t).reduce((e,i)=>{let n=Number(i);return e[n]=yp(r,t[n],n),e},{})}function yp(r,t,e){return Qt(Ce({},t),{action:r(t.action,e)})}function kb(r,t){return t.map((e,i)=>({state:_p(r,e.state,i),error:e.error}))}function _p(r,t,e){return r(t,e)}function bp(r){return r.predicate||r.actionsSafelist||r.actionsBlocklist}function Lb(r,t,e,i){let n=[],o={},s=[];return r.stagedActionIds.forEach((a,m)=>{let l=r.actionsById[a];l&&(m&&vs(r.computedStates[m],l,t,e,i)||(o[a]=l,n.push(a),s.push(r.computedStates[m])))}),Qt(Ce({},r),{stagedActionIds:n,actionsById:o,computedStates:s})}function vs(r,t,e,i,n){let o=e&&!e(r,t.action),s=i&&!t.action.type.match(i.map(m=>ip(m)).join("|")),a=n&&t.action.type.match(n.map(m=>ip(m)).join("|"));return o||s||a}function ip(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vp(r){return{ngZone:r?ce(ke):null,connectInZone:r}}var qn=(()=>{class r extends Ur{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ar(r)))(n||r)}})()}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})(),zn={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},_s=new Jt("@ngrx/store-devtools Redux Devtools Extension"),xp=(()=>{class r{constructor(e,i,n){this.config=i,this.dispatcher=n,this.zoneConfig=vp(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,i){if(this.devtoolsExtension)if(e.type===Mr){if(i.isLocked||i.isPaused)return;let n=gp(i);if(bp(this.config)&&vs(n,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?_p(this.config.stateSanitizer,n,i.currentStateIndex):n,s=this.config.actionSanitizer?yp(this.config.actionSanitizer,e,i.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let n=Qt(Ce({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?Rb(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?kb(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,n,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Kn(e=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(n=>e.next(n)),i.unsubscribe}):Ns}createActionStreams(){let e=this.createChangesObservable().pipe(Hs()),i=e.pipe(Re(l=>l.type===zn.START)),n=e.pipe(Re(l=>l.type===zn.STOP)),o=e.pipe(Re(l=>l.type===zn.DISPATCH),it(l=>this.unwrapAction(l.payload)),Fs(l=>l.type===bs?this.dispatcher.pipe(Re(h=>h.type===Jn),Rs(1e3),Us(1e3),it(()=>l),Ir(()=>Gn(l)),Bs(1)):Gn(l))),a=e.pipe(Re(l=>l.type===zn.ACTION),it(l=>this.unwrapAction(l.payload))).pipe(Dr(n)),m=o.pipe(Dr(n));this.start$=i.pipe(Dr(n)),this.actions$=this.start$.pipe(Qn(()=>a)),this.liftedActions$=this.start$.pipe(Qn(()=>m))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let i={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(i.maxAge=e.maxAge),i}sendToReduxDevtools(e){try{e()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static{this.\u0275fac=function(i){return new(i||r)(j(_s),j(Vn),j(qn))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})(),Hn={type:Xn},Fb="@ngrx/store-devtools/recompute",Ub={type:Fb};function wp(r,t,e,i,n){if(i)return{state:e,error:"Interrupted by an error up the chain"};let o=e,s;try{o=r(e,t)}catch(a){s=a.toString(),n.handleError(a)}return{state:o,error:s}}function jn(r,t,e,i,n,o,s,a,m){if(t>=r.length&&r.length===o.length)return r;let l=r.slice(0,t),h=o.length-(m?1:0);for(let c=t;c<h;c++){let _=o[c],b=n[_].action,f=l[c-1],d=f?f.state:i,v=f?f.error:void 0,I=s.indexOf(_)>-1?f:wp(e,b,d,v,a);l.push(I)}return m&&l.push(r[r.length-1]),l}function Bb(r,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Tr(Hn)},stagedActionIds:[0],skippedActionIds:[],committedState:r,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function zb(r,t,e,i,n={}){return o=>(s,a)=>{let{monitorState:m,actionsById:l,nextActionId:h,stagedActionIds:c,skippedActionIds:_,committedState:b,currentStateIndex:f,computedStates:d,isLocked:v,isPaused:S}=s||t;s||(l=Object.create(l));function I(N){let F=N,Y=c.slice(1,F+1);for(let q=0;q<Y.length;q++)if(d[q+1].error){F=q,Y=c.slice(1,F+1);break}else delete l[Y[q]];_=_.filter(q=>Y.indexOf(q)===-1),c=[0,...c.slice(F+1)],b=d[F].state,d=d.slice(F),f=f>F?f-F:0}function R(){l={0:Tr(Hn)},h=1,c=[0],_=[],b=d[f].state,f=0,d=[]}let M=0;switch(a.type){case pp:{v=a.status,M=1/0;break}case fp:{S=a.status,S?(c=[...c,h],l[h]=new Yt({type:"@ngrx/devtools/pause"},+Date.now()),h++,M=c.length-1,d=d.concat(d[d.length-1]),f===c.length-2&&f++,M=1/0):R();break}case sp:{l={0:Tr(Hn)},h=1,c=[0],_=[],b=r,f=0,d=[];break}case lp:{R();break}case ap:{l={0:Tr(Hn)},h=1,c=[0],_=[],f=0,d=[];break}case cp:{let{id:N}=a;_.indexOf(N)===-1?_=[N,..._]:_=_.filter(Y=>Y!==N),M=c.indexOf(N);break}case Nb:{let{start:N,end:F,active:Y}=a,q=[];for(let Me=N;Me<F;Me++)q.push(Me);Y?_=rp(_,q):_=[..._,...q],M=c.indexOf(N);break}case dp:{f=a.index,M=1/0;break}case up:{let N=c.indexOf(a.actionId);N!==-1&&(f=N),M=1/0;break}case mp:{c=rp(c,_),_=[],f=Math.min(f,c.length-1);break}case Mr:{if(v)return s||t;if(S||s&&vs(s.computedStates[f],a,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let F=d[d.length-1];d=[...d.slice(0,-1),wp(o,a.action,F.state,F.error,e)],M=1/0;break}n.maxAge&&c.length===n.maxAge&&I(1),f===c.length-1&&f++;let N=h++;l[N]=a,c=[...c,N],M=c.length-1;break}case bs:{({monitorState:m,actionsById:l,nextActionId:h,stagedActionIds:c,skippedActionIds:_,committedState:b,currentStateIndex:f,computedStates:d,isLocked:v,isPaused:S}=a.nextLiftedState);break}case Xn:{M=0,n.maxAge&&c.length>n.maxAge&&(d=jn(d,M,o,b,l,c,_,e,S),I(c.length-n.maxAge),M=1/0);break}case Jn:{if(d.filter(F=>F.error).length>0)M=0,n.maxAge&&c.length>n.maxAge&&(d=jn(d,M,o,b,l,c,_,e,S),I(c.length-n.maxAge),M=1/0);else{if(!S&&!v){f===c.length-1&&f++;let F=h++;l[F]=new Yt(a,+Date.now()),c=[...c,F],M=c.length-1,d=jn(d,M,o,b,l,c,_,e,S)}d=d.map(F=>Qt(Ce({},F),{state:o(F.state,Ub)})),f=c.length-1,n.maxAge&&c.length>n.maxAge&&I(c.length-n.maxAge),M=1/0}break}default:{M=1/0;break}}return d=jn(d,M,o,b,l,c,_,e,S),m=i(m,a),{monitorState:m,actionsById:l,nextActionId:h,stagedActionIds:c,skippedActionIds:_,committedState:b,currentStateIndex:f,computedStates:d,isLocked:v,isPaused:S}}}var np=(()=>{class r{constructor(e,i,n,o,s,a,m,l){let h=Bb(m,l.monitor),c=zb(m,h,a,l.monitor,l),_=Xt(Xt(i.asObservable().pipe(Vs(1)),o.actions$).pipe(it(Tr)),e,o.liftedActions$).pipe(Os(As)),b=n.pipe(it(c)),f=vp(l.connectInZone),d=new Ds(1);this.liftedStateSubscription=_.pipe($s(b),op(f),js(({state:I},[R,M])=>{let N=M(I,R);return R.type!==Mr&&bp(l)&&(N=Lb(N,l.predicate,l.actionsSafelist,l.actionsBlocklist)),o.notify(R,N),{state:N,action:R}},{state:h,action:null})).subscribe(({state:I,action:R})=>{if(d.next(I),R.type===Mr){let M=R.action;s.next(M)}}),this.extensionStartSubscription=o.start$.pipe(op(f)).subscribe(()=>{this.refresh()});let v=d.asObservable(),S=v.pipe(it(gp));Object.defineProperty(S,"state",{value:va(S,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=v,this.state=S}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new Yt(e,+Date.now()))}refresh(){this.dispatch(new as)}reset(){this.dispatch(new ls(+Date.now()))}rollback(){this.dispatch(new ms(+Date.now()))}commit(){this.dispatch(new cs(+Date.now()))}sweep(){this.dispatch(new ds)}toggleAction(e){this.dispatch(new us(e))}jumpToAction(e){this.dispatch(new fs(e))}jumpToState(e){this.dispatch(new ps(e))}importState(e){this.dispatch(new hs(e))}lockChanges(e){this.dispatch(new gs(e))}pauseRecording(e){this.dispatch(new ys(e))}static{this.\u0275fac=function(i){return new(i||r)(j(qn),j(Ur),j(wa),j(xp),j(Sa),j(Ks),j(xa),j(Vn))}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();function op({ngZone:r,connectInZone:t}){return e=>t?new Kn(i=>e.subscribe({next:n=>r.run(()=>i.next(n)),error:n=>r.run(()=>i.error(n)),complete:()=>r.run(()=>i.complete())})):e}var jb=new Jt("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Hb(r,t){return!!r||t.monitor!==hp}function Vb(){let r="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[r]<"u"?window[r]:null}function qb(r){return r.state}function $b(r={}){return Ws([xp,qn,np,{provide:tp,useValue:r},{provide:jb,deps:[_s,Vn],useFactory:Hb},{provide:_s,useFactory:Vb},{provide:Vn,deps:[tp],useFactory:Pb},{provide:Ta,deps:[np],useFactory:qb},{provide:Ea,useExisting:qn}])}var Ep=(()=>{class r{static instrument(e={}){return{ngModule:r,providers:[$b(e)]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=_e({type:r})}static{this.\u0275inj=ye({})}}return r})();function xs(r,t){let e=Array(r);for(let i=0;i<r;i++)e[i]=t(i);return e}var Wb={long:"LLLL",short:"LLL",narrow:"LLLLL"},Kb={long:"EEEE",short:"EEE",narrow:"EEEEE"},Sp=(()=>{class r extends Xr{constructor(){super();let e=ce(nr,{optional:!0});this.setLocale(e)}getYear(e){return hm(e)}getMonth(e){return fm(e)}getDate(e){return mm(e)}getDayOfWeek(e){return cm(e)}getMonthNames(e){let i=Wb[e];return xs(12,n=>this.format(new Date(2017,n,1),i))}getDateNames(){let e=typeof Intl<"u"?new Intl.DateTimeFormat(this.locale.code,{day:"numeric",timeZone:"utc"}):null;return xs(31,i=>{if(e){let n=new Date;return n.setUTCFullYear(2017,0,i+1),n.setUTCHours(0,0,0,0),e.format(n).replace(/[\u200e\u200f]/g,"")}return i+""})}getDayOfWeekNames(e){let i=Kb[e];return xs(7,n=>this.format(new Date(2017,0,n+1),i))}getYearName(e){return this.format(e,"y")}getFirstDayOfWeek(){return this.locale.options?.weekStartsOn??0}getNumDaysInMonth(e){return dm(e)}clone(e){return new Date(e.getTime())}createDate(e,i,n){let o=new Date;return o.setFullYear(e,i,n),o.setHours(0,0,0,0),o.getMonth()!=i,o}today(){return new Date}parse(e,i){if(typeof e=="string"&&e.length>0){let n=ss(e);if(this.isValid(n))return n;let o=Array.isArray(i)?i:[i];if(!i.length)throw Error("Formats array must not be empty.");for(let s of o){let a=qu(e,s,new Date,{locale:this.locale});if(this.isValid(a))return a}return this.invalid()}else{if(typeof e=="number")return new Date(e);if(e instanceof Date)return this.clone(e)}return null}format(e,i){if(!this.isValid(e))throw Error("DateFnsAdapter: Cannot format invalid date.");return ai(e,i,{locale:this.locale})}addCalendarYears(e,i){return Ru(e,i)}addCalendarMonths(e,i){return ri(e,i)}addCalendarDays(e,i){return Dt(e,i)}toIso8601(e){return ku(e,{representation:"date"})}deserialize(e){if(typeof e=="string"){if(!e)return null;let i=ss(e);if(this.isValid(i))return i}return super.deserialize(e)}isDateInstance(e){return Zl(e)}isValid(e){return Xl(e)}invalid(){return new Date(NaN)}setTime(e,i,n,o){return Wu(this.clone(e),{hours:i,minutes:n,seconds:o,milliseconds:0})}getHours(e){return um(e)}getMinutes(e){return pm(e)}getSeconds(e){return Uu(e)}parseTime(e,i){return this.parse(e,i)}addSeconds(e,i){return Ql(e,i)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=$({token:r,factory:r.\u0275fac})}return r})();var Tp=(()=>{class r{intercept(e,i){if(e.body instanceof FormData)return i.handle(e);let n=e.clone({body:this.serializeDates(e.body)});return i.handle(n)}serializeDates(e){if(!e)return e;if(e instanceof Date)return this.formatDate(e);if(Array.isArray(e))return e.map(i=>this.serializeDates(i));if(typeof e=="object"){let i=Ce({},e);return Object.keys(i).forEach(n=>{n!=="lastUpdated"&&(i[n]=this.serializeDates(i[n]))}),i}return e}formatDate(e){let i=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return`${i}-${n}-${o}`}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=$({token:r,factory:r.\u0275fac})}}return r})();var Gb=[{path:"",component:Rd},{path:"mass-upload",component:Ku},{path:"admin",loadChildren:()=>import("./chunk-FZ6K5T6Y.js").then(r=>r.AdminModule)},{path:"settings",loadChildren:()=>import("./chunk-FBDQIFGN.js").then(r=>r.SettingsModule)},{path:"profile",loadChildren:()=>import("./chunk-WN6DOYQT.js").then(r=>r.ProfileModule)},{path:"landingai",loadChildren:()=>import("./chunk-C3DIXX5Q.js").then(r=>r.LandingAIModule)},{path:"labeling",loadChildren:()=>import("./chunk-2SO3AGLZ.js").then(r=>r.LabellingModule)}],Mp=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=_e({type:r,bootstrap:[Pd]})}static{this.\u0275inj=ye({providers:[vt,ll,pl,yl,bl,dl,xl,wl,$e,V,Ge,We,jl,Nt,Jr,ym,{provide:wt,useValue:{}},{provide:Xr,useClass:Sp,deps:[nr]},{provide:no,useValue:Qu},{provide:nr,useValue:Yu},{provide:It,useFactory:Xu},{provide:kr,useClass:ep,multi:!0},{provide:kr,useClass:Ju,multi:!0},{provide:kr,useClass:Tp,multi:!0}],imports:[ua,Xa,Ja,sl.forRoot(Gb,{enableTracing:!1}),Rr,_a,Ha,Om.forRoot(),Ua,Ou,_m,bm,$a,Fa,Ad,rl,el,kl,zl,Wa,$l,Ka,ja,Gl,Ba,Ll,Al,Qa,Nl,li,qa,Ma.forRoot(Ml),al.forRoot([cl,fl,_l,vl,ul,El,Il,Dl,Sl,Tl]),Fr.production?[]:Ep.instrument({maxAge:25})]})}}return r})();Fr.production&&void 0;ga().bootstrapModule(Mp).catch(r=>console.log(r));
